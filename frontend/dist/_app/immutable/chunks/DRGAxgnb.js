import{c}from"./lbPixqMI.js";import{g as s}from"./DtJFryUL.js";const i=[],p=()=>{if(typeof localStorage>"u"||localStorage.getItem("continuum_owner_property_items"))return i;const a=localStorage.getItem("continuum_property_items");if(a)try{const o=JSON.parse(a);return Array.isArray(o)?o:i}catch{}return i};function d(){const n=c("property_items",p()),{subscribe:a,update:o}=n;return{subscribe:a,addItem:e=>{const t={...e,id:crypto.randomUUID()};return o(r=>[...r,t]),t},updateItem:(e,t)=>{o(r=>r.map(u=>u.id===e?{...u,...t}:u))},deleteItem:e=>{o(t=>t.filter(r=>r.id!==e))},getItem:e=>s(n).find(t=>t.id===e),getTotalValuation:()=>s(n).reduce((e,t)=>e+t.valuation,0),getValuationByType:()=>s(n).reduce((t,r)=>(t[r.type]=(t[r.type]||0)+r.valuation,t),{})}}const y=d();export{y as p};
