import{w as g}from"./DtJFryUL.js";import{g as m}from"./lbPixqMI.js";const h=[{id:"financial",name:"Financial Accounts",category:"assets",storageKey:"assets_financial-accounts",check:e=>{if(!e||e.length===0)return{score:0,maxScore:100,issues:["No financial accounts listed"]};let s=20;const t=e.filter(o=>o.beneficiaries?.length>0).length;s+=t/e.length*40;const i=e.filter(o=>o.value>0).length;return s+=i/e.length*40,{score:Math.round(s),maxScore:100,issues:t<e.length?[`${e.length-t} accounts missing beneficiaries`]:[]}}},{id:"legal",name:"Legal Documents",category:"legal",storageKey:"docs_legal-documents",check:e=>{if(!e||e.length===0)return{score:0,maxScore:100,issues:["Critical Legal Vault empty"]};let s=0;const t=e.some(c=>c.type==="Will"||c.title?.toLowerCase().includes("will")),i=e.some(c=>c.type==="Trust"||c.title?.toLowerCase().includes("trust")),o=e.some(c=>c.type==="Power of Attorney");t&&(s+=40),i&&(s+=30),o&&(s+=30);const r=[];return t||r.push("Missing Last Will & Testament"),{score:s,maxScore:100,issues:r}}},{id:"digital",name:"Digital Guardian",category:"logistics",storageKey:"digital_guardian",check:e=>{if(!e)return{score:0,maxScore:50,issues:["Digital Estate not configured"]};let s=0;e.apple&&(s+=10),e.google&&(s+=10),e.passwordManager&&(s+=30);const t=[];return e.passwordManager||t.push("Executor Locked Out (No Password Manager Access)"),!e.apple&&!e.google&&t.push("Phone/Email access at risk"),{score:s,maxScore:50,issues:t}}},{id:"insurance",name:"Insurance Policies",category:"assets",storageKey:"insurance_policies",check:e=>!e||e.length===0?{score:0,maxScore:50,issues:["No insurance policies listed"]}:{score:50,maxScore:50,issues:[]}},{id:"subscriptions",name:"Subscriptions",category:"logistics",storageKey:"subscriptions",check:e=>!e||e.length===0?{score:0,maxScore:30,issues:[]}:{score:30,maxScore:30,issues:[]}},{id:"family",name:"Family Contacts",category:"wisdom",storageKey:"contacts_contacts",check:e=>!e||e.length===0?{score:0,maxScore:50,issues:["No family contacts listed"]}:{score:50,maxScore:50,issues:[]}}];function f(){const{subscribe:e,set:s,update:t}=g({totalScore:0,maxTotalScore:0,percentage:0,moduleScores:{},issues:[],zombieData:[]});return{subscribe:e,runAudit:()=>{let i=0,o=0;const r={},c=[];h.forEach(a=>{const l=m(a.storageKey,null),n=a.check(l);r[a.id]=n.score,i+=n.score,o+=n.maxScore,n.issues.length>0&&c.push(...n.issues.map(u=>`[${a.name}] ${u}`))}),s({totalScore:i,maxTotalScore:o,percentage:o>0?Math.round(i/o*100):0,moduleScores:r,issues:c,zombieData:[]})}}}const y=f();export{y as e};
