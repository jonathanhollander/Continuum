import{c as Ie,a as p,f as _,e as L,t as Ue}from"./CI19bRDX.js";import{i as ot}from"./CeYVVThO.js";import{o as rt}from"./Cc88vFxA.js";import{f as Q,p as it,l as nt,b as st,a as lt,g as e,m as ae,s as r,c as i,d as b,r as n,n as $,u as C,t as oe,i as dt,j as ct,k}from"./CC-cBgEA.js";import{s as re}from"./DtWQG8q5.js";import{i as N}from"./oYNvDJv2.js";import{I as ut,s as vt,e as pt,t as fe}from"./B0hQvWV2.js";import{c as ft}from"./Dp8rxJLH.js";import{a as mt,s as gt,r as S,d as bt}from"./CPE7ojsi.js";import{b as U}from"./DubRPcAg.js";import{l as _t,b as yt,p as xt,s as ht,a as Ve}from"./BHjHH8n1.js";import{E as wt}from"./BMbyy01g.js";import{u as At}from"./L308DWXy.js";import{e as Ct}from"./Bej7o0Ow.js";import{a as me}from"./C-p41Btd.js";import{s as ze,b as Nt}from"./B37JQBsy.js";import{g as kt,s as Pt}from"./lbPixqMI.js";import{M as Et}from"./D4GBQ82i.js";import{T as Te}from"./EsZUiUJI.js";import{I as $t}from"./Dw_I2flE.js";import{P as Ut}from"./BI2CPFpn.js";import{T as Vt}from"./BtEVtpAO.js";import{D as zt}from"./DCYAEqnx.js";import{W as Tt}from"./BTJqKgdV.js";import{C as It}from"./RHkstLRK.js";import{B as Mt}from"./CxgHKW0q.js";import{H as Ft}from"./5vwFW8av.js";import{S as ge}from"./DI7ds4rN.js";import{P as Bt}from"./3NDLYjDg.js";function Ht(ie,D){const h=_t(D,["children","$$slots","$$events","$$legacy"]);const P=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z"}],["path",{d:"M20.054 15.987H3.946"}]];ut(ie,yt({name:"laptop"},()=>h,{get iconNode(){return P},children:(X,be)=>{var V=Ie(),z=Q(V);vt(z,D,"default",{}),p(X,V)},$$slots:{default:!0}}))}var Lt=_(`<div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r shadow-sm flex items-start gap-3"><!> <div><h4 class="font-bold text-blue-900 text-sm">Executor View Active</h4> <p class="text-blue-700 text-xs mt-1">You have full access to view and manage assets. Ensure all
                    valuations are up to date for probate filing.</p></div></div>`),St=_('<div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Login URL</label> <input type="text" placeholder="https://..." class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"/></div>'),Dt=_("<!> Update Asset",1),jt=_("<!> Add Asset",1),Rt=_('<div class="bg-white rounded-xl shadow-lg border border-[#4A7C74]/20 p-6 relative overflow-hidden"><div class="absolute top-0 right-0 p-4 opacity-10 pointer-events-none"><!></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10"><div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Asset Name</label> <input type="text" placeholder="e.g. Chase Checking, Tesla Model Y" class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"/></div> <div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Type</label> <select class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"><option>Financial</option><option>Property</option><option>Vehicle</option><option>Business</option><option>Digital</option><option>Other</option></select></div> <div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Estimated Value</label> <div class="relative"><span class="absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground">$</span> <input type="number" class="w-full p-2 pl-7 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"/></div></div> <div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Location / Institution</label> <input placeholder="e.g. 123 Main St, Wallet" class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"/></div> <!> <div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Beneficiary Name</label> <input type="text" placeholder="Who inherits this?" class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"/></div> <div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Beneficiary Email</label> <input type="text" placeholder="Contact for beneficiary..." class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"/></div> <div class="col-span-full space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Closure / Transfer Notes</label> <textarea placeholder="Instructions for the Executor on how to find/close/transfer this..." class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all h-20 resize-none"></textarea></div></div> <div class="flex justify-end gap-3 mt-6 relative z-10"><button class="px-4 py-2 rounded-lg hover:bg-muted transition-colors text-sm font-semibold">Cancel</button> <button class="px-6 py-2 rounded-lg bg-[#4A7C74] hover:bg-[#3b635d] text-white font-bold shadow-md hover:shadow-lg transition-all flex items-center gap-2"><!></button></div></div>'),Ot=_('<div class="font-bold text-lg text-foreground"> </div>'),Wt=_('<div class="font-bold text-lg text-muted-foreground blur-sm select-none" title="Visible only to Owner type">$•••,•••</div>'),Gt=_('<div class="group bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all border border-transparent hover:border-[#4A7C74]/20 relative overflow-hidden"><div class="absolute top-2 right-2 flex gap-1 z-20 opacity-0 group-hover:opacity-100 transition-opacity"><button class="p-2 bg-white/80 rounded-full text-blue-400 hover:text-blue-600 hover:bg-blue-50" title="Edit Asset"><!></button> <button class="p-2 bg-white/80 rounded-full text-red-400 hover:text-red-600 hover:bg-red-50" title="Delete Asset"><!></button></div> <div></div> <div class="flex justify-between items-start relative z-10"><div class="p-3 rounded-xl bg-secondary/30 text-[#4A7C74] group-hover:scale-110 transition-transform duration-300"><!></div> <div class="text-right"><!> <div class="flex items-center justify-end gap-1 text-xs text-emerald-600 font-medium"><!> <span>+2.4%</span></div></div></div> <div class="mt-4 relative z-10"><h3 class="font-bold text-lg leading-tight"> </h3> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div class="mt-4 h-8 w-full opacity-25"><svg viewBox="0 0 100 30" class="w-full h-full stroke-[#4A7C74] fill-none stroke-2" preserveAspectRatio="none"><polyline></polyline></svg></div></div>'),Yt=_('<button class="text-sm font-bold text-[#4A7C74] hover:bg-[#4A7C74]/5 px-4 py-2 rounded-lg transition-colors flex items-center gap-2"><!> Or use the Starter Pack</button>'),Kt=_('<!> <div class="flex justify-center mt-4"><!></div>',1),qt=_('<div class="space-y-8 animate-in fade-in duration-500"><div class="flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-gray-200 pb-6"><div><h2 class="text-sm font-bold uppercase tracking-wider text-gray-500 mb-1">Total Estate Value</h2> <div class="text-4xl font-serif font-bold text-[#304743]"><!></div></div> <div class="flex gap-3"><a href="https://unclaimed.org/" target="_blank" class="px-4 py-2 rounded-lg border border-dashed border-[#4A7C74] text-[#4A7C74] text-sm font-bold hover:bg-[#4A7C74]/5 transition-colors flex items-center gap-2"><!> Treasure Hunt</a> <button class="px-4 py-2 rounded-lg bg-gray-100 text-gray-600 text-sm font-bold hover:bg-gray-200 transition-colors flex items-center gap-2"><!> Export CSV</button></div></div> <!>  <!> <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"><!> <!></div></div>');function Na(ie,D){it(D,!1);const h=()=>Ve(Ct,"$estateProfile",X),P=()=>Ve(At,"$userRole",X),[X,be]=ht(),V=ae();let z=xt(D,"module",8),u=ae([]),Z=ae(!1),t=ae({name:"",type:"Financial",value:0,location:"",accountNumber:"",ownershipPercentage:100,beneficiaries:"",notes:"",valueHistory:[],loginUrl:"",beneficiaryEmail:"",closureNotes:""});const _e=`assets_${z().id}`;rt(()=>{b(u,kt(_e,[]))});function ne(){Pt(_e,e(u))}function Me(a){const o=[];let s=a*.8;for(let c=0;c<5;c++)o.push(s),s+=(a-s)*Math.random();return o.push(a),o}function Fe(){if(e(t).name){if(e(t).id){const a=e(u).find(s=>s.id===e(t).id),o=[];a&&(a.name!==e(t).name&&o.push({field:"name",oldValue:a.name,newValue:e(t).name}),a.value!==e(t).value&&o.push({field:"value",oldValue:a.value,newValue:e(t).value}),a.beneficiaries!==e(t).beneficiaries&&o.push({field:"beneficiaries",oldValue:a.beneficiaries,newValue:e(t).beneficiaries}),a.location!==e(t).location&&o.push({field:"location",oldValue:a.location,newValue:e(t).location})),b(u,e(u).map(s=>s.id===e(t).id?{...e(t),value:Number(e(t).value)||0,ownershipPercentage:Number(e(t).ownershipPercentage),valueHistory:s.valueHistory}:s)),me.logEvent({module:z().name||"Asset Manager",action:"UPDATE",entityType:"Asset",entityId:e(t).id,entityName:e(t).name||"Unnamed Asset",changes:o,userContext:h().ownerName||"User"})}else{const a=crypto.randomUUID();b(u,[...e(u),{id:a,name:e(t).name,type:e(t).type||"Other",value:Number(e(t).value)||0,location:e(t).location||"",accountNumber:e(t).accountNumber,ownershipPercentage:Number(e(t).ownershipPercentage),beneficiaries:e(t).beneficiaries||"",notes:e(t).notes||"",loginUrl:e(t).loginUrl||"",beneficiaryEmail:e(t).beneficiaryEmail||"",closureNotes:e(t).closureNotes||"",valueHistory:Me(Number(e(t).value)||0)}]),me.logEvent({module:z().name||"Asset Manager",action:"CREATE",entityType:"Asset",entityId:a,entityName:e(t).name,userContext:h().ownerName||"User"})}ne(),ye()}}function Be(a){b(t,{...a}),b(Z,!0)}function ye(){b(t,{id:void 0,name:"",type:"Financial",value:0,location:"",accountNumber:"",ownershipPercentage:100,beneficiaries:h().primaryBeneficiary||"",notes:"",valueHistory:[],loginUrl:"",beneficiaryEmail:"",closureNotes:""}),b(Z,!1)}function He(a){if(!confirm("Are you sure you want to delete this asset?"))return;const o=e(u).find(s=>s.id===a);b(u,e(u).filter(s=>s.id!==a)),ne(),o&&me.logEvent({module:z().name||"Asset Manager",action:"DELETE",entityType:"Asset",entityId:a,entityName:o.name,userContext:h().ownerName||"User"})}function Le(a){if(!a||a.length<2)return"";const o=Math.min(...a),c=Math.max(...a)-o||1,f=100,v=30;return a.map((d,y)=>{const x=y/(a.length-1)*f,w=v-(d-o)/c*v;return`${x},${w}`}).join(" ")}function Se(a){switch(a){case"Property":return Ft;case"Business":return Mt;case"Vehicle":return It;case"Digital":return Ht;case"Financial":return Tt;default:return zt}}function De(a){switch(a){case"Property":return"from-amber-600/10 to-stone-200/20";case"Business":return"from-slate-600/10 to-gray-200/20";case"Financial":return"from-emerald-600/10 to-teal-200/20";default:return"from-gray-500/10 to-slate-200/20"}}function je(){const s=[{name:"Primary Residence",type:"Property",value:0,location:h().legalAddress||h().legalCityState||"Home Address",notes:"Deed location pending"},{name:"Main Checking Account",type:"Financial",value:0,location:"Bank Name",accountNumber:"Last 4"},{name:"Life Insurance Policy",type:"Financial",value:0,location:"Provider Name",notes:"Policy # needed"},{name:"Primary Vehicle",type:"Vehicle",value:0,location:"Garage",notes:"Title location pending"}].map(c=>({id:crypto.randomUUID(),name:c.name,type:c.type,value:0,location:c.location,accountNumber:c.accountNumber||"",ownershipPercentage:100,beneficiaries:h().primaryBeneficiary||"",notes:c.notes||"",valueHistory:[],loginUrl:"",beneficiaryEmail:"",closureNotes:""}));b(u,[...e(u),...s]),ne()}function Re(){const a=["Name","Type","Value","Location","Account Number","Beneficiaries","Notes"],o=e(u).map(d=>[`"${d.name}"`,d.type,d.value,`"${d.location}"`,`"${d.accountNumber||""}"`,`"${d.beneficiaries}"`,`"${(d.notes||"").replace(/"/g,'""')}"`]),s=[a.join(","),...o.map(d=>d.join(","))].join(`
`),c=new Blob([s],{type:"text/csv;charset=utf-8;"}),f=URL.createObjectURL(c),v=document.createElement("a");v.setAttribute("href",f),v.setAttribute("download","estate_assets.csv"),document.body.appendChild(v),v.click(),document.body.removeChild(v)}nt(()=>e(u),()=>{b(V,e(u).reduce((a,o)=>a+o.value*((o.ownershipPercentage||100)/100),0))}),st(),ot();var se=qt(),le=i(se),de=i(le),xe=r(i(de),2),Oe=i(xe);{var We=a=>{var o=Ue();oe(s=>re(o,`$${s??""}`),[()=>(e(V),C(()=>e(V).toLocaleString()))]),p(a,o)},Ge=a=>{var o=Ue("$•••,•••,•••");p(a,o)};N(Oe,a=>{P()!=="Family"?a(We):a(Ge,!1)})}n(xe),n(de);var he=r(de,2),ce=i(he),Ye=i(ce);Et(Ye,{size:16}),$(),n(ce);var ue=r(ce,2),Ke=i(ue);Te(Ke,{size:16}),$(),n(ue),n(he),n(le);var we=r(le,2);{var qe=a=>{var o=Lt(),s=i(o);$t(s,{class:"text-blue-600 shrink-0 mt-0.5",size:20}),$(2),n(o),fe(1,o,()=>ze),p(a,o)};N(we,a=>{P()==="Executor"&&a(qe)})}var Ae=r(we,2);{var Je=a=>{var o=Ie(),s=Q(o);{var c=f=>{var v=Rt(),d=i(v),y=i(d);ge(y,{size:120}),n(d);var x=r(d,2),w=i(x),T=r(i(w),2);S(T),n(w);var j=r(w,2),I=r(i(j),2);oe(()=>{e(t),dt(()=>{})});var M=i(I);M.value=M.__value="Financial";var R=r(M);R.value=R.__value="Property";var O=r(R);O.value=O.__value="Vehicle";var F=r(O);F.value=F.__value="Business";var W=r(F);W.value=W.__value="Digital";var B=r(W);B.value=B.__value="Other",n(I),n(j);var E=r(j,2),ee=r(i(E),2),G=r(i(ee),2);S(G),n(ee),n(E);var Y=r(E,2),K=r(i(Y),2);S(K),n(Y);var q=r(Y,2);{var ve=l=>{var A=St(),H=r(i(A),2);S(H),n(A),U(H,()=>e(t).loginUrl,at=>k(t,e(t).loginUrl=at)),p(l,A)};N(q,l=>{e(t),C(()=>e(t).type==="Financial"||e(t).type==="Digital")&&l(ve)})}var m=r(q,2),g=r(i(m),2);S(g),n(m);var J=r(m,2),te=r(i(J),2);S(te),n(J);var ke=r(J,2),Pe=r(i(ke),2);ct(Pe),n(ke),n(x);var Ee=r(x,2),$e=i(Ee),pe=r($e,2),Ze=i(pe);{var et=l=>{var A=Dt(),H=Q(A);ge(H,{size:16}),$(),p(l,A)},tt=l=>{var A=jt(),H=Q(A);Bt(H,{size:16}),$(),p(l,A)};N(Ze,l=>{e(t),C(()=>e(t).id)?l(et):l(tt,!1)})}n(pe),n(Ee),n(v),U(T,()=>e(t).name,l=>k(t,e(t).name=l)),bt(I,()=>e(t).type,l=>k(t,e(t).type=l)),U(G,()=>e(t).value,l=>k(t,e(t).value=l)),U(K,()=>e(t).location,l=>k(t,e(t).location=l)),U(g,()=>e(t).beneficiaries,l=>k(t,e(t).beneficiaries=l)),U(te,()=>e(t).beneficiaryEmail,l=>k(t,e(t).beneficiaryEmail=l)),U(Pe,()=>e(t).closureNotes,l=>k(t,e(t).closureNotes=l)),L("click",$e,ye),L("click",pe,Fe),fe(3,v,()=>ze),p(f,v)};N(s,f=>{e(Z)&&f(c)})}p(a,o)};N(Ae,a=>{P()!=="Family"&&a(Je)})}var Ce=r(Ae,2),Ne=i(Ce);pt(Ne,1,()=>e(u),a=>a.id,(a,o)=>{var s=Gt(),c=i(s),f=i(c),v=i(f);Ut(v,{size:16}),n(f);var d=r(f,2),y=i(d);Vt(y,{size:16}),n(d),n(c);var x=r(c,2),w=r(x,2),T=i(w),j=i(T);ft(j,()=>Se(e(o).type),(m,g)=>{g(m,{size:24})}),n(T);var I=r(T,2),M=i(I);{var R=m=>{var g=Ot(),J=i(g);n(g),oe(te=>re(J,`$${te??""}`),[()=>(e(o),C(()=>e(o).value.toLocaleString()))]),p(m,g)},O=m=>{var g=Wt();p(m,g)};N(M,m=>{P()!=="Family"?m(R):m(O,!1)})}var F=r(M,2),W=i(F);Te(W,{size:12}),$(2),n(F),n(I),n(w);var B=r(w,2),E=i(B),ee=i(E,!0);n(E);var G=r(E,2),Y=i(G,!0);n(G),n(B);var K=r(B,2),q=i(K),ve=i(q);n(q),n(K),n(s),oe((m,g)=>{mt(x,1,`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${m??""} opacity-50 blur-2xl rounded-bl-full pointer-events-none group-hover:opacity-100 transition-opacity`),re(ee,(e(o),C(()=>e(o).name))),re(Y,(e(o),C(()=>e(o).location||"Location not specified"))),gt(ve,"points",g)},[()=>(e(o),C(()=>De(e(o).type))),()=>(e(o),C(()=>Le(e(o).valueHistory)))]),L("click",f,()=>Be(e(o))),L("click",d,()=>He(e(o).id)),fe(3,s,()=>Nt,()=>({duration:300})),p(a,s)});var Qe=r(Ne,2);{var Xe=a=>{var o=Kt(),s=Q(o);wt(s,{type:"financial",onAdd:()=>b(Z,!0)});var c=r(s,2),f=i(c);{var v=d=>{var y=Yt(),x=i(y);ge(x,{size:14}),$(),n(y),L("click",y,je),p(d,y)};N(f,d=>{P()!=="Family"&&d(v)})}n(c),p(a,o)};N(Qe,a=>{e(u),C(()=>e(u).length===0)&&a(Xe)})}n(Ce),n(se),L("click",ue,Re),p(ie,se),lt(),be()}export{Na as A};
