import{c as Me,a as f,f as h,e as T,t as Ve}from"./CI19bRDX.js";import{i as rt}from"./CeYVVThO.js";import{o as it}from"./Cc88vFxA.js";import{f as R,p as nt,l as st,b as lt,a as dt,g as e,m as ae,s as r,c as i,d as g,r as n,n as I,u as C,t as oe,i as ct,j as ut,k as P}from"./CC-cBgEA.js";import{s as re}from"./DtWQG8q5.js";import{i as k}from"./oYNvDJv2.js";import{I as vt,s as pt,e as ft,t as fe}from"./B0hQvWV2.js";import{c as mt}from"./Dp8rxJLH.js";import{a as gt,s as bt,r as j,d as _t}from"./CPE7ojsi.js";import{b as M}from"./DubRPcAg.js";import{l as yt,b as xt,p as ht,s as wt,a as ze}from"./BHjHH8n1.js";import{G as me}from"./HIzyW7Q0.js";import{s as Te,b as At}from"./B37JQBsy.js";import{u as Ct}from"./L308DWXy.js";import{e as kt}from"./Bej7o0Ow.js";import{a as ge}from"./C-p41Btd.js";import{g as Nt,s as Pt}from"./lbPixqMI.js";import{M as $t}from"./D4GBQ82i.js";import{T as Ie}from"./EsZUiUJI.js";import{I as Et}from"./Dw_I2flE.js";import{P as Ut}from"./BI2CPFpn.js";import{T as Vt}from"./BtEVtpAO.js";import{D as zt}from"./DCYAEqnx.js";import{W as Tt}from"./BTJqKgdV.js";import{C as It}from"./RHkstLRK.js";import{B as Mt}from"./CxgHKW0q.js";import{H as Ft}from"./5vwFW8av.js";import{S as be}from"./DI7ds4rN.js";import{P as Bt}from"./3NDLYjDg.js";function Ht(ie,O){const w=yt(O,["children","$$slots","$$events","$$legacy"]);const $=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z"}],["path",{d:"M20.054 15.987H3.946"}]];vt(ie,xt({name:"laptop"},()=>w,{get iconNode(){return $},children:(Z,_e)=>{var F=Me(),B=R(F);pt(B,O,"default",{}),f(Z,F)},$$slots:{default:!0}}))}var Lt=h(`<div class="bg-blue-50 border-l-4 border-blue-500 p-4 rounded-r shadow-sm flex items-start gap-3"><!> <div><h4 class="font-bold text-blue-900 text-sm">Executor View Active</h4> <p class="text-blue-700 text-xs mt-1">You have full access to view and manage assets. Ensure all
                    valuations are up to date for probate filing.</p></div></div>`),St=h('<div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Login URL</label> <input type="text" placeholder="https://..." class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"/></div>'),Dt=h("<!> Update Asset",1),jt=h("<!> Add Asset",1),Rt=h('<div class="bg-white rounded-xl shadow-lg border border-[#4A7C74]/20 p-6 relative overflow-hidden"><div class="absolute top-0 right-0 p-4 opacity-10 pointer-events-none"><!></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4 relative z-10"><div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Asset Name</label> <input type="text" placeholder="e.g. Chase Checking, Tesla Model Y" class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"/></div> <div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Type</label> <select class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"><option>Financial</option><option>Property</option><option>Vehicle</option><option>Business</option><option>Digital</option><option>Other</option></select></div> <div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Estimated Value</label> <div class="relative"><span class="absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground">$</span> <input type="number" class="w-full p-2 pl-7 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"/></div></div> <div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Location / Institution</label> <input placeholder="e.g. 123 Main St, Wallet" class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"/></div> <!> <div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Beneficiary Name</label> <input type="text" placeholder="Who inherits this?" class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"/></div> <div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Beneficiary Email</label> <input type="text" placeholder="Contact for beneficiary..." class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all"/></div> <div class="col-span-full space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Closure / Transfer Notes</label> <textarea placeholder="Instructions for the Executor on how to find/close/transfer this..." class="w-full p-2 rounded-lg border bg-secondary/20 focus:ring-2 focus:ring-[#4A7C74] outline-none transition-all h-20 resize-none"></textarea></div></div> <div class="flex justify-end gap-3 mt-6 relative z-10"><button class="px-4 py-2 rounded-lg hover:bg-muted transition-colors text-sm font-semibold">Cancel</button> <button class="px-6 py-2 rounded-lg bg-[#4A7C74] hover:bg-[#3b635d] text-white font-bold shadow-md hover:shadow-lg transition-all flex items-center gap-2"><!></button></div></div>'),Ot=h('<div class="font-bold text-lg text-foreground"> </div>'),Gt=h('<div class="font-bold text-lg text-muted-foreground blur-sm select-none" title="Visible only to Owner type">$•••,•••</div>'),Wt=h('<div class="group bg-white rounded-xl p-6 shadow-sm hover:shadow-md transition-all border border-transparent hover:border-[#4A7C74]/20 relative overflow-hidden"><div class="absolute top-2 right-2 flex gap-1 z-20 opacity-0 group-hover:opacity-100 transition-opacity"><button class="p-2 bg-white/80 rounded-full text-blue-400 hover:text-blue-600 hover:bg-blue-50" title="Edit Asset"><!></button> <button class="p-2 bg-white/80 rounded-full text-red-400 hover:text-red-600 hover:bg-red-50" title="Delete Asset"><!></button></div> <div></div> <div class="flex justify-between items-start relative z-10"><div class="p-3 rounded-xl bg-secondary/30 text-[#4A7C74] group-hover:scale-110 transition-transform duration-300"><!></div> <div class="text-right"><!> <div class="flex items-center justify-end gap-1 text-xs text-emerald-600 font-medium"><!> <span>+2.4%</span></div></div></div> <div class="mt-4 relative z-10"><h3 class="font-bold text-lg leading-tight"> </h3> <p class="text-sm text-muted-foreground mt-1"> </p></div> <div class="mt-4 h-8 w-full opacity-25"><svg viewBox="0 0 100 30" class="w-full h-full stroke-[#4A7C74] fill-none stroke-2" preserveAspectRatio="none"><polyline></polyline></svg></div></div>'),Yt=h('<button class="text-sm font-bold text-[#4A7C74] hover:bg-[#4A7C74]/5 px-4 py-2 rounded-lg transition-colors flex items-center gap-2"><!> Or use the Starter Pack</button> <button class="text-sm font-bold text-stone-400 hover:text-[#4A7C74] px-4 py-2">Add Item Manually</button>',1),Kt=h('<!> <!> <!> <div class="col-span-full flex justify-center mt-4"><!></div>',1),qt=h('<div class="space-y-8 animate-in fade-in duration-500"><div class="flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-gray-200 pb-6"><div><h2 class="text-sm font-bold uppercase tracking-wider text-gray-500 mb-1">Total Estate Value</h2> <div class="text-4xl font-serif font-bold text-[#304743]"><!></div></div> <div class="flex gap-3"><a href="https://unclaimed.org/" target="_blank" class="px-4 py-2 rounded-lg border border-dashed border-[#4A7C74] text-[#4A7C74] text-sm font-bold hover:bg-[#4A7C74]/5 transition-colors flex items-center gap-2"><!> Treasure Hunt</a> <button class="px-4 py-2 rounded-lg bg-gray-100 text-gray-600 text-sm font-bold hover:bg-gray-200 transition-colors flex items-center gap-2"><!> Export CSV</button></div></div> <!>  <!> <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6"><!>  <!></div></div>');function ka(ie,O){nt(O,!1);const w=()=>ze(kt,"$estateProfile",Z),$=()=>ze(Ct,"$userRole",Z),[Z,_e]=wt(),F=ae();let B=ht(O,"module",8),u=ae([]),E=ae(!1),t=ae({name:"",type:"Financial",value:0,location:"",accountNumber:"",ownershipPercentage:100,beneficiaries:"",notes:"",valueHistory:[],loginUrl:"",beneficiaryEmail:"",closureNotes:""});const ye=`assets_${B().id}`;it(()=>{g(u,Nt(ye,[]))});function ne(){Pt(ye,e(u))}function Fe(a){const o=[];let s=a*.8;for(let d=0;d<5;d++)o.push(s),s+=(a-s)*Math.random();return o.push(a),o}function Be(){if(e(t).name){if(e(t).id){const a=e(u).find(s=>s.id===e(t).id),o=[];a&&(a.name!==e(t).name&&o.push({field:"name",oldValue:a.name,newValue:e(t).name}),a.value!==e(t).value&&o.push({field:"value",oldValue:a.value,newValue:e(t).value}),a.beneficiaries!==e(t).beneficiaries&&o.push({field:"beneficiaries",oldValue:a.beneficiaries,newValue:e(t).beneficiaries}),a.location!==e(t).location&&o.push({field:"location",oldValue:a.location,newValue:e(t).location})),g(u,e(u).map(s=>s.id===e(t).id?{...e(t),value:Number(e(t).value)||0,ownershipPercentage:Number(e(t).ownershipPercentage),valueHistory:s.valueHistory}:s)),ge.logEvent({module:B().name||"Asset Manager",action:"UPDATE",entityType:"Asset",entityId:e(t).id,entityName:e(t).name||"Unnamed Asset",changes:o,userContext:w().ownerName||"User"})}else{const a=crypto.randomUUID();g(u,[...e(u),{id:a,name:e(t).name,type:e(t).type||"Other",value:Number(e(t).value)||0,location:e(t).location||"",accountNumber:e(t).accountNumber,ownershipPercentage:Number(e(t).ownershipPercentage),beneficiaries:e(t).beneficiaries||"",notes:e(t).notes||"",loginUrl:e(t).loginUrl||"",beneficiaryEmail:e(t).beneficiaryEmail||"",closureNotes:e(t).closureNotes||"",valueHistory:Fe(Number(e(t).value)||0)}]),ge.logEvent({module:B().name||"Asset Manager",action:"CREATE",entityType:"Asset",entityId:a,entityName:e(t).name,userContext:w().ownerName||"User"})}ne(),xe()}}function He(a){g(t,{...a}),g(E,!0)}function xe(){g(t,{id:void 0,name:"",type:"Financial",value:0,location:"",accountNumber:"",ownershipPercentage:100,beneficiaries:w().primaryBeneficiary||"",notes:"",valueHistory:[],loginUrl:"",beneficiaryEmail:"",closureNotes:""}),g(E,!1)}function Le(a){if(!confirm("Are you sure you want to delete this asset?"))return;const o=e(u).find(s=>s.id===a);g(u,e(u).filter(s=>s.id!==a)),ne(),o&&ge.logEvent({module:B().name||"Asset Manager",action:"DELETE",entityType:"Asset",entityId:a,entityName:o.name,userContext:w().ownerName||"User"})}function Se(a){if(!a||a.length<2)return"";const o=Math.min(...a),d=Math.max(...a)-o||1,p=100,v=30;return a.map((c,U)=>{const b=U/(a.length-1)*p,_=v-(c-o)/d*v;return`${b},${_}`}).join(" ")}function De(a){switch(a){case"Property":return Ft;case"Business":return Mt;case"Vehicle":return It;case"Digital":return Ht;case"Financial":return Tt;default:return zt}}function je(a){switch(a){case"Property":return"from-amber-600/10 to-stone-200/20";case"Business":return"from-slate-600/10 to-gray-200/20";case"Financial":return"from-emerald-600/10 to-teal-200/20";default:return"from-gray-500/10 to-slate-200/20"}}function Re(){const s=[{name:"Primary Residence",type:"Property",value:0,location:w().legalAddress||w().legalCityState||"Home Address",notes:"Deed location pending"},{name:"Main Checking Account",type:"Financial",value:0,location:"Bank Name",accountNumber:"Last 4"},{name:"Life Insurance Policy",type:"Financial",value:0,location:"Provider Name",notes:"Policy # needed"},{name:"Primary Vehicle",type:"Vehicle",value:0,location:"Garage",notes:"Title location pending"}].map(d=>({id:crypto.randomUUID(),name:d.name,type:d.type,value:0,location:d.location,accountNumber:d.accountNumber||"",ownershipPercentage:100,beneficiaries:w().primaryBeneficiary||"",notes:d.notes||"",valueHistory:[],loginUrl:"",beneficiaryEmail:"",closureNotes:""}));g(u,[...e(u),...s]),ne()}function Oe(){const a=["Name","Type","Value","Location","Account Number","Beneficiaries","Notes"],o=e(u).map(c=>[`"${c.name}"`,c.type,c.value,`"${c.location}"`,`"${c.accountNumber||""}"`,`"${c.beneficiaries}"`,`"${(c.notes||"").replace(/"/g,'""')}"`]),s=[a.join(","),...o.map(c=>c.join(","))].join(`
`),d=new Blob([s],{type:"text/csv;charset=utf-8;"}),p=URL.createObjectURL(d),v=document.createElement("a");v.setAttribute("href",p),v.setAttribute("download","estate_assets.csv"),document.body.appendChild(v),v.click(),document.body.removeChild(v)}st(()=>e(u),()=>{g(F,e(u).reduce((a,o)=>a+o.value*((o.ownershipPercentage||100)/100),0))}),lt(),rt();var se=qt(),le=i(se),de=i(le),he=r(i(de),2),Ge=i(he);{var We=a=>{var o=Ve();oe(s=>re(o,`$${s??""}`),[()=>(e(F),C(()=>e(F).toLocaleString()))]),f(a,o)},Ye=a=>{var o=Ve("$•••,•••,•••");f(a,o)};k(Ge,a=>{$()!=="Family"?a(We):a(Ye,!1)})}n(he),n(de);var we=r(de,2),ce=i(we),Ke=i(ce);$t(Ke,{size:16}),I(),n(ce);var ue=r(ce,2),qe=i(ue);Ie(qe,{size:16}),I(),n(ue),n(we),n(le);var Ae=r(le,2);{var Je=a=>{var o=Lt(),s=i(o);Et(s,{class:"text-blue-600 shrink-0 mt-0.5",size:20}),I(2),n(o),fe(1,o,()=>Te),f(a,o)};k(Ae,a=>{$()==="Executor"&&a(Je)})}var Ce=r(Ae,2);{var Qe=a=>{var o=Me(),s=R(o);{var d=p=>{var v=Rt(),c=i(v),U=i(c);be(U,{size:120}),n(c);var b=r(c,2),_=i(b),x=r(i(_),2);j(x),n(_);var V=r(_,2),N=r(i(V),2);oe(()=>{e(t),ct(()=>{})});var H=i(N);H.value=H.__value="Financial";var G=r(H);G.value=G.__value="Property";var W=r(G);W.value=W.__value="Vehicle";var L=r(W);L.value=L.__value="Business";var Y=r(L);Y.value=Y.__value="Digital";var S=r(Y);S.value=S.__value="Other",n(N),n(V);var z=r(V,2),ee=r(i(z),2),K=r(i(ee),2);j(K),n(ee),n(z);var q=r(z,2),J=r(i(q),2);j(J),n(q);var Q=r(q,2);{var ve=l=>{var A=St(),D=r(i(A),2);j(D),n(A),M(D,()=>e(t).loginUrl,ot=>P(t,e(t).loginUrl=ot)),f(l,A)};k(Q,l=>{e(t),C(()=>e(t).type==="Financial"||e(t).type==="Digital")&&l(ve)})}var m=r(Q,2),y=r(i(m),2);j(y),n(m);var X=r(m,2),te=r(i(X),2);j(te),n(X);var Pe=r(X,2),$e=r(i(Pe),2);ut($e),n(Pe),n(b);var Ee=r(b,2),Ue=i(Ee),pe=r(Ue,2),et=i(pe);{var tt=l=>{var A=Dt(),D=R(A);be(D,{size:16}),I(),f(l,A)},at=l=>{var A=jt(),D=R(A);Bt(D,{size:16}),I(),f(l,A)};k(et,l=>{e(t),C(()=>e(t).id)?l(tt):l(at,!1)})}n(pe),n(Ee),n(v),M(x,()=>e(t).name,l=>P(t,e(t).name=l)),_t(N,()=>e(t).type,l=>P(t,e(t).type=l)),M(K,()=>e(t).value,l=>P(t,e(t).value=l)),M(J,()=>e(t).location,l=>P(t,e(t).location=l)),M(y,()=>e(t).beneficiaries,l=>P(t,e(t).beneficiaries=l)),M(te,()=>e(t).beneficiaryEmail,l=>P(t,e(t).beneficiaryEmail=l)),M($e,()=>e(t).closureNotes,l=>P(t,e(t).closureNotes=l)),T("click",Ue,xe),T("click",pe,Be),fe(3,v,()=>Te),f(p,v)};k(s,p=>{e(E)&&p(d)})}f(a,o)};k(Ce,a=>{$()!=="Family"&&a(Qe)})}var ke=r(Ce,2),Ne=i(ke);ft(Ne,1,()=>e(u),a=>a.id,(a,o)=>{var s=Wt(),d=i(s),p=i(d),v=i(p);Ut(v,{size:16}),n(p);var c=r(p,2),U=i(c);Vt(U,{size:16}),n(c),n(d);var b=r(d,2),_=r(b,2),x=i(_),V=i(x);mt(V,()=>De(e(o).type),(m,y)=>{y(m,{size:24})}),n(x);var N=r(x,2),H=i(N);{var G=m=>{var y=Ot(),X=i(y);n(y),oe(te=>re(X,`$${te??""}`),[()=>(e(o),C(()=>e(o).value.toLocaleString()))]),f(m,y)},W=m=>{var y=Gt();f(m,y)};k(H,m=>{$()!=="Family"?m(G):m(W,!1)})}var L=r(H,2),Y=i(L);Ie(Y,{size:12}),I(2),n(L),n(N),n(_);var S=r(_,2),z=i(S),ee=i(z,!0);n(z);var K=r(z,2),q=i(K,!0);n(K),n(S);var J=r(S,2),Q=i(J),ve=i(Q);n(Q),n(J),n(s),oe((m,y)=>{gt(b,1,`absolute top-0 right-0 w-32 h-32 bg-gradient-to-br ${m??""} opacity-50 blur-2xl rounded-bl-full pointer-events-none group-hover:opacity-100 transition-opacity`),re(ee,(e(o),C(()=>e(o).name))),re(q,(e(o),C(()=>e(o).location||"Location not specified"))),bt(ve,"points",y)},[()=>(e(o),C(()=>je(e(o).type))),()=>(e(o),C(()=>Se(e(o).valueHistory)))]),T("click",p,()=>He(e(o))),T("click",c,()=>Le(e(o).id)),fe(3,s,()=>At,()=>({duration:300})),f(a,s)});var Xe=r(Ne,2);{var Ze=a=>{var o=Kt(),s=R(o);me(s,{type:"Asset",onClick:()=>g(E,!0)});var d=r(s,2);me(d,{type:"Asset",onClick:()=>g(E,!0)});var p=r(d,2);me(p,{type:"Asset",onClick:()=>g(E,!0)});var v=r(p,2),c=i(v);{var U=b=>{var _=Yt(),x=R(_),V=i(x);be(V,{size:14}),I(),n(x);var N=r(x,2);T("click",x,Re),T("click",N,()=>g(E,!0)),f(b,_)};k(c,b=>{$()!=="Family"&&b(U)})}n(v),f(a,o)};k(Xe,a=>{e(u),C(()=>e(u).length===0)&&a(Ze)})}n(ke),n(se),T("click",ue,Oe),f(ie,se),dt(),_e()}export{ka as A};
