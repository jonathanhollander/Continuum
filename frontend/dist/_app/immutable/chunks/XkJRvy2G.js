import{f as h,a as u,e as b}from"./CI19bRDX.js";import{i as H}from"./CeYVVThO.js";import{c as K}from"./Cc88vFxA.js";import{p as Q,c as d,r as n,s as x,t as U,a as V,n as A,g as c,m as k,d as v,k as Y,f as $}from"./CC-cBgEA.js";import{s as G}from"./DtWQG8q5.js";import{i as M}from"./oYNvDJv2.js";import{s as ee,a as ae}from"./CPE7ojsi.js";import{b as te}from"./DtYL2sJG.js";import{p as R}from"./BHjHH8n1.js";import{X as re}from"./CiL9a3zz.js";import{C as se}from"./3ZKlfXA3.js";import{U as oe}from"./CW7jBEae.js";var ie=h('<div class="relative h-48 w-full rounded-xl overflow-hidden bg-gray-100 border border-gray-200 group"><img alt="Uploaded preview" class="w-full h-full object-cover"/> <div class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2"><button class="bg-white text-rose-600 px-4 py-2 rounded-lg font-bold text-sm shadow-lg hover:bg-rose-50 flex items-center gap-2"><!> Remove</button></div> <div class="absolute top-2 right-2 bg-green-500 text-white rounded-full p-1 shadow-sm"><!></div></div>'),le=h('<div class="animate-spin rounded-full h-8 w-8 border-b-2 border-[#4A7C74]"></div> <span class="text-sm font-medium">Compressing...</span>',1),de=h('<div class="p-3 bg-white rounded-full shadow-sm"><!></div> <div><p class="text-sm font-bold text-gray-600">Click to upload or drag image here</p> <p class="text-xs mt-1">Supports JPG, PNG (Max 5MB)</p></div>',1),ne=h('<div class="absolute bottom-2 left-0 right-0 text-center text-xs font-bold text-red-500"> </div>'),ce=h('<div><input type="file" accept="image/*" class="hidden"/> <div class="flex flex-col items-center justify-center gap-3 text-gray-400"><!></div> <!></div>'),ve=h('<div class="space-y-2"><label class="block text-xs font-bold uppercase text-gray-500 mb-1"> </label> <!></div>');function ke(E,D){Q(D,!1);let _=R(D,"imageUrl",12,""),L=R(D,"label",8,"Upload Image");const P=K();let w=k(!1),C=k(!1),g=k(null),m=k();function S(e){e.preventDefault(),v(w,!0)}function T(){v(w,!1)}function B(e){e.preventDefault(),v(w,!1),e.dataTransfer?.files&&e.dataTransfer.files[0]&&j(e.dataTransfer.files[0])}function J(e){const a=e.target;a.files&&a.files[0]&&j(a.files[0])}function j(e){if(!e.type.startsWith("image/")){v(g,"Please upload an image file (JPG, PNG).");return}if(e.size>5*1024*1024){v(g,"File is too large (Max 5MB).");return}v(g,null),v(C,!0);const a=new FileReader;a.readAsDataURL(e),a.onload=f=>{const r=new Image;r.src=f.target?.result,r.onload=()=>{const i=document.createElement("canvas");let o=r.width,s=r.height;const l=800;o>s?o>l&&(s*=l/o,o=l):s>l&&(o*=l/s,s=l),i.width=o,i.height=s,i.getContext("2d")?.drawImage(r,0,0,o,s);const t=i.toDataURL("image/jpeg",.7);_(t),P("change",t),v(C,!1)}}}function N(){_(""),P("change",""),c(m)&&Y(m,c(m).value="")}H();var F=ve(),I=d(F),X=d(I,!0);n(I);var O=x(I,2);{var W=e=>{var a=ie(),f=d(a),r=x(f,2),i=d(r),o=d(i);re(o,{size:16}),A(),n(i),n(r);var s=x(r,2),l=d(s);se(l,{size:16}),n(s),n(a),U(()=>ee(f,"src",_())),b("click",i,N),u(e,a)},Z=e=>{var a=ce(),f=d(a);te(f,t=>v(m,t),()=>c(m));var r=x(f,2),i=d(r);{var o=t=>{var p=le();A(2),u(t,p)},s=t=>{var p=de(),y=$(p),q=d(y);oe(q,{size:24}),n(y),A(2),u(t,p)};M(i,t=>{c(C)?t(o):t(s,!1)})}n(r);var l=x(r,2);{var z=t=>{var p=ne(),y=d(p,!0);n(p),U(()=>G(y,c(g))),u(t,p)};M(l,t=>{c(g)&&t(z)})}n(a),U(()=>ae(a,1,`relative border-2 border-dashed rounded-xl p-8 text-center transition-all cursor-pointer
            ${c(w)?"border-[#4A7C74] bg-[#4A7C74]/5":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}
            ${c(g)?"border-red-300 bg-red-50":""}`)),b("change",f,J),b("dragover",a,S),b("dragleave",a,T),b("drop",a,B),b("click",a,()=>c(m).click()),u(e,a)};M(O,e=>{_()?e(W):e(Z,!1)})}n(F),U(()=>G(X,L())),u(E,F),V()}export{ke as F};
