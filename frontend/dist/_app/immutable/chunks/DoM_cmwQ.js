import{c as d}from"./lbPixqMI.js";const c={transactions:[],maintenance:[],claims:[]},m=()=>{if(typeof localStorage>"u"||localStorage.getItem("continuum_owner_advanced_assets"))return c;const i=localStorage.getItem("continuum_advanced_assets");if(i)try{return{...c,...JSON.parse(i)}}catch(t){console.error("Migration failed for advanced assets",t)}return c};function l(){const o=d("advanced_assets",m()),{subscribe:i,update:t}=o;return{subscribe:i,addTransaction:e=>{t(a=>({...a,transactions:[{...e,id:crypto.randomUUID()},...a.transactions]}))},removeTransaction:e=>{t(a=>({...a,transactions:a.transactions.filter(n=>n.id!==e)}))},addMaintenance:e=>{t(a=>({...a,maintenance:[{...e,id:crypto.randomUUID()},...a.maintenance]}))},removeMaintenance:e=>{t(a=>({...a,maintenance:a.maintenance.filter(n=>n.id!==e)}))},addClaim:e=>{t(a=>({...a,claims:[{...e,id:crypto.randomUUID()},...a.claims]}))},updateClaimStatus:(e,a,n)=>{t(s=>({...s,claims:s.claims.map(r=>r.id===e?{...r,status:a,amountPaid:n??r.amountPaid}:r)}))},removeClaim:e=>{t(a=>({...a,claims:a.claims.filter(n=>n.id!==e)}))}}}const f=l();export{f as a};
