import{c,a as n}from"./lbPixqMI.js";import{e as m}from"./Bej7o0Ow.js";const s=[{id:"owner",name:"Owner",role:"owner",relationToOwner:"Self",isExecutor:!1,isBeneficiary:!1,isEmergencyContact:!1,avatar:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=150&q=80"}],o=[],u=()=>{if(n("continuum_owner_family_members"))return s;const e=n("continuum_family_members");if(e)try{return JSON.parse(e)}catch{}return s},f=()=>{if(n("continuum_owner_family_relationships"))return o;const e=n("continuum_family_relationships");if(e)try{return JSON.parse(e)}catch{}return o},a=c("family_members",u()),l=c("family_relationships",f()),y=r=>{a.update(e=>{const t={...r,id:crypto.randomUUID()};return[...e,t]})},_=(r,e)=>{a.update(t=>t.map(i=>i.id===r?{...i,...e}:i))},b=r=>{a.update(e=>e.filter(t=>t.id!==r)),l.update(e=>e.filter(t=>t.sourceId!==r&&t.targetId!==r))};m.subscribe(r=>{a.update(e=>e.map(t=>t.id==="owner"&&r.ownerName&&t.name!==r.ownerName?{...t,name:r.ownerName}:t))});export{y as a,b,a as f,l as r,_ as u};
