import{c as Me,a as u,f as _,e as W}from"../chunks/CI19bRDX.js";import{i as Ct}from"../chunks/CeYVVThO.js";import{f as ze,p as Et,l as me,b as Mt,t as x,a as zt,g as e,m as q,s as r,c as a,d as g,r as t,n as be,u as o,k as ve,i as Xe,a4 as ue,a3 as At}from"../chunks/CC-cBgEA.js";import{s as h}from"../chunks/DtWQG8q5.js";import{i as T}from"../chunks/oYNvDJv2.js";import{I as Ae,s as Le,e as he,i as qe,t as ye}from"../chunks/B0hQvWV2.js";import{c as it}from"../chunks/Dp8rxJLH.js";import{a as ke,r as Be,g as Lt,d as Ue,b as Ce,s as st}from"../chunks/CPE7ojsi.js";import{b as lt}from"../chunks/DubRPcAg.js";import{s as Ee}from"../chunks/BqlTOgs2.js";import{l as Te,b as Pe,s as Tt,a as nt}from"../chunks/BHjHH8n1.js";import{b as Pt,f as dt,s as It,a as Wt}from"../chunks/B37JQBsy.js";import{S as vt}from"../chunks/DsZ2n2Vk.js";import{t as Ve}from"../chunks/DB2ccQM4.js";import{f as Yt}from"../chunks/B_QJ9-aQ.js";import{C as jt}from"../chunks/DS3VKAhf.js";import{P as Nt}from"../chunks/3NDLYjDg.js";import{X as Ht}from"../chunks/CiL9a3zz.js";import{T as ct}from"../chunks/DEyMj2i1.js";import{P as pt}from"../chunks/BI2CPFpn.js";import{T as St}from"../chunks/BtEVtpAO.js";import{H as Dt}from"../chunks/DnVIeHlM.js";import{B as Rt}from"../chunks/CxgHKW0q.js";import{M as Ft}from"../chunks/BcJ4QJwG.js";function Xt(re,Y){const B=Te(Y,["children","$$slots","$$events","$$legacy"]);const ee=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z"}],["path",{d:"M22 10v6"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5"}]];Ae(re,Pe({name:"graduation-cap"},()=>B,{get iconNode(){return ee},children:(te,xe)=>{var y=Me(),w=ze(y);Le(w,Y,"default",{}),u(te,y)},$$slots:{default:!0}}))}function qt(re,Y){const B=Te(Y,["children","$$slots","$$events","$$legacy"]);const ee=[["path",{d:"M5 22h14"}],["path",{d:"M5 2h14"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"}]];Ae(re,Pe({name:"hourglass"},()=>B,{get iconNode(){return ee},children:(te,xe)=>{var y=Me(),w=ze(y);Le(w,Y,"default",{}),u(te,y)},$$slots:{default:!0}}))}function Bt(re,Y){const B=Te(Y,["children","$$slots","$$events","$$legacy"]);const ee=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z"}]];Ae(re,Pe({name:"plane"},()=>B,{get iconNode(){return ee},children:(te,xe)=>{var y=Me(),w=ze(y);Le(w,Y,"default",{}),u(te,y)},$$slots:{default:!0}}))}function Ut(re,Y){const B=Te(Y,["children","$$slots","$$events","$$legacy"]);const ee=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z"}]];Ae(re,Pe({name:"star"},()=>B,{get iconNode(){return ee},children:(te,xe)=>{var y=Me(),w=ze(y);Le(w,Y,"default",{}),u(te,y)},$$slots:{default:!0}}))}var Vt=_("<option> </option>"),Gt=_('<div class="space-y-4 pt-2 border-t border-stone-100 animate-in fade-in slide-in-from-top-2 duration-300"><div class="space-y-1"><label class="text-xs font-bold uppercase text-gray-400">Category</label> <select class="w-full p-2 rounded-lg border focus:ring-2 ring-amber-400 outline-none bg-white"><option>Personal</option><option>Career</option><option>Education</option><option>Relationships</option><option>Travel</option><option>Other</option></select></div> <div class="space-y-1"><!></div></div>'),Ot=_('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm"><div class="bg-white rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden"><div class="p-4 border-b border-gray-100 flex justify-between items-center bg-gray-50"><h3 class="font-bold text-[#304743]">New Life Event</h3> <button><!></button></div> <div class="p-6 space-y-4"><div class="space-y-1"><label class="text-xs font-bold uppercase text-gray-400">Label</label> <input class="w-full p-2 rounded-lg border focus:ring-2 ring-[#4A7C74] outline-none" placeholder="e.g. Started Business"/></div> <div class="space-y-1"><!></div> <div class="grid grid-cols-2 gap-4"><div class="space-y-1"><label class="text-xs font-bold uppercase text-gray-400">Date</label> <input type="date" class="w-full p-2 rounded-lg border focus:ring-2 ring-[#4A7C74] outline-none"/></div> <div class="space-y-1"><label class="text-xs font-bold uppercase text-gray-400">Type</label> <select class="w-full p-2 rounded-lg border focus:ring-2 ring-[#4A7C74] outline-none bg-white"><option>Milestone</option><option>Education</option><option>Work</option><option>Relationship</option><option>Accomplishment üèÜ</option><option>Future Plan</option></select></div></div> <div class="space-y-1"><label class="text-xs font-bold uppercase text-gray-400">Designated Contact</label> <select class="w-full p-2 rounded-lg border focus:ring-2 ring-[#4A7C74] outline-none bg-white text-sm"><option>No one assigned</option><!></select></div> <!> <button class="w-full py-3 bg-[#4A7C74] text-white rounded-xl font-bold mt-2"> </button></div></div></div>'),Zt=_('<p class="text-sm text-stone-500 mb-4 line-clamp-2"> </p>'),Jt=_('<img class="w-full h-full object-cover"/>'),Kt=_('<span class="text-[8px] font-bold text-stone-400"> </span>'),Qt=_('<button class="p-2 bg-blue-50 text-blue-600 rounded-full hover:bg-blue-100 transition-colors shadow-sm" title="Notify via Email"><!></button>'),ea=_('<div class="mt-4 pt-4 border-t border-stone-100 flex items-center justify-between"><div class="flex items-center gap-2"><div class="w-6 h-6 rounded-full bg-stone-100 flex items-center justify-center overflow-hidden border border-stone-200"><!></div> <div class="flex flex-col"><span class="text-[10px] font-bold text-stone-600 leading-tight"> </span> <span class="text-[8px] text-stone-400 leading-tight capitalize"> </span></div></div> <!></div>'),ta=_('<div class="mt-4 pt-4 border-t border-stone-100"><p class="text-xs text-stone-400 italic line-clamp-3"> </p></div>'),aa=_('<div class="bg-white border border-amber-100 p-6 rounded-2xl relative group cursor-pointer hover:shadow-xl hover:border-amber-300 transition-all flex flex-col h-full"><div class="absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2"><button class="p-2 bg-amber-50 text-amber-600 rounded-full hover:bg-amber-100"><!></button></div> <div class="flex items-center gap-2 mb-4"><div class="px-3 py-1 bg-amber-50 text-amber-700 text-[10px] font-black uppercase tracking-tighter rounded-full border border-amber-100"> </div> <div class="text-xs font-bold text-stone-400 capitalize"> </div></div> <h4 class="font-serif font-bold text-xl text-[#304743] mb-2 group-hover:text-amber-700 transition-colors"> </h4> <!> <!> <!></div>'),ra=_('<div class="mb-12"><div class="flex items-center gap-2 mb-4"><!> <h3 class="font-bold text-[#304743] uppercase tracking-widest text-sm">Trophy Case</h3></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div></div>'),oa=_("<div></div>"),ia=_('<p class="text-xs text-stone-500 italic mt-0.5 line-clamp-2"> </p>'),sa=_('<div class="flex items-start gap-2 mb-2 last:mb-0"><!> <div><div class="text-[#304743] font-bold leading-tight"> </div> <!></div></div>'),la=_('<div class="fixed z-50 bg-white/95 backdrop-blur shadow-xl border border-stone-200 rounded-xl p-4 pointer-events-none w-64 animate-in fade-in zoom-in-95 duration-150"><div class="text-xs uppercase tracking-widest text-[#304743]/60 font-bold mb-2 pb-2 border-b border-stone-100"> </div> <!></div>'),na=_(`<div class="bg-white rounded-3xl border border-border shadow-sm p-8"><div class="flex items-start gap-4 mb-8 bg-purple-50 p-4 rounded-xl text-purple-900 border border-purple-100"><!> <div><h3 class="font-bold">Weeks of Your Life</h3> <p class="text-sm opacity-90">Each square represents one week. Filled squares are the
                        past. Empty squares are the future.</p></div> <div class="ml-auto text-right hidden md:block"><div class="text-2xl font-bold"> </div> <div class="text-xs uppercase opacity-75">Weeks Lived</div></div></div> <div class="flex flex-wrap gap-1 justify-center max-h-[600px] overflow-y-auto p-4 custom-scrollbar relative svelte-1o3germ"></div>  <div class="mt-8 flex justify-center gap-8 text-sm opacity-60"><div class="flex items-center gap-2"><div class="w-3 h-3 bg-[#304743]/80 rounded-[1px]"></div> <span class="text-gray-600">Lived</span></div> <div class="flex items-center gap-2"><div class="w-3 h-3 bg-amber-400 rounded-[1px]"></div> <span class="text-gray-600">Event</span></div> <div class="flex items-center gap-2"><div class="w-2 h-2 rounded-[1px] bg-gray-100 rounded-[1px]"></div> <span class="text-gray-600">Remaining</span></div></div> <!></div>`),da=_('<div class="text-[9px] font-bold text-stone-400 uppercase tracking-tighter truncate px-2"> </div>'),va=_('<div class="mb-6 opacity-60 group-hover:opacity-100 transition-all -translate-y-1 group-hover:translate-y-0 text-center w-32"><div class="text-sm font-bold text-[#304743]"> </div> <!></div>'),ca=_('<div class="text-[9px] font-bold text-stone-400 uppercase tracking-tighter truncate px-2"> </div>'),pa=_('<div class="mt-6 opacity-60 group-hover:opacity-100 transition-all translate-y-1 group-hover:translate-y-0 text-center w-32"><div class="text-sm font-bold text-[#304743]"> </div> <!></div>'),ua=_('<div class="absolute top-1/2 -translate-y-1/2 flex flex-col items-center group cursor-pointer w-12 -ml-6 z-10 hover:z-50 transition-all duration-200"><!> <div class="relative"><div><!></div> <div class="absolute -top-3 -right-3 flex gap-1 z-20 opacity-0 group-hover:opacity-100 transition-opacity"><button class="bg-blue-100 text-blue-500 p-1 rounded-full hover:scale-110 shadow-sm" title="Edit Event"><!></button> <button class="bg-red-100 text-red-500 p-1 rounded-full hover:scale-110 shadow-sm" title="Delete Event"><!></button></div></div> <div class="mt-3 text-xs font-bold text-gray-400 group-hover:text-[#304743] transition-colors"> </div> <!></div>'),fa=_('<div class="bg-white rounded-3xl shadow-xl border border-stone-100 p-8 overflow-hidden relative"><div class="flex justify-between items-center mb-6"><div class="flex items-center gap-3 bg-gray-50 px-4 py-2 rounded-xl border border-gray-100"><span class="text-xs font-bold text-gray-400 uppercase">Zoom Level</span> <input type="range" min="10" max="100" class="w-32 accent-[#4A7C74] cursor-pointer"/> <span class="text-xs text-gray-400 font-mono w-8"> </span></div> <div class="flex gap-4 text-sm text-gray-400"><div class="flex items-center gap-2"><div class="w-2 h-2 rounded-full bg-purple-500"></div> <span>Milestone</span></div> <div class="flex items-center gap-2"><div class="w-2 h-2 rounded-full bg-blue-500"></div> <span>Education</span></div> <div class="flex items-center gap-2"><div class="w-2 h-2 rounded-full bg-emerald-500"></div> <span>Work</span></div></div></div> <div class="overflow-x-auto pb-12 scrollbar-thin scrollbar-thumb-gray-200 scrollbar-track-transparent"><div class="absolute top-32 left-0 right-0 h-0.5 bg-gradient-to-r from-stone-200 via-stone-300 to-stone-200"></div> <div class="relative h-64 transition-all duration-300"><!> <div class="absolute top-1/2 -translate-y-1/2 flex flex-col items-center"><div class="absolute -top-16 text-xs font-bold uppercase tracking-widest text-[#4A7C74]">Today</div> <div class="w-0.5 h-32 bg-[#4A7C74]/50 border-l-2 border-dashed border-[#4A7C74]"></div></div></div></div> <p class="text-center text-sm text-muted-foreground mt-6 italic">"We plan for the future, but we live in moments."</p></div>'),ma=_(`<div class="max-w-6xl mx-auto p-8 animate-in fade-in duration-500"><!> <div class="flex flex-col md:flex-row justify-between items-end mb-12 gap-6"><div><div class="inline-flex items-center justify-center p-3 bg-purple-100 text-purple-700 rounded-full mb-4"><!></div> <h1 class="font-serif font-bold text-4xl text-[#304743] mb-2">The Life Timeline</h1> <p class="text-lg text-muted-foreground">Your story isn't just a list of assets. It's a series of
                moments.</p></div> <div class="flex flex-col items-end gap-4"><div class="flex gap-4"><button class="px-4 py-2 rounded-lg text-sm font-bold bg-[#4A7C74] text-white shadow-md flex items-center gap-2 hover:bg-[#3b635d]"><!> Add Event</button> <div class="flex items-center gap-2 bg-white p-1 rounded-xl border border-gray-100 shadow-sm"><button>Timeline</button> <button>Memento Mori</button></div></div></div></div> <!> <!></div>`);function Da(re,Y){Et(Y,!1);const B=()=>nt(Yt,"$familyMembers",te),ee=()=>nt(Ve,"$timelineStore",te),[te,xe]=Tt(),y=q(),w=q(),Ie=q(),We=q(),Ye=q(),Ge=q();let ce=q(!1),fe=1990,de=new Date().getFullYear(),ut=85,we=q(!1),i=q({year:de,label:"",type:"milestone"});function ft(){!e(i).label||!e(i).year||(Ve.update(s=>{let d;return e(i).id?d=s.map(m=>m.id===e(i).id?{...e(i)}:m):d=[...s,{...e(i),id:Date.now()}],d.sort((m,C)=>m.year-C.year)}),Oe())}function je(s){g(i,{...s}),g(we,!0)}function Oe(){g(we,!1),g(i,{id:void 0,year:de,label:"",type:"milestone",assignedContactId:void 0})}function mt(s){confirm("Remove this event?")&&Ve.update(d=>d.filter(m=>m.id!==s))}let Ze=(de-fe)*52,pe=q(20);function bt(s){return(s-fe)*e(pe)}let Z=q(null),Ne=q(0),He=q(0);function xt(s){s.clientX+260>window.innerWidth?g(Ne,s.clientX-260-20):g(Ne,s.clientX+20),s.clientY+160>window.innerHeight?g(He,s.clientY-160-20):g(He,s.clientY+20)}function Je(s){switch(s){case"education":return Xt;case"work":return Rt;case"relationship":return Dt;case"future":return Bt;case"accomplishment":return ct;default:return Ut}}me(()=>B(),()=>{g(y,s=>B().find(d=>d.id===s))}),me(()=>ee(),()=>{g(w,ee())}),me(()=>e(w),()=>{g(Ie,e(w).length>0?Math.max(de,...e(w).map(s=>s.year)):de)}),me(()=>e(Ie),()=>{g(We,Math.max(e(Ie),de+3))}),me(()=>e(We),()=>{g(Ye,(e(We)-fe)*52)}),me(()=>(e(Ye),e(w)),()=>{g(Ge,Array.from({length:e(Ye)},(s,d)=>{const m=d<Ze,C=e(w).filter(M=>{const j=(M.year-fe)*52;return Math.floor(j)===d});return{index:d,isLived:m,events:C,hasEvent:C.length>0}}))}),Mt(),Ct();var Se=ma(),Ke=a(Se);{var _t=s=>{var d=Ot(),m=a(d),C=a(m),M=r(a(C),2),j=a(M);Ht(j,{size:20,class:"text-gray-400 hover:text-gray-600"}),t(M),t(C);var c=r(C,2),$=a(c),U=r(a($),2);Be(U),t($);var V=r($,2),z=a(V);vt(z,{context:"timeline",placeholder:"Share the memory...",label:"Details",minHeight:"80px",get value(){return e(i).description},set value(p){ve(i,e(i).description=p)},$$legacy:!0}),t(V);var v=r(V,2),l=a(v),J=r(a(l),2);Be(J),t(l);var N=r(l,2),G=r(a(N),2);x(()=>{e(i),Xe(()=>{})});var k=a(G);k.value=k.__value="milestone";var H=r(k);H.value=H.__value="education";var P=r(H);P.value=P.__value="work";var ae=r(P);ae.value=ae.__value="relationship";var S=r(ae);S.value=S.__value="accomplishment";var K=r(S);K.value=K.__value="future",t(G),t(N),t(v);var oe=r(v,2),Q=r(a(oe),2);x(()=>{e(i),Xe(()=>{B()})});var b=a(Q);b.value=(b.__value=void 0)??"";var n=r(b);he(n,1,B,qe,(p,f)=>{var E=Vt(),R=a(E);t(E);var O={};x(()=>{h(R,`${e(f),o(()=>e(f).name)??""} (${e(f),o(()=>e(f).role)??""})`),O!==(O=(e(f),o(()=>e(f).id)))&&(E.value=(E.__value=(e(f),o(()=>e(f).id)))??"")}),u(p,E)}),t(Q),t(oe);var A=r(oe,2);{var ie=p=>{var f=Gt(),E=a(f),R=r(a(E),2);x(()=>{e(i),Xe(()=>{})});var O=a(R);O.value=O.__value="Personal";var I=r(O);I.value=I.__value="Career";var F=r(I);F.value=F.__value="Education";var le=r(F);le.value=le.__value="Relationships";var ne=r(le);ne.value=ne.__value="Travel";var X=r(ne);X.value=X.__value="Other",t(R),t(E);var L=r(E,2),_e=a(L);vt(_e,{context:"storytelling",placeholder:"What does this achievement mean to you?",label:"The Story (Reflection)",minHeight:"120px",get value(){return e(i).reflection},set value(ge){ve(i,e(i).reflection=ge)},$$legacy:!0}),t(L),t(f),Ue(R,()=>e(i).category,ge=>ve(i,e(i).category=ge)),u(p,f)};T(A,p=>{e(i),o(()=>e(i).type==="accomplishment")&&p(ie)})}var se=r(A,2),D=a(se,!0);t(se),t(c),t(m),t(d),x(()=>{Lt(J,(e(i),o(()=>e(i).date||(e(i).year?`${e(i).year}-01-01`:"")))),h(D,(e(i),o(()=>e(i).id?"Update Event":"Add to Timeline")))}),W("click",M,Oe),lt(U,()=>e(i).label,p=>ve(i,e(i).label=p)),W("input",J,p=>{const f=p.currentTarget.value;ve(i,e(i).date=f),f&&ve(i,e(i).year=new Date(f).getFullYear())}),Ue(G,()=>e(i).type,p=>ve(i,e(i).type=p)),Ue(Q,()=>e(i).assignedContactId,p=>ve(i,e(i).assignedContactId=p)),W("click",se,ft),ye(1,m,()=>Pt),ye(3,d,()=>dt),u(s,d)};T(Ke,s=>{e(we)&&s(_t)})}var De=r(Ke,2),Re=a(De),Qe=a(Re),gt=a(Qe);jt(gt,{size:32}),t(Qe),be(4),t(Re);var et=r(Re,2),tt=a(et),$e=a(tt),ht=a($e);Nt(ht,{size:16}),be(),t($e);var at=r($e,2),Fe=a(at),rt=r(Fe,2);t(at),t(tt),t(et),t(De);var ot=r(De,2);{var yt=s=>{var d=ra(),m=a(d),C=a(m);ct(C,{class:"text-amber-500",size:20}),be(2),t(m);var M=r(m,2);he(M,5,()=>(e(w),o(()=>e(w).filter(j=>j.type==="accomplishment"))),qe,(j,c)=>{var $=aa(),U=a($),V=a(U),z=a(V);pt(z,{size:14}),t(V),t(U);var v=r(U,2),l=a(v),J=a(l,!0);t(l);var N=r(l,2),G=a(N,!0);t(N),t(v);var k=r(v,2),H=a(k,!0);t(k);var P=r(k,2);{var ae=b=>{var n=Zt(),A=a(n,!0);t(n),x(()=>h(A,(e(c),o(()=>e(c).description)))),u(b,n)};T(P,b=>{e(c),o(()=>e(c).description)&&b(ae)})}var S=r(P,2);{var K=b=>{const n=At(()=>(e(y),e(c),o(()=>e(y)(e(c).assignedContactId))));var A=ea(),ie=a(A),se=a(ie),D=a(se);{var p=X=>{var L=Jt();x(()=>{st(L,"src",(ue(e(n)),o(()=>e(n).avatar))),st(L,"alt",(ue(e(n)),o(()=>e(n).name)))}),u(X,L)},f=X=>{var L=Kt(),_e=a(L,!0);t(L),x(ge=>h(_e,ge),[()=>(ue(e(n)),o(()=>e(n)?.name?.slice(0,2).toUpperCase()||"??"))]),u(X,L)};T(D,X=>{ue(e(n)),o(()=>e(n)?.avatar)?X(p):X(f,!1)})}t(se);var E=r(se,2),R=a(E),O=a(R,!0);t(R);var I=r(R,2),F=a(I,!0);t(I),t(E),t(ie);var le=r(ie,2);{var ne=X=>{var L=Qt(),_e=a(L);Ft(_e,{size:12}),t(L),W("click",L,Ee(()=>alert(`Mock Notification: Email sent to ${e(n).email} regarding "${e(c).label}"`))),u(X,L)};T(le,X=>{ue(e(n)),o(()=>e(n)?.email)&&X(ne)})}t(A),x(()=>{h(O,(ue(e(n)),o(()=>e(n)?.name||"Unknown"))),h(F,(ue(e(n)),o(()=>e(n)?.role||"Contact")))}),u(b,A)};T(S,b=>{e(c),o(()=>e(c).assignedContactId)&&b(K)})}var oe=r(S,2);{var Q=b=>{var n=ta(),A=a(n),ie=a(A);t(A),t(n),x(()=>h(ie,`"${e(c),o(()=>e(c).reflection)??""}"`)),u(b,n)};T(oe,b=>{e(c),o(()=>e(c).reflection)&&b(Q)})}t($),x(()=>{h(J,(e(c),o(()=>e(c).category||"General"))),h(G,(e(c),o(()=>e(c).year))),h(H,(e(c),o(()=>e(c).label)))}),W("click",V,Ee(()=>je(e(c)))),W("click",$,()=>je(e(c))),u(j,$)}),t(M),t(d),ye(1,d,()=>It),u(s,d)};T(ot,s=>{e(ce),e(w),o(()=>!e(ce)&&e(w).some(d=>d.type==="accomplishment"))&&s(yt)})}var wt=r(ot,2);{var $t=s=>{var d=na(),m=a(d),C=a(m);qt(C,{class:"shrink-0 mt-1"});var M=r(C,4),j=a(M),c=a(j,!0);t(j),be(2),t(M),t(m);var $=r(m,2);he($,5,()=>e(Ge),z=>z.index,(z,v)=>{var l=oa();x(()=>ke(l,1,`w-2 h-2 rounded-[1px] transition-colors cursor-pointer relative group
                        ${e(v),o(()=>e(v).hasEvent?"bg-amber-400 hover:bg-amber-500 ring-2 ring-amber-200 z-10":"")??""}
                        ${e(v),o(()=>!e(v).hasEvent&&e(v).isLived?"bg-[#304743]/80 hover:bg-[#304743]":"")??""}
                        ${e(v),o(()=>!e(v).hasEvent&&!e(v).isLived?"bg-gray-100 hover:bg-purple-200":"")??""}`)),W("mouseenter",l,()=>g(Z,e(v))),u(z,l)}),t($);var U=r($,4);{var V=z=>{var v=la(),l=a(v),J=a(l);t(l);var N=r(l,2);he(N,1,()=>(e(Z),o(()=>e(Z).events)),qe,(G,k)=>{var H=sa(),P=a(H);it(P,()=>Je(e(k).type),(b,n)=>{n(b,{size:16,class:"text-amber-500 shrink-0 mt-1"})});var ae=r(P,2),S=a(ae),K=a(S,!0);t(S);var oe=r(S,2);{var Q=b=>{var n=ia(),A=a(n,!0);t(n),x(()=>h(A,(e(k),o(()=>e(k).description)))),u(b,n)};T(oe,b=>{e(k),o(()=>e(k).description)&&b(Q)})}t(ae),t(H),x(()=>h(K,(e(k),o(()=>e(k).label)))),u(G,H)}),t(v),x(G=>{Ce(v,`top: ${e(He)??""}px; left: ${e(Ne)??""}px;`),h(J,`Week ${e(Z),o(()=>e(Z).index+1)??""} | ${G??""}`)},[()=>(e(Z),o(()=>fe+Math.floor(e(Z).index/52)))]),u(z,v)};T(U,z=>{e(Z),o(()=>e(Z)&&e(Z).hasEvent)&&z(V)})}t(d),x(z=>h(c,z),[()=>o(()=>Math.floor(Ze))]),W("mouseleave",$,()=>g(Z,null)),W("mousemove",$,xt),ye(1,d,()=>dt),u(s,d)},kt=s=>{var d=fa(),m=a(d),C=a(m),M=r(a(C),2);Be(M);var j=r(M,2),c=a(j);t(j),t(C),be(2),t(m);var $=r(m,2),U=r(a($),2),V=a(U);he(V,3,()=>e(w),v=>v.id,(v,l,J)=>{var N=ua(),G=a(N);{var k=D=>{var p=va(),f=a(p),E=a(f,!0);t(f);var R=r(f,2);{var O=I=>{var F=da(),le=a(F);t(F),x(ne=>h(le,`Assigned: ${ne??""}`),[()=>(e(y),e(l),o(()=>e(y)(e(l).assignedContactId)?.name||"..."))]),u(I,F)};T(R,I=>{e(l),o(()=>e(l).assignedContactId)&&I(O)})}t(p),x(()=>h(E,(e(l),o(()=>e(l).label)))),u(D,p)};T(G,D=>{e(J)%2===0&&D(k)})}var H=r(G,2),P=a(H),ae=a(P);it(ae,()=>Je(e(l).type),(D,p)=>{p(D,{size:18})}),t(P);var S=r(P,2),K=a(S),oe=a(K);pt(oe,{size:12}),t(K);var Q=r(K,2),b=a(Q);St(b,{size:12}),t(Q),t(S),t(H);var n=r(H,2),A=a(n,!0);t(n);var ie=r(n,2);{var se=D=>{var p=pa(),f=a(p),E=a(f,!0);t(f);var R=r(f,2);{var O=I=>{var F=ca(),le=a(F);t(F),x(ne=>h(le,`Assigned: ${ne??""}`),[()=>(e(y),e(l),o(()=>e(y)(e(l).assignedContactId)?.name||"..."))]),u(I,F)};T(R,I=>{e(l),o(()=>e(l).assignedContactId)&&I(O)})}t(p),x(()=>h(E,(e(l),o(()=>e(l).label)))),u(D,p)};T(ie,D=>{e(J)%2!==0&&D(se)})}t(N),x(()=>{Ce(N,`left: ${e(l),e(pe),o(()=>(e(l).year-fe)*e(pe))??""}px`),ke(P,1,`relative z-10 w-12 h-12 rounded-full border-4 border-white shadow-lg flex items-center justify-center transition-transform group-hover:scale-110
                                ${e(l),o(()=>e(l).year>de?"bg-gray-100 text-gray-400 border-dashed border-gray-300":"bg-[#304743] text-white")??""}`),h(A,(e(l),o(()=>e(l).year)))}),W("click",K,Ee(()=>je(e(l)))),W("click",Q,Ee(()=>mt(e(l).id))),ye(1,N,()=>Wt,()=>({y:20,delay:e(J)*50})),u(v,N)});var z=r(V,2);t(U),t($),be(2),t(d),x(v=>{h(c,`${e(pe)??""}px`),Ce(U,`width: ${(ut+10)*e(pe)}px`),Ce(z,`left: ${v??""}px`)},[()=>o(()=>bt(de))]),lt(M,()=>e(pe),v=>g(pe,v)),u(s,d)};T(wt,s=>{e(ce)?s($t):s(kt,!1)})}t(Se),x(()=>{ke(Fe,1,`px-4 py-2 rounded-lg text-sm font-bold transition-all ${e(ce)?"text-gray-500 hover:bg-gray-50":"bg-stone-100 text-stone-800"}`),ke(rt,1,`px-4 py-2 rounded-lg text-sm font-bold transition-all ${e(ce)?"bg-purple-600 text-white shadow-md":"text-gray-500 hover:bg-gray-50"}`)}),W("click",$e,()=>g(we,!0)),W("click",Fe,()=>g(ce,!1)),W("click",rt,()=>g(ce,!0)),u(re,Se),zt(),xe()}export{Da as component};
