import{c as $e,a as v,f as _,e as g}from"../chunks/CI19bRDX.js";import{i as wt}from"../chunks/CeYVVThO.js";import{f as oe,p as Ct,l as Pe,d as P,m as Z,g as e,b as At,c as a,s as r,r as t,t as M,u as o,n as W,a as $t,a5 as bt,a4 as Ut,a3 as Re,j as Vt,k as gt}from"../chunks/CC-cBgEA.js";import{s as C}from"../chunks/DtWQG8q5.js";import{i as J}from"../chunks/oYNvDJv2.js";import{I as Pt,s as kt,e as De,i as Be,t as he}from"../chunks/B0hQvWV2.js";import{a as de,b as Ht,r as je,g as Ke,s as Ot}from"../chunks/CPE7ojsi.js";import{b as xt}from"../chunks/DubRPcAg.js";import{l as St,b as Tt,a as st,s as Ft}from"../chunks/BHjHH8n1.js";import{f as ke,b as Wt}from"../chunks/B37JQBsy.js";import{A as qt}from"../chunks/D8uWt282.js";import{E as Kt}from"../chunks/BMbyy01g.js";import{e as Qt}from"../chunks/Bej7o0Ow.js";import{a as ht}from"../chunks/C-p41Btd.js";import{c as Gt}from"../chunks/Dp8rxJLH.js";import{f as le}from"../chunks/DVzSUKHC.js";import{S as rt}from"../chunks/DsZ2n2Vk.js";import{R as ot}from"../chunks/BQiYUfAl.js";import{R as Qe}from"../chunks/DneJMtl5.js";import{H as Jt}from"../chunks/DnVIeHlM.js";import{U as Yt}from"../chunks/B6MkXCxC.js";import{S as nt}from"../chunks/PVMnvWZ0.js";import{M as _t}from"../chunks/C1Pvp6iz.js";import{B as Xt}from"../chunks/BymR8Q4A.js";import{A as Zt}from"../chunks/DD46ptFZ.js";import{A as ea}from"../chunks/qte16KVx.js";import{C as yt}from"../chunks/Byr2EN1D.js";import{L as ta}from"../chunks/DnbSlI_Q.js";import{F as aa}from"../chunks/BbEFPXkz.js";import{D as ra}from"../chunks/DtewSPbm.js";import{L as oa}from"../chunks/DREb82yh.js";import{U as ia}from"../chunks/Dz1lDVRx.js";import{M as sa}from"../chunks/D4GBQ82i.js";import{X as na}from"../chunks/CiL9a3zz.js";import{D as da}from"../chunks/DCYAEqnx.js";import{P as la}from"../chunks/BI2CPFpn.js";import{T as ca}from"../chunks/BtEVtpAO.js";function va(_e,ce){const L=St(ce,["children","$$slots","$$events","$$legacy"]);const V=[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"10",r:"3"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"}]];Pt(_e,Tt({name:"circle-user"},()=>L,{get iconNode(){return V},children:(fe,l)=>{var u=$e(),q=oe(u);kt(q,ce,"default",{}),v(fe,u)},$$slots:{default:!0}}))}function ua(_e,ce){const L=St(ce,["children","$$slots","$$events","$$legacy"]);const V=[["circle",{cx:"12",cy:"12",r:"3"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5"}],["path",{d:"M12 7.5V9"}],["path",{d:"M7.5 12H9"}],["path",{d:"M16.5 12H15"}],["path",{d:"M12 16.5V15"}],["path",{d:"m8 8 1.88 1.88"}],["path",{d:"M14.12 9.88 16 8"}],["path",{d:"m8 16 1.88-1.88"}],["path",{d:"M14.12 14.12 16 16"}]];Pt(_e,Tt({name:"flower"},()=>L,{get iconNode(){return V},children:(fe,l)=>{var u=$e(),q=oe(u);kt(q,ce,"default",{}),v(fe,u)},$$slots:{default:!0}}))}const it={secular:{name:"Secular / Non-Religious",key:"secular",commonRituals:["Celebration of Life","Toasts/Speeches","Video Tribute","Moment of Silence"],terminology:{service:"Celebration of Life",officiant:"Celebrant",bodyPreparation:"Dressing"},dispositionPreference:"either",smartTextareaPrompts:{atmosphere:["Focus on joyful memories","Casual and uplifting","Nature-connected"],legacy:["Life lessons learned","Favorite stories","Impact on community"],foundation:["Celebrating a life well lived","Love and connection","Simplicity and nature"]}},christian:{name:"Christian (General)",key:"christian",commonRituals:["Viewing/Wake","Scripture Readings","Hymns","Committal Service"],terminology:{service:"Funeral Service",officiant:"Pastor/Minister",bodyPreparation:"Dressing"},dispositionPreference:"either",smartTextareaPrompts:{atmosphere:["Hopeful and reverent","Celebration of homecoming","Traditional hymns"],legacy:["Faith journey","Biblical values","Service to the church"],foundation:["Resurrection hope","Stewardship","Family and Faith"]}},jewish:{name:"Jewish",key:"jewish",commonRituals:["Keriah (Tearing Garment)","Sitting Shiva","Reciting Kaddish","Shloshim","Unveiling"],terminology:{service:"Funeral Service",officiant:"Rabbi",bodyPreparation:"Tahara"},dispositionPreference:"burial",forbidden:["cremation","embalming","open_casket"],smartTextareaPrompts:{atmosphere:["Solemn and respectful","Plain pine casket","No flowers (Charity instead)"],legacy:["Torah values","Acts of Chesed (Kindness)","Zionism/Community"],foundation:["Tikkun Olam (Repairing the World)","Family heritage","Modesty and dignity"]}},muslim:{name:"Muslim",key:"muslim",commonRituals:["Janazah Prayer","Prompt Burial (24h)","Facing Qibla","3-Day Mourning"],terminology:{service:"Janazah Prayer",officiant:"Imam",bodyPreparation:"Ghusl"},dispositionPreference:"burial",forbidden:["cremation","embalming"],smartTextareaPrompts:{atmosphere:["Simple and humble","Community prayer focus","Swift procession"],legacy:["Submission to Allah","Charity (Sadaqah Jariyah)","Family devotion"],foundation:["Submission to Allah's will","Simplicity","Forgiveness"]}},hindu:{name:"Hindu",key:"hindu",commonRituals:["Antyesti (Last Sacrifice)","Garlanding the Body","Kapal Kriya","Immersion of Ashes","13-Day Mourning"],terminology:{service:"Antyesti",officiant:"Pandit/Priest",bodyPreparation:"Washing/Anointing"},dispositionPreference:"cremation",smartTextareaPrompts:{atmosphere:["Chanting Mantras","White flowers/garlands","Burning incense/ghee"],legacy:["Karma and Dharma","Liberation (Moksha)","Ancestral connection"],foundation:["Dharma (Duty)","Moksha (Liberation)","Cycle of Life"]}},buddhist:{name:"Buddhist",key:"buddhist",commonRituals:["Chanting Sutras","Altar Offerings","Merit Transference","49-Day Transition"],terminology:{service:"Funeral Ceremony",officiant:"Monk",bodyPreparation:"Washing/Dressing"},dispositionPreference:"cremation",smartTextareaPrompts:{atmosphere:["Meditative and calm","Sutra chanting","Incense offerings"],legacy:["Impermanence (Anicca)","Compassion (Metta)","Wisdom"],foundation:["Peace and compassion","Impermanence","Mindfulness"]}},other:{name:"Other / Spiritual",key:"other",commonRituals:["Personalized Rituals"],terminology:{service:"Service",officiant:"Officiant",bodyPreparation:"Preparation"},dispositionPreference:"either",smartTextareaPrompts:{atmosphere:["Respectful tribute","Unique cultural elements","Personal spirituality"],legacy:["Personal philosophy","Creative spirit","Love for family"],foundation:["Personal truth","Connection to nature","Love"]}}};var ma=_('<div class="relative z-10 flex flex-col items-center gap-2 cursor-pointer group"><div><!></div> <div> </div></div>'),fa=_('<button><div class="font-bold text-stone-800 mb-1"> </div> <div class="text-xs text-stone-500 line-clamp-2"> </div></button>'),pa=_(`<div class="space-y-8"><div class="text-center space-y-2"><h2 class="text-3xl font-serif font-bold text-[#304743]">Faith & Foundation</h2> <p class="text-stone-500">Select the tradition that best honors your life and
                            values.</p></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div> <div class="flex justify-end mb-1"><!></div> <!></div>`),ba=_('<div class="text-xs font-bold text-red-500 bg-red-50 px-2 py-1 rounded inline-block mb-2"> </div>'),ga=_("<button> </button>"),xa=_(`<div class="space-y-8"><div class="text-center space-y-2"><h2 class="text-3xl font-serif font-bold text-[#304743]">The Farewell</h2> <p class="text-stone-500">Decisions regarding the preparation and resting
                            place of the body.</p></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><button><div class="flex items-center gap-4 mb-4"><div class="p-3 bg-white rounded-full shadow-sm text-[#4A7C74]"><!></div> <span class="font-bold text-xl text-stone-800">Burial</span></div> <p class="text-sm text-stone-600">Traditional interment in the ground or a
                                mausoleum.</p></button> <button><div class="flex items-center gap-4 mb-4"><div class="p-3 bg-white rounded-full shadow-sm text-orange-500"><!></div> <span class="font-bold text-xl text-stone-800">Cremation</span></div> <!> <p class="text-sm text-stone-600">Process of reducing the body to ashes/fragments.</p></button></div> <div class="bg-stone-50 rounded-xl p-6"><h3 class="font-bold text-stone-700 mb-4 flex items-center gap-2"><!> Body Preparation</h3> <div class="flex flex-wrap gap-3"></div></div></div>`),ha=_('<button class="flex items-center gap-3 p-3 bg-white/50 hover:bg-white rounded-xl border border-transparent hover:border-[#4A7C74]/20 transition-all text-left group"><div><!></div> <span class="text-stone-700 font-medium group-hover:text-[#304743]"> </span></button>'),_a=_(`<div class="space-y-8"><div class="text-center space-y-2"><h2 class="text-3xl font-serif font-bold text-[#304743]">The Ceremony</h2> <p class="text-stone-500">Where and how we gather to honor your life.</p></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="space-y-4"><label class="text-xs font-bold uppercase tracking-widest text-stone-400">Venue</label> <input type="text" placeholder="e.g. St. Mary's Church, The Beach, Funeral Home..." class="w-full p-4 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-[#4A7C74] outline-none font-medium"/></div> <div class="space-y-4"><label class="text-xs font-bold uppercase tracking-widest text-stone-400"> </label> <input type="text" class="w-full p-4 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-[#4A7C74] outline-none font-medium"/></div></div> <div class="bg-[#FBF9EB] rounded-2xl p-8 border border-[#4A7C74]/10"><h3 class="font-serif font-bold text-xl text-[#304743] mb-6 flex items-center gap-3"><!> </h3> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"></div></div></div>`),ya=_('<div class="flex justify-between items-center text-sm p-2 bg-stone-50 rounded"><span> </span> <button class="text-red-400 hover:text-red-600">Ã—</button></div>'),wa=_(`<div class="space-y-8"><div class="text-center space-y-2"><h2 class="text-3xl font-serif font-bold text-[#304743]">Atmosphere</h2> <p class="text-stone-500">Setting the tone, music, and feeling of the service.</p></div> <div class="flex justify-end mb-1"><!></div> <!> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="bg-white p-6 rounded-xl border border-stone-200 shadow-sm"><h3 class="font-bold text-stone-700 mb-2 flex items-center gap-2"><!> Music Requests</h3> <div class="space-y-2"><!> <button class="text-xs font-bold text-[#4A7C74] uppercase tracking-wide mt-2">+ Add Song</button></div></div> <div class="bg-white p-6 rounded-xl border border-stone-200 shadow-sm"><h3 class="font-bold text-stone-700 mb-2 flex items-center gap-2"><!> Floral Preferences</h3> <textarea class="w-full text-sm bg-stone-50 border border-stone-100 rounded-lg p-3 outline-none focus:ring-1 focus:ring-[#4A7C74]" placeholder="e.g. White Lilies only, or 'In Lieu of Flowers'..."></textarea></div></div></div>`),Ca=_('<div class="space-y-8"><div class="text-center space-y-2"><h2 class="text-3xl font-serif font-bold text-[#304743]">Legacy & Logistics</h2> <p class="text-stone-500">Final details to ensure your message is heard.</p></div> <div class="flex justify-end mb-1"><!></div> <!> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-4"><label class="text-xs font-bold uppercase tracking-widest text-stone-400">Charity Donations</label> <input type="text" placeholder="Organization name..." class="w-full p-4 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-[#4A7C74] outline-none font-medium"/></div></div></div>'),Aa=_('<button class="px-8 py-3 bg-[#304743] hover:bg-[#2A3F3B] text-white rounded-xl font-bold shadow-lg shadow-[#304743]/20 flex items-center gap-2 transition-all hover:-translate-y-0.5">Next Step <!></button>'),$a=_('<button class="px-8 py-3 bg-[#4A7C74] hover:bg-[#3b635d] text-white rounded-xl font-bold shadow-lg shadow-[#4A7C74]/20 flex items-center gap-2 transition-all hover:-translate-y-0.5"><!> Save Plan</button>'),Pa=_('<div class="bg-white rounded-3xl border border-stone-100 shadow-xl overflow-hidden min-h-[600px] flex flex-col"><div class="bg-stone-50 border-b border-stone-100 p-6"><div class="flex justify-between max-w-3xl mx-auto relative"><div class="absolute top-5 left-0 right-0 h-0.5 bg-stone-200 -z-0"></div> <div class="absolute top-5 left-0 h-0.5 bg-[#4A7C74] -z-0 transition-all duration-500"></div> <!></div></div> <div class="flex-1 p-8 md:p-12 overflow-y-auto"><div class="max-w-3xl mx-auto space-y-8"><!></div></div> <div class="p-6 bg-white border-t border-stone-100 flex justify-between items-center"><button class="px-6 py-3 rounded-xl font-bold text-stone-500 hover:bg-stone-50 disabled:opacity-30 disabled:hover:bg-transparent transition-colors flex items-center gap-2"><!> Back</button> <!></div></div>');function ka(_e,ce){Ct(ce,!1);const L=()=>st(le,"$funeralStore",V),[V,fe]=Ft(),l=Z(),u=Z(),q=[{id:1,title:"Foundation",icon:Jt},{id:2,title:"The Farewell",icon:Yt},{id:3,title:"Ceremony",icon:nt},{id:4,title:"Atmosphere",icon:_t},{id:5,title:"Legacy",icon:Xt}];let m=Z(1),z=Z({foundation:Qe.funeral.foundation[0],atmosphere:Qe.funeral.atmosphere[0],legacy:Qe.funeral.legacy[0]});function ee(d){const n=Qe.funeral[d];let f;do f=n[Math.floor(Math.random()*n.length)];while(f===e(z)[d]&&n.length>1);P(z,{...e(z),[d]:f})}function pe(d){le.update(n=>({...n,wishes:{...n.wishes,religiousTradition:d}}))}function be(d){le.update(n=>({...n,wishes:{...n.wishes,disposition:d}}))}function c(d){const n=e(l).ceremonyDetails?.rituals||[],f=n.includes(d)?n.filter(x=>x!==d):[...n,d];le.update(x=>({...x,wishes:{...x.wishes,ceremonyDetails:{...x.wishes.ceremonyDetails,rituals:f}}}))}function te(d,n){le.update(f=>{const x={...f};let K=x.wishes;for(let h=0;h<d.length-1;h++)K[d[h]]||(K[d[h]]={}),K=K[d[h]];return K[d[d.length-1]]=n,x})}function Ge(){e(m)<q.length&&bt(m)}function Ue(){e(m)>1&&bt(m,-1)}function Se(d){return e(u).forbidden?.includes(d)}Pe(()=>L(),()=>{P(l,L().wishes)}),Pe(()=>e(l),()=>{P(u,it[e(l).religiousTradition||"secular"])}),At(),wt();var Te=Pa(),ye=a(Te),Fe=a(ye),Me=r(a(Fe),2),Je=r(Me,2);De(Je,1,()=>q,Be,(d,n)=>{var f=ma(),x=a(f),K=a(x);Gt(K,()=>e(n).icon,(w,A)=>{A(w,{size:18})}),t(x);var h=r(x,2),T=a(h,!0);t(h),t(f),M(()=>{de(x,1,`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300
                        ${e(n),e(m),o(()=>e(n).id===e(m)?"bg-[#4A7C74] border-[#4A7C74] text-white shadow-lg scale-110":e(n).id<e(m)?"bg-[#4A7C74] border-[#4A7C74] text-white":"bg-white border-stone-300 text-stone-300 group-hover:border-[#4A7C74]/50")??""}`),de(h,1,`text-[10px] font-bold uppercase tracking-widest transition-colors duration-300
                        ${e(n),e(m),o(()=>e(n).id===e(m)?"text-[#4A7C74]":"text-stone-400")??""}`),C(T,(e(n),o(()=>e(n).title)))}),g("click",f,()=>P(m,e(n).id)),v(d,f)}),t(Fe),t(ye);var we=r(ye,2),Ve=a(we),He=a(Ve);{var Ye=d=>{var n=pa(),f=r(a(n),2);De(f,5,()=>(Ut(it),o(()=>Object.values(it))),Be,(T,w)=>{var A=fa(),ae=a(A),Q=a(ae,!0);t(ae);var I=r(ae,2),N=a(I);t(I),t(A),M(H=>{de(A,1,`p-4 rounded-xl border-2 text-left transition-all hover:scale-[1.02]
                                ${e(l),e(w),o(()=>e(l).religiousTradition===e(w).key?"border-[#4A7C74] bg-[#4A7C74]/5 shadow-mdring-1 ring-[#4A7C74]":"border-stone-100 hover:border-[#4A7C74]/30 bg-white")??""}`),C(Q,(e(w),o(()=>e(w).name))),C(N,`${H??""}...`)},[()=>(e(w),o(()=>e(w).commonRituals.slice(0,3).join(", ")))]),g("click",A,()=>pe(e(w).key)),v(T,A)}),t(f);var x=r(f,2),K=a(x);ot(K,{onRefresh:()=>ee("foundation"),label:"New Question"}),t(x);var h=r(x,2);{let T=Re(()=>(e(u),o(()=>e(u).smartTextareaPrompts.foundation||[]))),w=Re(()=>(e(l),o(()=>e(l).ceremonyDetails?.type||"")));rt(h,{label:"Core Values & Wishes",context:"funeral",get placeholder(){return e(z),o(()=>e(z).foundation)},get suggestions(){return e(T)},get value(){return e(w)},minHeight:"120px",$$events:{change:A=>te(["ceremonyDetails","type"],A.detail)}})}t(n),he(1,n,()=>ke),v(d,n)},Ee=d=>{var n=$e(),f=oe(n);{var x=h=>{var T=xa(),w=r(a(T),2),A=a(w),ae=a(A),Q=a(ae),I=a(Q);ta(I,{size:24}),t(Q),W(2),t(ae),W(2),t(A);var N=r(A,2),H=a(N),ie=a(H),O=a(ie);aa(O,{size:24}),t(ie),W(2),t(H);var B=r(H,2);{var Y=F=>{var i=ba(),s=a(i);t(i),M(()=>C(s,`Typically Forbidden in ${e(u),o(()=>e(u).name)??""}`)),v(F,i)};J(B,F=>{o(()=>Se("cremation"))&&F(Y)})}W(2),t(N),t(w);var G=r(w,2),R=a(G),j=a(R);ra(j,{size:18}),W(),t(R);var U=r(R,2);De(U,5,()=>(e(u),o(()=>[e(u).terminology.bodyPreparation,"Embalming","Dressing","Cosmetology"])),Be,(F,i)=>{var s=$e(),b=oe(s);{var k=y=>{var p=ga(),D=a(p,!0);t(p),M(S=>{de(p,1,`px-4 py-2 rounded-lg border text-sm font-bold transition-all
                                        ${S??""}`),C(D,e(i))},[()=>(e(l),e(i),o(()=>e(l).ceremonyDetails?.rituals?.includes(e(i))?"bg-[#4A7C74] text-white border-[#4A7C74]":"bg-white border-stone-200 text-stone-500 hover:border-[#4A7C74]"))]),g("click",p,()=>c(e(i))),v(y,p)};J(b,y=>{e(i),o(()=>!["Embalming"].some(p=>p===e(i)&&Se("embalming")))&&y(k)})}v(F,s)}),t(U),t(G),t(T),M(F=>{de(A,1,`p-6 rounded-2xl border-2 text-left transition-all relative overflow-hidden group
                             ${e(l),o(()=>e(l).disposition==="Burial"?"border-[#4A7C74] bg-[#FBF9EB]":"border-stone-100 hover:border-[#4A7C74]/30")??""}`),de(N,1,`p-6 rounded-2xl border-2 text-left transition-all relative overflow-hidden group
                             ${e(l),o(()=>e(l).disposition==="Cremation"?"border-[#4A7C74] bg-[#FBF9EB]":"border-stone-100")??""}
                             ${F??""}`)},[()=>o(()=>Se("cremation")?"opacity-50 cursor-not-allowed grayscale":"hover:border-[#4A7C74]/30")]),g("click",A,()=>be("Burial")),g("click",N,()=>!Se("cremation")&&be("Cremation")),he(1,T,()=>ke),v(h,T)},K=h=>{var T=$e(),w=oe(T);{var A=Q=>{var I=_a(),N=r(a(I),2),H=a(N),ie=r(a(H),2);je(ie),t(H);var O=r(H,2),B=a(O),Y=a(B);t(B);var G=r(B,2);je(G),t(O),t(N);var R=r(N,2),j=a(R),U=a(j);nt(U,{size:20});var F=r(U);t(j);var i=r(j,2);De(i,5,()=>(e(u),o(()=>e(u).commonRituals)),Be,(s,b)=>{var k=ha(),y=a(k),p=a(y);yt(p,{size:14}),t(y);var D=r(y,2),S=a(D,!0);t(D),t(k),M($=>{de(y,1,`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors
                                        ${$??""}`),C(S,e(b))},[()=>(e(l),e(b),o(()=>e(l).ceremonyDetails?.rituals?.includes(e(b))?"bg-[#4A7C74] border-[#4A7C74] text-white":"border-stone-300 text-transparent group-hover:border-[#4A7C74]"))]),g("click",k,()=>c(e(b))),v(s,k)}),t(i),t(R),t(I),M(()=>{Ke(ie,(e(l),o(()=>e(l).venue||""))),C(Y,`Officiant (${e(u),o(()=>e(u).terminology.officiant)??""})`),Ke(G,(e(l),o(()=>e(l).ceremonyDetails?.officiant||""))),Ot(G,"placeholder",(e(u),o(()=>`Name of ${e(u).terminology.officiant}...`))),C(F,` ${e(u),o(()=>e(u).name)??""} Rituals`)}),g("input",ie,s=>te(["venue"],s.currentTarget.value)),g("input",G,s=>te(["ceremonyDetails","officiant"],s.currentTarget.value)),he(1,I,()=>ke),v(Q,I)},ae=Q=>{var I=$e(),N=oe(I);{var H=O=>{var B=wa(),Y=r(a(B),2),G=a(Y);ot(G,{onRefresh:()=>ee("atmosphere"),label:"New Question"}),t(Y);var R=r(Y,2);{let $=Re(()=>(e(u),o(()=>e(u).smartTextareaPrompts.atmosphere||[]))),re=Re(()=>(e(l),o(()=>e(l).mood||"")));rt(R,{label:"Vibe & Atmosphere",context:"funeral",get placeholder(){return e(z),o(()=>e(z).atmosphere)},get suggestions(){return e($)},get value(){return e(re)},minHeight:"150px",$$events:{change:ue=>te(["mood"],ue.detail)}})}var j=r(R,2),U=a(j),F=a(U),i=a(F);_t(i,{size:18}),W(),t(F);var s=r(F,2),b=a(s);De(b,1,()=>(e(l),o(()=>e(l).music||[])),Be,($,re,ue)=>{var se=ya(),ne=a(se),Ne=a(ne,!0);t(ne);var ge=r(ne,2);t(se),M(()=>C(Ne,e(re))),g("click",ge,()=>{const xe=e(l).music.filter((dt,Xe)=>Xe!==ue);te(["music"],xe)}),v($,se)});var k=r(b,2);t(s),t(U);var y=r(U,2),p=a(y),D=a(p);ua(D,{size:18}),W(),t(p);var S=r(p,2);Vt(S),t(y),t(j),t(B),M(()=>Ke(S,(e(l),o(()=>e(l).flowers||"")))),g("click",k,()=>{const $=prompt("Add Song (Artist - Title):");$&&te(["music"],[...e(l).music,$])}),g("change",S,$=>te(["flowers"],$.currentTarget.value)),he(1,B,()=>ke),v(O,B)},ie=O=>{var B=$e(),Y=oe(B);{var G=R=>{var j=Ca(),U=r(a(j),2),F=a(U);ot(F,{onRefresh:()=>ee("legacy"),label:"New Question"}),t(U);var i=r(U,2);{let y=Re(()=>(e(u),o(()=>e(u).smartTextareaPrompts.legacy||[]))),p=Re(()=>(e(l),o(()=>e(l).legacy?.obituaryNotes||"")));rt(i,{label:"Obituary Notes & Life Story",context:"funeral",get placeholder(){return e(z),o(()=>e(z).legacy)},get suggestions(){return e(y)},get value(){return e(p)},minHeight:"180px",$$events:{change:D=>te(["legacy","obituaryNotes"],D.detail)}})}var s=r(i,2),b=a(s),k=r(a(b),2);je(k),t(b),t(s),t(j),M(()=>Ke(k,(e(l),o(()=>e(l).legacy?.charity||"")))),g("input",k,y=>te(["legacy","charity"],y.currentTarget.value)),he(1,j,()=>ke),v(R,j)};J(Y,R=>{e(m)===5&&R(G)},!0)}v(O,B)};J(N,O=>{e(m)===4?O(H):O(ie,!1)},!0)}v(Q,I)};J(w,Q=>{e(m)===3?Q(A):Q(ae,!1)},!0)}v(h,T)};J(f,h=>{e(m)===2?h(x):h(K,!1)},!0)}v(d,n)};J(He,d=>{e(m)===1?d(Ye):d(Ee,!1)})}t(Ve),t(we);var Le=r(we,2),ve=a(Le),Oe=a(ve);Zt(Oe,{size:18}),W(),t(ve);var We=r(ve,2);{var ze=d=>{var n=Aa(),f=r(a(n));ea(f,{size:18}),t(n),g("click",n,Ge),v(d,n)},Ie=d=>{var n=$a(),f=a(n);yt(f,{size:18}),W(),t(n),v(d,n)};J(We,d=>{e(m),o(()=>e(m)<q.length)?d(ze):d(Ie,!1)})}t(Le),t(Te),M(()=>{Ht(Me,`width: ${e(m),o(()=>(e(m)-1)/(q.length-1)*100)??""}%`),ve.disabled=e(m)===1}),g("click",ve,Ue),v(_e,Te),$t(),fe()}var Sa=_('<!> <div class="text-center mt-4"><button class="text-[#4A7C74] font-bold text-sm hover:underline">Manually Add Item</button></div>',1),Ta=_('You are projected to save <span class="font-bold underline"> </span> compared to the national average.',1),Fa=_('Your plan is currently <span class="font-bold underline"> </span> over the national average.',1),Ma=_('<div class="px-6 py-4 flex items-center justify-between group hover:bg-stone-50 transition-colors"><div><div class="font-bold text-stone-800"> </div> <div class="text-xs text-stone-400"> </div></div> <div class="flex items-center gap-6"><div class="font-bold text-stone-700"> </div> <div class="flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity"><button class="p-2 text-stone-400 hover:text-[#4A7C74] bg-white border border-stone-200 rounded-full shadow-sm"><!></button> <button class="p-2 text-stone-400 hover:text-red-500 bg-white border border-stone-200 rounded-full shadow-sm"><!></button></div></div></div>'),Na=_('<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 items-end"><div class="p-6 rounded-2xl bg-[#304743] text-white shadow-lg"><div class="text-xs font-bold uppercase tracking-wider opacity-70 mb-1">Total Estimated Cost</div> <div class="text-4xl font-serif font-bold"> </div></div> <div class="p-6 rounded-2xl bg-white border border-stone-200 shadow-sm"><div class="text-xs font-bold uppercase tracking-wider text-stone-500 mb-1">Industry Avg. (Projected)</div> <div class="text-2xl font-bold text-stone-700"> </div></div> <div><div class="flex items-center gap-2 font-bold mb-1">Saving vs. Avg</div> <p class="text-sm opacity-90 leading-relaxed"><!></p></div></div> <div class="bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden"><div class="px-6 py-4 border-b border-stone-100 flex justify-between items-center"><h3 class="font-bold text-stone-700 flex items-center gap-2"><!> Budget Breakdown</h3> <div class="flex gap-2"><button class="text-xs font-bold text-stone-500 hover:text-[#4A7C74] px-3 py-1.5 rounded-lg hover:bg-stone-50 transition-colors">Auto-Fill Common Costs</button> <button class="bg-[#4A7C74] hover:bg-[#3b635d] text-white px-4 py-1.5 rounded-lg text-sm font-bold shadow-sm transition-all">+ Add Item</button></div></div> <div class="divide-y divide-stone-100"></div></div>',1),Ra=_("<div><!></div>"),Da=_('<div class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm"><div class="bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden"><div class="bg-[#304743] p-6 flex justify-between items-start text-white"><div><h3 class="font-serif font-bold text-xl"> </h3> <p class="text-emerald-100/80 text-sm mt-1">Add a line item to your funeral budget.</p></div> <button class="text-white/50 hover:text-white transition-colors"><!></button></div> <div class="p-6 space-y-4"><div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Item Name</label> <input class="w-full p-3 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-[#4A7C74] outline-none font-medium" placeholder="e.g. Venue Rental"/></div> <div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Cost ($)</label> <input type="number" class="w-full p-3 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-[#4A7C74] outline-none font-medium" placeholder="0.00"/></div> <button class="w-full py-4 bg-[#4A7C74] hover:bg-[#3b635d] text-white font-bold rounded-xl shadow-lg shadow-[#4A7C74]/20 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed">Save Expense</button></div></div></div>'),Ea=_(`<div class="max-w-6xl mx-auto p-8 animate-in fade-in duration-500"><div class="mb-12 text-center"><div class="inline-flex items-center justify-center p-4 bg-teal-100 text-teal-800 rounded-full mb-6"><!></div> <div class="max-w-xl mx-auto mb-6"><!></div> <h1 class="font-serif font-bold text-4xl text-[#304743] mb-4">Funeral Planner</h1> <p class="text-lg text-muted-foreground max-w-2xl mx-auto">Relieve the burden of decision-making. Plan the details, manage the
            budget, and ensure your wishes are honored.</p> <div class="mt-8 max-w-3xl mx-auto text-left"><!></div></div> <div class="flex justify-center mb-8"><div class="bg-gray-100 p-1.5 rounded-xl inline-flex gap-2"><button>My Wishes & Vibe</button> <button>Budget Calculator</button></div></div> <div class="bg-white rounded-3xl border border-border shadow-sm overflow-hidden min-h-[500px] p-8"><div class="mb-10 p-6 bg-slate-50 border border-slate-100 rounded-2xl flex flex-col md:flex-row justify-between items-center gap-6"><div class="flex items-center gap-4"><div class="p-3 bg-white rounded-xl shadow-sm text-slate-400"><!></div> <div><h2 class="text-xl font-bold text-slate-800"> </h2> <p class="text-sm text-slate-500 italic">Pre-filled from Estate Profile</p></div></div> <div class="h-10 w-px bg-slate-200 hidden md:block"></div> <div class="flex items-center gap-4"><div class="text-right"><p class="text-xs font-bold uppercase tracking-widest text-slate-400">Chief Coordinator</p> <p class="font-bold text-slate-700"> </p></div> <div class="p-3 bg-white rounded-xl shadow-sm text-indigo-500"><!></div></div> <div class="h-10 w-px bg-slate-200 hidden md:block"></div> <div class="flex items-center gap-4"><div class="text-right"><p class="text-xs font-bold uppercase tracking-widest text-slate-400">Local Area</p> <p class="font-bold text-slate-700"> </p></div> <div class="p-3 bg-white rounded-xl shadow-sm text-emerald-500"><!></div></div></div> <!> <!> <!></div></div>`);function hr(_e,ce){Ct(ce,!1);const L=()=>st(le,"$funeralStore",fe),V=()=>st(Qt,"$estateProfile",fe),[fe,l]=Ft(),u=Z(),q=Z(),m=Z(),z=Z(),ee=Z();let pe=Z("wishes"),be=Z(!1),c=Z({name:"",cost:0});function te(){if(e(c).name){if(e(c).id)le.update(i=>({...i,budget:i.budget.map(s=>s.id===e(c).id?{...s,...e(c),cost:Number(e(c).cost),estimated:Number(e(c).cost)}:s)})),ht.logEvent({module:"Funeral Planning",action:"UPDATE",entityType:"Budget Item",entityId:e(c).id,entityName:e(c).name||"Unnamed Item",changes:[],userContext:V().ownerName||"User"});else{const i=crypto.randomUUID();le.update(s=>({...s,budget:[...s.budget,{id:i,name:e(c).name||"Expense",cost:Number(e(c).cost),estimated:Number(e(c).cost)}]})),ht.logEvent({module:"Funeral Planning",action:"CREATE",entityType:"Budget Item",entityId:i,entityName:e(c).name,userContext:V().ownerName||"User"})}Ue()}}function Ge(i){P(c,{...i}),P(be,!0)}function Ue(){P(c,{id:void 0,name:"",cost:0}),P(be,!1)}function Se(i){confirm("Remove expense?")&&le.update(s=>({...s,budget:s.budget.filter(b=>b.id!==i)}))}function Te(){if(!confirm("This will add standard industry average costs (2021 NFDA) to your budget. Continue?"))return;[{name:"Basic Services Fees",cost:2300,estimated:2300},{name:"Embalming & Prep",cost:775,estimated:775},{name:"Viewing / Visitation",cost:450,estimated:450},{name:"Funeral Ceremony",cost:515,estimated:515},{name:"Hearse",cost:350,estimated:350},{name:"Transfer of Remains",cost:350,estimated:350},{name:"Casket (Metal)",cost:2500,estimated:2500},{name:"Vault",cost:1572,estimated:1572},{name:"Memorial Printed Package",cost:183,estimated:183}].forEach(s=>{le.update(b=>({...b,budget:[...b.budget,{id:crypto.randomUUID(),name:s.name,cost:s.cost,estimated:s.estimated}]}))})}Pe(()=>L(),()=>{P(u,L().wishes)}),Pe(()=>L(),()=>{P(q,L().budget)}),Pe(()=>L(),()=>{P(m,L().budget.reduce((i,s)=>i+s.cost,0))}),Pe(()=>L(),()=>{P(z,L().budget.reduce((i,s)=>i+(s.estimated||s.cost),0))}),Pe(()=>(e(z),e(m)),()=>{P(ee,e(z)-e(m))}),At(),wt();var ye=Ea(),Fe=a(ye),Me=a(Fe),Je=a(Me);nt(Je,{size:48}),t(Me);var we=r(Me,2),Ve=a(we);qt(Ve,{context:"obituary"}),t(we);var He=r(we,6),Ye=a(He);oa(Ye,{variant:"banner",title:"Important Note",message:"Funeral laws and requirements vary significantly by state and country. While these wishes guide your family, some jurisdictions require specific legal forms for binding disposition instructions."}),t(He),t(Fe);var Ee=r(Fe,2),Le=a(Ee),ve=a(Le),Oe=r(ve,2);t(Le),t(Ee);var We=r(Ee,2),ze=a(We),Ie=a(ze),d=a(Ie),n=a(d);va(n,{size:32}),t(d);var f=r(d,2),x=a(f),K=a(x);t(x),W(2),t(f),t(Ie);var h=r(Ie,4),T=a(h),w=r(a(T),2),A=a(w,!0);t(w),t(T);var ae=r(T,2),Q=a(ae);ia(Q,{size:24}),t(ae),t(h);var I=r(h,4),N=a(I),H=r(a(N),2),ie=a(H,!0);t(H),t(N);var O=r(N,2),B=a(O);sa(B,{size:24}),t(O),t(I),t(ze);var Y=r(ze,2);{var G=i=>{ka(i,{})};J(Y,i=>{e(pe)==="wishes"&&i(G)})}var R=r(Y,2);{var j=i=>{var s=Ra(),b=a(s);{var k=p=>{var D=Sa(),S=oe(D);Kt(S,{type:"funeral",onAdd:Te});var $=r(S,2),re=a($);t($),g("click",re,()=>{P(c,{name:"New Expense",cost:0}),P(be,!0)}),v(p,D)},y=p=>{var D=Na(),S=oe(D),$=a(S),re=r(a($),2),ue=a(re);t(re),t($);var se=r($,2),ne=r(a(se),2),Ne=a(ne);t(ne),t(se);var ge=r(se,2),xe=r(a(ge),2),dt=a(xe);{var Xe=X=>{var E=Ta(),me=r(oe(E)),Ce=a(me);t(me),W(),M(Ae=>C(Ce,`$${Ae??""}`),[()=>(e(ee),o(()=>e(ee).toLocaleString()))]),v(X,E)},Mt=X=>{var E=Fa(),me=r(oe(E)),Ce=a(me);t(me),W(),M(Ae=>C(Ce,`$${Ae??""}`),[()=>(e(ee),o(()=>Math.abs(e(ee)).toLocaleString()))]),v(X,E)};J(dt,X=>{e(ee)>=0?X(Xe):X(Mt,!1)})}t(xe),t(ge),t(S);var lt=r(S,2),Ze=a(lt),et=a(Ze),Nt=a(et);da(Nt,{size:18}),W(),t(et);var ct=r(et,2),vt=a(ct),Rt=r(vt,2);t(ct),t(Ze);var ut=r(Ze,2);De(ut,5,()=>e(q),X=>X.id,(X,E)=>{var me=Ma(),Ce=a(me),Ae=a(Ce),Dt=a(Ae,!0);t(Ae);var mt=r(Ae,2),Et=a(mt);t(mt),t(Ce);var ft=r(Ce,2),tt=a(ft),Lt=a(tt);t(tt);var pt=r(tt,2),qe=a(pt),zt=a(qe);la(zt,{size:14}),t(qe);var at=r(qe,2),It=a(at);ca(It,{size:14}),t(at),t(pt),t(ft),t(me),M((Bt,jt)=>{C(Dt,(e(E),o(()=>e(E).name))),C(Et,`Estimated: $${Bt??""}`),C(Lt,`$${jt??""}`)},[()=>(e(E),o(()=>e(E).estimated?.toLocaleString())),()=>(e(E),o(()=>e(E).cost.toLocaleString()))]),g("click",qe,()=>Ge(e(E))),g("click",at,()=>Se(e(E).id)),v(X,me)}),t(ut),t(lt),M((X,E)=>{C(ue,`$${X??""}`),C(Ne,`$${E??""}`),de(ge,1,`p-6 rounded-2xl h-fit ${e(ee)>=0?"bg-emerald-50 text-emerald-800":"bg-rose-50 text-rose-800"}`)},[()=>(e(m),o(()=>e(m).toLocaleString())),()=>(e(z),o(()=>e(z).toLocaleString()))]),g("click",vt,Te),g("click",Rt,()=>{P(c,{name:"",cost:0}),P(be,!0)}),v(p,D)};J(b,p=>{e(q),o(()=>e(q).length===0)?p(k):p(y,!1)})}t(s),he(1,s,()=>ke,()=>({duration:300})),v(i,s)};J(R,i=>{e(pe)==="budget"&&i(j)})}var U=r(R,2);{var F=i=>{var s=Da(),b=a(s),k=a(b),y=a(k),p=a(y),D=a(p,!0);t(p),W(2),t(y);var S=r(y,2),$=a(S);na($,{size:24}),t(S),t(k);var re=r(k,2),ue=a(re),se=r(a(ue),2);je(se),t(ue);var ne=r(ue,2),Ne=r(a(ne),2);je(Ne),t(ne);var ge=r(ne,2);t(re),t(b),t(s),M(()=>{C(D,(e(c),o(()=>e(c).id?"Edit Item":"New Expense"))),ge.disabled=(e(c),o(()=>!e(c).name))}),g("click",S,Ue),xt(se,()=>e(c).name,xe=>gt(c,e(c).name=xe)),xt(Ne,()=>e(c).cost,xe=>gt(c,e(c).cost=xe)),g("click",ge,te),he(3,b,()=>Wt,()=>({start:.95})),he(3,s,()=>ke),v(i,s)};J(U,i=>{e(be)&&i(F)})}t(We),t(ye),M(()=>{de(ve,1,`px-6 py-2.5 rounded-lg font-bold text-sm transition-all ${e(pe)==="wishes"?"bg-white shadow-sm text-[#304743]":"text-gray-500 hover:text-gray-900"}`),de(Oe,1,`px-6 py-2.5 rounded-lg font-bold text-sm transition-all ${e(pe)==="budget"?"bg-white shadow-sm text-[#304743]":"text-gray-500 hover:text-gray-900"}`),C(K,`Memorial for ${V(),o(()=>V().ownerName||"Valued Member")??""}`),C(A,(V(),o(()=>V().executorName||"None Designated"))),C(ie,(V(),o(()=>V().legalCityState||"Not Set")))}),g("click",ve,()=>P(pe,"wishes")),g("click",Oe,()=>P(pe,"budget")),v(_e,ye),$t(),l()}export{hr as component};
