import{c as ye,a as b,f as w,e as k}from"../chunks/CI19bRDX.js";import{i as ct}from"../chunks/CeYVVThO.js";import{f as H,p as vt,c as t,g as r,m as A,d as v,s as o,r as e,t as U,a as ut,k as L,n as T,a5 as gt,i as bt,j as mt}from"../chunks/CC-cBgEA.js";import{s as E}from"../chunks/DtWQG8q5.js";import{i as I}from"../chunks/oYNvDJv2.js";import{I as Ue,s as Ie,t as de,e as Fe,i as xt}from"../chunks/B0hQvWV2.js";import{a as Ce,r as Ge,s as _t,d as ht}from"../chunks/CPE7ojsi.js";import{b as Ve}from"../chunks/DubRPcAg.js";import{l as Ne,b as Oe,s as wt,a as tt}from"../chunks/BHjHH8n1.js";import{d as yt}from"../chunks/DtJFryUL.js";import{c as kt}from"../chunks/lbPixqMI.js";import{f as Ye,s as $t,b as We}from"../chunks/B37JQBsy.js";import{q as St}from"../chunks/Ccw7PXcW.js";import{c as Mt,o as zt,a as Rt}from"../chunks/Cc88vFxA.js";import{b as jt}from"../chunks/DtYL2sJG.js";import{C as Pt}from"../chunks/wGOTG8UU.js";import{P as Vt}from"../chunks/BXTwDDD2.js";import{R as Tt}from"../chunks/BGW0onC6.js";import{L as Lt}from"../chunks/PDyLZ_rv.js";import{S as Ct}from"../chunks/CiwhR5N5.js";import{S as rt}from"../chunks/DsBbgq5b.js";import{L as at}from"../chunks/k2r9JiDO.js";import{P as Je}from"../chunks/3NDLYjDg.js";import{T as Ut}from"../chunks/BtEVtpAO.js";import{U as It}from"../chunks/B6MkXCxC.js";import{C as ot}from"../chunks/DS3VKAhf.js";import{X as st}from"../chunks/CiL9a3zz.js";function it(f,d){const g=Ne(d,["children","$$slots","$$events","$$legacy"]);const n=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}]];Ue(f,Oe({name:"lock-open"},()=>g,{get iconNode(){return n},children:(c,y)=>{var a=ye(),m=H(a);Ie(m,d,"default",{}),b(c,a)},$$slots:{default:!0}}))}function Nt(f,d){const g=Ne(d,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z"}]];Ue(f,Oe({name:"message-square"},()=>g,{get iconNode(){return n},children:(c,y)=>{var a=ye(),m=H(a);Ie(m,d,"default",{}),b(c,a)},$$slots:{default:!0}}))}function lt(f,d){const g=Ne(d,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"M12 13v8"}],["path",{d:"M12 3v3"}],["path",{d:"M4 6a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h13a2 2 0 0 0 1.152-.365l3.424-2.317a1 1 0 0 0 0-1.635l-3.424-2.318A2 2 0 0 0 17 6z"}]];Ue(f,Oe({name:"milestone"},()=>g,{get iconNode(){return n},children:(c,y)=>{var a=ye(),m=H(a);Ie(m,d,"default",{}),b(c,a)},$$slots:{default:!0}}))}function nt(f,d){const g=Ne(d,["children","$$slots","$$events","$$legacy"]);const n=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2"}]];Ue(f,Oe({name:"video"},()=>g,{get iconNode(){return n},children:(c,y)=>{var a=ye(),m=H(a);Ie(m,d,"default",{}),b(c,a)},$$slots:{default:!0}}))}const dt=[{id:"grad",label:"College Graduation"},{id:"wedding",label:"Wedding Day"},{id:"parent",label:"Becoming a Parent"},{id:"home",label:"Buying First Home"},{id:"career",label:"Major Career Achievement"},{id:"anniv_10",label:"10th Marriage Anniversary"}],Ot=()=>{if(typeof localStorage>"u")return[];if(localStorage.getItem("continuum_owner_time_capsule"))return[];const d=localStorage.getItem("continuum_time_capsule");if(d)try{return JSON.parse(d)}catch(g){console.error("Failed to parse time capsule from localStorage",g)}return[]};function Dt(){const f=kt("time_capsule",Ot()),{subscribe:d,set:g,update:n}=f;return{subscribe:d,addMessage:c=>{n(y=>[...y,{...c,id:crypto.randomUUID(),isReleased:!1,createdAt:new Date().toISOString()}])},removeMessage:c=>{n(y=>y.filter(a=>a.id!==c))},releaseMessage:c=>{n(y=>y.map(a=>a.id===c?{...a,isReleased:!0}:a))}}}const Le=Dt(),Et=yt(Le,f=>{const d=f.filter(n=>n.isReleased),g=f.filter(n=>!n.isReleased);return{unlocked:d,locked:g}});var At=w('<div class="absolute inset-0 flex flex-col items-center justify-center bg-slate-900/90 text-white p-6 text-center"><!> <h3 class="font-bold text-xl mb-2">Camera Error</h3> <p class="text-slate-400"> </p> <button class="mt-6 px-6 py-2 bg-indigo-600 rounded-full font-bold hover:bg-indigo-700 transition">Try Again</button></div>'),qt=w('<button class="w-16 h-16 rounded-full border-[6px] border-white/30 flex items-center justify-center hover:scale-105 transition-all group/rec"><div class="w-12 h-12 bg-rose-500 rounded-full group-hover/rec:scale-90 transition-all"></div></button>'),Bt=w('<button class="w-16 h-16 rounded-full border-[6px] border-white/30 flex items-center justify-center hover:scale-105 transition-all group/stop"><div class="w-6 h-6 bg-white rounded-md"></div></button>'),Ht=w('<div class="absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent flex items-center justify-between"><div class="flex items-center gap-3"><div></div> <span class="text-white font-mono font-bold tracking-widest"> </span></div> <!> <div class="w-10"></div></div>'),Ft=w("<!> Saving...",1),Gt=w("<!> Save Memory",1),Wt=w('<div class="absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"><div class="flex gap-4"><button class="p-4 bg-white/20 backdrop-blur rounded-full text-white hover:bg-white/40 transition"><!></button></div></div> <div class="absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/90 to-transparent flex items-center justify-between gap-4"><button class="px-4 py-2 rounded-xl text-white font-bold hover:bg-white/10 transition flex items-center gap-2"><!> Retake</button> <button class="px-8 py-3 bg-emerald-500 text-white rounded-xl font-bold shadow-lg shadow-emerald-500/30 hover:bg-emerald-600 transition flex items-center gap-2"><!></button></div>',1),Jt=w('<div class="relative bg-slate-900 rounded-2xl overflow-hidden aspect-video shadow-2xl group border border-slate-800"><video autoplay playsinline=""></video> <!> <!> <!></div>',2);function Xt(f,d){vt(d,!1);const g=Mt();let n=null,c=null,y=[],a=A(),m=A(!1),R=A(null),l=null,Z=A(0),ve,C=A(null),ce=A(!1);async function ue(){try{n=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),r(a)&&(L(a,r(a).srcObject=n),L(a,r(a).muted=!0)),v(C,null)}catch(u){console.error("Camera access denied:",u),v(C,"Camera access denied. Please verify permissions.")}}function pe(){n&&(y=[],c=new MediaRecorder(n),c.ondataavailable=u=>{u.data.size>0&&y.push(u.data)},c.onstop=()=>{v(R,new Blob(y,{type:"video/webm"})),l=URL.createObjectURL(r(R)),r(a)&&(L(a,r(a).srcObject=null),L(a,r(a).src=l),L(a,r(a).muted=!1),L(a,r(a).controls=!0))},c.start(),v(m,!0),v(Z,0),ge())}function fe(){c&&r(m)&&(c.stop(),v(m,!1),ke(),n?.getTracks().forEach(u=>u.stop()))}function ge(){clearInterval(ve),ve=setInterval(()=>{gt(Z)},1e3)}function ke(){clearInterval(ve)}function be(u){const z=Math.floor(u/60),j=u%60;return`${z}:${j.toString().padStart(2,"0")}`}function $e(){l&&URL.revokeObjectURL(l),v(R,null),l=null,y=[],v(Z,0),v(m,!1),v(C,null),ue()}function Se(){r(R)&&(v(ce,!0),g("save",{blob:r(R),duration:r(Z)}))}zt(()=>{ue()}),Rt(()=>{ke(),n?.getTracks().forEach(u=>u.stop()),l&&URL.revokeObjectURL(l)}),ct();var me=Jt(),ee=t(me);jt(ee,u=>v(a,u),()=>r(a));var Me=o(ee,2);{var xe=u=>{var z=At(),j=t(z);Pt(j,{size:48,class:"text-rose-500 mb-4"});var N=o(j,4),i=t(N,!0);e(N);var s=o(N,2);e(z),U(()=>E(i,r(C))),k("click",s,ue),de(1,z,()=>Ye),b(u,z)};I(Me,u=>{r(C)&&u(xe)})}var _e=o(Me,2);{var ze=u=>{var z=Ht(),j=t(z),N=t(j),i=o(N,2),s=t(i,!0);e(i),e(j);var p=o(j,2);{var _=x=>{var $=qt();k("click",$,pe),b(x,$)},h=x=>{var $=Bt();k("click",$,fe),b(x,$)};I(p,x=>{r(m)?x(h,!1):x(_)})}T(2),e(z),U(x=>{Ce(N,1,`w-2 h-2 rounded-full ${r(m)?"bg-rose-500 animate-pulse":"bg-emerald-500"}`),E(s,x)},[()=>be(r(Z))]),b(u,z)};I(_e,u=>{!r(R)&&!r(C)&&u(ze)})}var De=o(_e,2);{var Ee=u=>{var z=Wt(),j=H(z),N=t(j),i=t(N),s=t(i);Vt(s,{size:32,fill:"currentColor"}),e(i),e(N),e(j);var p=o(j,2),_=t(p),h=t(_);Tt(h,{size:18}),T(),e(_);var x=o(_,2),$=t(x);{var O=S=>{var P=Ft(),V=H(P);Lt(V,{size:18,class:"animate-spin"}),T(),b(S,P)},F=S=>{var P=Gt(),V=H(P);Ct(V,{size:18}),T(),b(S,P)};I($,S=>{r(ce)?S(O):S(F,!1)})}e(x),e(p),U(()=>{_.disabled=r(ce),x.disabled=r(ce)}),k("click",i,()=>r(a).play()),k("click",_,$e),k("click",x,Se),de(1,p,()=>$t,()=>({axis:"y"})),b(u,z)};I(De,u=>{r(R)&&u(Ee)})}e(me),U(()=>Ce(ee,1,`w-full h-full object-cover ${r(R)?"":"transform scale-x-[-1]"}`)),b(f,me),ut()}const Yt="continuum_media_db",Q="media_blobs",Kt=1;let Te=null;function Xe(){return Te||(Te=new Promise((f,d)=>{const g=indexedDB.open(Yt,Kt);g.onupgradeneeded=n=>{const c=n.target.result;c.objectStoreNames.contains(Q)||c.createObjectStore(Q)},g.onsuccess=n=>{f(n.target.result)},g.onerror=n=>{d(n.target.error)}}),Te)}const Ke={save:async(f,d)=>{const g=await Xe();return new Promise((n,c)=>{const m=g.transaction([Q],"readwrite").objectStore(Q).put(d,f);m.onsuccess=()=>n(),m.onerror=()=>c(m.error)})},get:async f=>{const d=await Xe();return new Promise((g,n)=>{const a=d.transaction([Q],"readonly").objectStore(Q).get(f);a.onsuccess=()=>g(a.result),a.onerror=()=>n(a.error)})},delete:async f=>{const d=await Xe();return new Promise((g,n)=>{const a=d.transaction([Q],"readwrite").objectStore(Q).delete(f);a.onsuccess=()=>g(),a.onerror=()=>n(a.error)})},getUrl:async f=>{try{const d=await Ke.get(f);return d?URL.createObjectURL(d):null}catch(d){return console.error("Error generating URL for media:",d),null}}};var Qt=w('<!> <span class="text-xs font-bold uppercase tracking-wider"> </span>',1),Zt=w('<!> <span class="text-xs font-bold uppercase tracking-wider"> </span>',1),er=w('<div class="group flex flex-col bg-slate-100/50 border border-slate-200 rounded-[2rem] p-6 space-y-4 hover:bg-white hover:border-indigo-300 transition-all duration-500"><div class="flex items-start justify-between"><div class="p-3 bg-white rounded-2xl shadow-sm text-slate-400 group-hover:text-indigo-600 transition-colors"><!></div> <button class="p-2 text-slate-300 hover:text-rose-500 transition-colors opacity-0 group-hover:opacity-100"><!></button></div> <div class="space-y-1"><h3 class="font-serif font-bold text-xl text-slate-900 group-hover:text-indigo-600 transition-colors"> </h3> <p class="text-xs font-black uppercase text-slate-400 tracking-widest flex items-center gap-2"><!> Recipient: <span class="text-slate-600"> </span></p></div> <div class="p-4 bg-white/60 rounded-xl border border-slate-100 group-hover:border-indigo-100 transition-colors"><p class="text-sm text-slate-500 italic line-clamp-2"> </p></div> <div class="pt-4 border-t border-slate-200 flex items-center justify-between"><div class="flex items-center gap-2 text-amber-600"><!></div> <span class="text-[10px] font-black uppercase text-slate-400 tracking-widest">Locked</span></div></div>'),tr=w('<div class="group flex flex-col bg-emerald-50/50 border border-emerald-200 rounded-[2rem] p-6 space-y-4 hover:shadow-lg transition-all"><div class="flex items-start justify-between"><div class="p-3 bg-white rounded-2xl shadow-sm text-emerald-600"><!></div></div> <div class="space-y-1"><h3 class="font-serif font-bold text-xl text-slate-900 group-hover:text-emerald-700"> </h3> <p class="text-xs font-black uppercase text-emerald-600 tracking-widest flex items-center gap-2"><!> Available Now</p></div> <div class="p-4 bg-white rounded-xl border border-emerald-100"><p class="text-sm text-slate-700 line-clamp-2"> </p></div> <button class="w-full py-3 bg-emerald-600 text-white rounded-2xl font-bold hover:bg-emerald-700 transition-all flex items-center justify-center gap-2"><!> </button></div>'),rr=w(`<div class="md:col-span-2 lg:col-span-3 py-20 bg-slate-50 rounded-[3rem] border-2 border-dashed border-slate-200 text-center space-y-6"><div class="p-6 bg-white rounded-3xl w-24 h-24 mx-auto shadow-sm flex items-center justify-center text-slate-200"><!></div> <div class="space-y-2"><h3 class="text-2xl font-black text-slate-900">Your Vault is Empty</h3> <p class="text-slate-500 max-w-sm mx-auto font-medium">Capture a memory, a message, or a piece of advice today
                        to be seen years from now.</p></div> <button class="px-8 py-3.5 bg-indigo-600 text-white rounded-full font-bold shadow-lg hover:shadow-indigo-200 transition-all flex items-center mx-auto gap-2"><!> Begin a Legacy</button></div>`),ar=w('<input type="date" class="w-full px-5 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none font-medium"/>'),or=w("<option> </option>"),sr=w('<select class="w-full px-5 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none font-medium appearance-none"></select>'),ir=w('<div class="p-6 bg-emerald-50 rounded-3xl border border-emerald-100 flex items-center justify-between"><div class="flex items-center gap-3 text-emerald-700"><!> <span class="font-bold">Video Message Recorded</span></div> <button class="text-xs font-bold text-emerald-600 hover:underline">Re-record</button></div>'),lr=w('<div class="grid grid-cols-1 md:grid-cols-2 gap-4"><button class="p-6 border-2 border-dashed border-slate-200 rounded-3xl flex flex-col items-center gap-3 text-slate-400 hover:border-indigo-300 hover:text-indigo-600 transition-all"><!> <span class="text-xs font-bold uppercase">Record Video</span></button> <textarea placeholder="Or type a written legacy note..." class="w-full px-5 py-4 bg-slate-50 border border-slate-200 rounded-3xl h-full focus:ring-2 focus:ring-indigo-500 outline-none font-medium resize-none"></textarea></div>'),nr=w('<div class="fixed inset-0 z-50 flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md"><div class="bg-white w-full max-w-2xl rounded-[3rem] p-10 shadow-2xl space-y-8"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><div class="p-3 bg-indigo-50 text-indigo-600 rounded-2xl"><!></div> <h2 class="font-serif text-3xl font-bold text-slate-900 tracking-tight">New Legacy Message</h2></div> <button class="p-2 hover:bg-slate-100 rounded-full transition-colors text-slate-400"><!></button></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-1"><label class="text-[10px] font-black uppercase text-slate-400 tracking-[0.2em] pl-1">Message Title</label> <input placeholder="e.g., Graduation Heart-to-Heart" class="w-full px-5 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none font-medium"/></div> <div class="space-y-1"><label class="text-[10px] font-black uppercase text-slate-400 tracking-[0.2em] pl-1">Who is this for?</label> <input placeholder="e.g., Emily (Daughter)" class="w-full px-5 py-3.5 bg-slate-50 border border-slate-200 rounded-2xl focus:ring-2 focus:ring-indigo-500 outline-none font-medium"/></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-1"><label class="text-[10px] font-black uppercase text-slate-400 tracking-[0.2em] pl-1">Release Type</label> <div class="flex gap-2"><button><!></button> <button><!></button></div></div> <div class="space-y-1"><label class="text-[10px] font-black uppercase text-slate-400 tracking-[0.2em] pl-1">Release Condition</label> <!></div></div> <div class="space-y-4"><label class="text-[10px] font-black uppercase text-slate-400 tracking-[0.2em] pl-1">Legacy Content</label> <!></div> <div class="flex gap-4"><button class="px-6 py-4 border border-slate-200 rounded-2xl font-bold text-slate-500 hover:bg-rose-50 hover:text-rose-600 hover:border-rose-100 transition-all">Cancel</button> <button class="flex-1 py-4 px-6 border border-slate-200 rounded-2xl font-bold text-slate-500 hover:bg-slate-50 hover:text-slate-700 transition-all">Save Draft</button> <button class="flex-2 py-4 px-10 bg-indigo-900 text-white rounded-2xl font-bold shadow-xl shadow-indigo-100 hover:bg-indigo-950 transition-all">Seal Capsule</button></div></div></div>'),dr=w('<div class="fixed inset-0 z-[100] bg-black/90 backdrop-blur-xl flex items-center justify-center p-4"><button class="absolute top-8 right-8 p-4 bg-white/10 hover:bg-white/20 rounded-full text-white transition-all"><!></button> <div class="w-full max-w-4xl aspect-video rounded-3xl overflow-hidden shadow-2xl bg-black"><video controls autoplay class="w-full h-full"></video></div></div>',2),cr=w(`<div class="max-w-6xl mx-auto p-6 md:p-8 space-y-10 animate-in fade-in duration-700"><div class="flex flex-col md:flex-row items-center justify-between gap-8 bg-white rounded-[2.5rem] border border-slate-200 p-8 md:p-12 shadow-sm overflow-hidden relative"><div class="absolute top-0 right-0 p-20 opacity-[0.03] pointer-events-none rotate-12 scale-150"><!></div> <div class="space-y-4 text-center md:text-left"><div class="flex items-center justify-center md:justify-start gap-4"><div class="p-3 bg-indigo-900 text-white rounded-2xl"><!></div> <h1 class="font-serif text-3xl md:text-4xl font-black text-slate-900 tracking-tight">Time Capsule Vault</h1></div> <p class="text-slate-500 text-lg max-w-lg font-medium">Preserving wisdom, voice, and presence. Messages safely locked
                until the perfect milestone.</p></div> <button class="px-8 py-4 bg-indigo-600 text-white rounded-full font-bold shadow-xl shadow-indigo-200 hover:bg-indigo-700 hover:scale-105 transition-all flex items-center gap-3 shrink-0"><!> Seal New Message</button></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!> <!> <!></div> <!> <!></div>`);function Or(f,d){vt(d,!1);const g=()=>tt(Et,"$capsuleStatus",c),n=()=>tt(Le,"$timeCapsuleStore",c),[c,y]=wt();let a=A(!1),m=A(!1),R=A(null),l=A({title:"",recipient:"",contentPreview:"",triggerType:"date",triggerValue:""});async function Z(){if(!r(l).title||!r(l).recipient||!r(l).triggerValue)return;const i={...r(l),mediaId:r(R)};Le.addMessage(i),v(l,{title:"",recipient:"",contentPreview:"",triggerType:"date",triggerValue:""}),v(R,null),v(m,!1),v(a,!1)}async function ve(i){const s=crypto.randomUUID();await Ke.save(s,i.detail),v(R,s),v(m,!1)}let C=A(null);async function ce(i){if(!i)return;const s=await Ke.getUrl(i);s?v(C,s):alert("Video file not found in local storage.")}function ue(i){return dt.find(s=>s.id===i)?.label||i}ct();var pe=cr(),fe=t(pe),ge=t(fe),ke=t(ge);rt(ke,{size:300}),e(ge);var be=o(ge,2),$e=t(be),Se=t($e),me=t(Se);at(me,{size:32}),e(Se),T(2),e($e),T(2),e(be);var ee=o(be,2),Me=t(ee);Je(Me,{size:24}),T(),e(ee),e(fe);var xe=o(fe,2),_e=t(xe);Fe(_e,1,()=>g().locked,i=>i.id,(i,s)=>{var p=er(),_=t(p),h=t(_),x=t(h);at(x,{size:20}),e(h);var $=o(h,2),O=t($);Ut(O,{size:16}),e($),e(_);var F=o(_,2),S=t(F),P=t(S,!0);e(S);var V=o(S,2),J=t(V);It(J,{size:12});var te=o(J,2),G=t(te,!0);e(te),e(V),e(F);var q=o(F,2),re=t(q),ae=t(re);e(re),e(q);var Re=o(q,2),oe=t(Re),Ae=t(oe);{var je=X=>{var se=Qt(),W=H(se);lt(W,{size:16});var ie=o(W,2),he=t(ie,!0);e(ie),U(Be=>E(he,Be),[()=>ue(r(s).triggerValue)]),b(X,se)},qe=X=>{var se=Zt(),W=H(se);ot(W,{size:16});var ie=o(W,2),he=t(ie,!0);e(ie),U(()=>E(he,r(s).triggerValue)),b(X,se)};I(Ae,X=>{r(s).triggerType==="milestone"?X(je):X(qe,!1)})}e(oe),T(2),e(Re),e(p),U(()=>{E(P,r(s).title),E(G,r(s).recipient),E(ae,`"${r(s).contentPreview??""}"`)}),k("click",$,()=>Le.removeMessage(r(s).id)),de(3,p,()=>We),b(i,p)});var ze=o(_e,2);Fe(ze,1,()=>g().unlocked,i=>i.id,(i,s)=>{var p=tr(),_=t(p),h=t(_),x=t(h);it(x,{size:20}),e(h),e(_);var $=o(_,2),O=t($),F=t(O,!0);e(O);var S=o(O,2),P=t(S);it(P,{size:12}),T(),e(S),e($);var V=o($,2),J=t(V),te=t(J,!0);e(J),e(V);var G=o(V,2),q=t(G);nt(q,{size:18});var re=o(q);e(G),e(p),U(()=>{E(F,r(s).title),E(te,r(s).contentPreview),E(re,` ${r(s).mediaId?"Play Message":"View Message"}`)}),k("click",G,()=>r(s).mediaId?ce(r(s).mediaId):null),de(3,p,()=>We),b(i,p)});var De=o(ze,2);{var Ee=i=>{var s=rr(),p=t(s),_=t(p);Nt(_,{size:48}),e(p);var h=o(p,4),x=t(h);Je(x,{size:20}),T(),e(h),e(s),k("click",h,()=>v(a,!0)),b(i,s)};I(De,i=>{n().length===0&&i(Ee)})}e(xe);var u=o(xe,2);{var z=i=>{var s=nr(),p=t(s),_=t(p),h=t(_),x=t(h),$=t(x);Je($,{size:24}),e(x),T(2),e(h);var O=o(h,2),F=t(O);st(F,{}),e(O),e(_);var S=o(_,2),P=t(S),V=o(t(P),2);Ge(V),e(P);var J=o(P,2),te=o(t(J),2);Ge(te),e(J),e(S);var G=o(S,2),q=t(G),re=o(t(q),2),ae=t(re),Re=t(ae);ot(Re,{size:16,class:"inline mr-2"}),e(ae);var oe=o(ae,2),Ae=t(oe);lt(Ae,{size:16,class:"inline mr-2"}),e(oe),e(re),e(q);var je=o(q,2),qe=o(t(je),2);{var X=M=>{var D=ar();Ge(D),Ve(D,()=>r(l).triggerValue,le=>L(l,r(l).triggerValue=le)),b(M,D)},se=M=>{var D=sr();U(()=>{r(l),bt(()=>{})}),Fe(D,5,()=>dt,xt,(le,we)=>{var ne=or(),Y=t(ne,!0);e(ne);var B={};U(()=>{E(Y,r(we).label),B!==(B=r(we).id)&&(ne.value=(ne.__value=r(we).id)??"")}),b(le,ne)}),e(D),ht(D,()=>r(l).triggerValue,le=>L(l,r(l).triggerValue=le)),b(M,D)};I(qe,M=>{r(l).triggerType==="date"?M(X):M(se,!1)})}e(je),e(G);var W=o(G,2),ie=o(t(W),2);{var he=M=>{Xt(M,{$$events:{save:ve}})},Be=M=>{var D=ye(),le=H(D);{var we=Y=>{var B=ir(),K=t(B),He=t(K);rt(He,{size:24}),T(2),e(K);var Pe=o(K,2);e(B),k("click",Pe,()=>{v(R,null),v(m,!0)}),b(Y,B)},ne=Y=>{var B=lr(),K=t(B),He=t(K);nt(He,{size:32}),T(2),e(K);var Pe=o(K,2);mt(Pe),e(B),k("click",K,()=>v(m,!0)),Ve(Pe,()=>r(l).contentPreview,ft=>L(l,r(l).contentPreview=ft)),b(Y,B)};I(le,Y=>{r(R)?Y(we):Y(ne,!1)},!0)}b(M,D)};I(ie,M=>{r(m)?M(he):M(Be,!1)})}e(W);var Qe=o(W,2),Ze=t(Qe),et=o(Ze,2),pt=o(et,2);e(Qe),e(p),e(s),U(()=>{Ce(ae,1,`flex-1 py-3 px-4 rounded-xl border-2 transition-all font-bold text-sm ${r(l).triggerType==="date"?"bg-indigo-50 border-indigo-600 text-indigo-700":"bg-transparent border-slate-100 text-slate-400"}`),Ce(oe,1,`flex-1 py-3 px-4 rounded-xl border-2 transition-all font-bold text-sm ${r(l).triggerType==="milestone"?"bg-indigo-50 border-indigo-600 text-indigo-700":"bg-transparent border-slate-100 text-slate-400"}`)}),k("click",O,()=>v(a,!1)),Ve(V,()=>r(l).title,M=>L(l,r(l).title=M)),Ve(te,()=>r(l).recipient,M=>L(l,r(l).recipient=M)),k("click",ae,()=>L(l,r(l).triggerType="date")),k("click",oe,()=>L(l,r(l).triggerType="milestone")),k("click",Ze,()=>{v(l,{title:"",recipient:"",contentPreview:"",triggerType:"date",triggerValue:""}),v(a,!1)}),k("click",et,()=>v(a,!1)),k("click",pt,Z),de(3,p,()=>We,()=>({start:.95,easing:St})),de(3,s,()=>Ye),b(i,s)};I(u,i=>{r(a)&&i(z)})}var j=o(u,2);{var N=i=>{var s=dr(),p=t(s),_=t(p);st(_,{size:32}),e(p);var h=o(p,2),x=t(h);e(h),e(s),U(()=>_t(x,"src",r(C))),k("click",p,()=>{URL.revokeObjectURL(r(C)),v(C,null)}),de(3,s,()=>Ye),b(i,s)};I(j,i=>{r(C)&&i(N)})}e(pe),k("click",ee,()=>v(a,!0)),b(f,pe),ut(),y()}export{Or as component};
