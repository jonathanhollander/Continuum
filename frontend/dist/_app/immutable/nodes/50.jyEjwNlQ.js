import{c as We,a as f,f as _,e as b}from"../chunks/CI19bRDX.js";import{i as Te}from"../chunks/CeYVVThO.js";import{f as ze,p as Ge,c as a,r as t,s as o,n as Y,a4 as I,u as k,t as U,a as Re,l as Le,d as v,g as e,m as T,b as et,a3 as Xe,a5 as Ye,j as ct,k as Ne}from"../chunks/CC-cBgEA.js";import{s as se}from"../chunks/DtWQG8q5.js";import{i as O}from"../chunks/oYNvDJv2.js";import{I as tt,s as at,e as Ie,i as Be,t as xe}from"../chunks/B0hQvWV2.js";import{s as Ae,a as ce,r as qe}from"../chunks/CPE7ojsi.js";import{b as Ue}from"../chunks/DubRPcAg.js";import{b as vt}from"../chunks/DtYL2sJG.js";import{l as rt,b as ot,p as Ce,s as ut,a as Je}from"../chunks/BHjHH8n1.js";import{f as $e,a as it}from"../chunks/B37JQBsy.js";import{E as pt}from"../chunks/B-bscnFR.js";import{G as Oe}from"../chunks/HIzyW7Q0.js";import{c as st}from"../chunks/lbPixqMI.js";import{c as Ke}from"../chunks/Cc88vFxA.js";import{c as ft}from"../chunks/Dp8rxJLH.js";import{T as lt}from"../chunks/BtEVtpAO.js";import{K as bt}from"../chunks/BDc-zFdb.js";import{C as gt}from"../chunks/BZICprEX.js";import{E as Fe}from"../chunks/DjKmT8no.js";import{k as xt}from"../chunks/a7JutzVl.js";import{G as nt}from"../chunks/2cZz6QA1.js";import{L as mt}from"../chunks/hym9nzzJ.js";import{H as Qe}from"../chunks/DnVIeHlM.js";import{C as ht}from"../chunks/D-dZ9ENG.js";import{C as _t}from"../chunks/OUHbYN0M.js";import{X as Pe}from"../chunks/CiL9a3zz.js";import{S as yt}from"../chunks/D0JfACeQ.js";import{T as wt}from"../chunks/Lvj5QwYa.js";import{I as Ze}from"../chunks/mn8hCHmd.js";import{S as kt}from"../chunks/CiwhR5N5.js";import{P as Ve}from"../chunks/3NDLYjDg.js";function At(y,d){const r=rt(d,["children","$$slots","$$events","$$legacy"]);const c=[["line",{x1:"22",x2:"2",y1:"12",y2:"12"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16"}]];tt(y,ot({name:"hard-drive"},()=>r,{get iconNode(){return c},children:(g,z)=>{var w=We(),l=ze(w);at(l,d,"default",{}),f(g,w)},$$slots:{default:!0}}))}function Ct(y,d){const r=rt(d,["children","$$slots","$$events","$$legacy"]);const c=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];tt(y,ot({name:"pen"},()=>r,{get iconNode(){return c},children:(g,z)=>{var w=We(),l=ze(w);at(l,d,"default",{}),f(g,w)},$$slots:{default:!0}}))}const $t=[],zt=[],Se=st("visual_memories",$t),He=st("external_archives",zt),Mt=y=>{Se.update(d=>[{...y,id:crypto.randomUUID()},...d])},Dt=y=>{Se.update(d=>d.map(r=>r.id===y?{...r,isFavorite:!r.isFavorite}:r))},jt=y=>{He.update(d=>[...d,{...y,id:crypto.randomUUID()}])},It=y=>{He.update(d=>d.filter(r=>r.id!==y))},St=(y,d)=>{He.update(r=>r.map(c=>c.id===y?{...c,...d}:c))},Et=y=>{Se.update(d=>d.filter(r=>!y.includes(r.id)))},Lt=(y,d)=>{Se.update(r=>r.map(c=>y.includes(c.id)&&!c.tags.includes(d)?{...c,tags:[...c.tags,d]}:c))};var Ut=_('<a target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-sm text-[#4A7C74] font-medium hover:underline"><!> Open Location</a>'),Ft=_('<div class="bg-white rounded-xl border border-slate-200 p-6 hover:shadow-md transition-all group relative"><div class="flex items-start justify-between mb-4"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500"><!></div> <div><h3 class="font-bold text-slate-800"> </h3> <div class="text-xs font-medium text-slate-400 uppercase tracking-wider">External Archive</div></div></div> <div class="flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity"><button class="p-2 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-[#4A7C74] transition-colors" title="Edit"><!></button> <button class="p-2 hover:bg-red-50 rounded-lg text-slate-400 hover:text-red-500 transition-colors" title="Remove"><!></button></div></div> <div class="space-y-3"><!> <div class="bg-slate-50 rounded-lg p-3 text-sm text-slate-600"><div class="flex items-center gap-2 text-xs font-bold text-slate-400 uppercase mb-1"><!> Access Instructions</div> </div></div></div>');function Pt(y,d){Ge(d,!1);let r=Ce(d,"archive",8);const c=Ke();function g(h){const i=h.toLowerCase();return i.includes("drive")||i.includes("usb")||i.includes("disk")?At:i.includes("cloud")||i.includes("drive")||i.includes("photos")?gt:Fe}Te();var z=Ft(),w=a(z),l=a(w),J=a(l),V=a(J);ft(V,()=>g(r().platform),(h,i)=>{i(h,{size:20})}),t(J);var Q=o(J,2),G=a(Q),M=a(G,!0);t(G),Y(2),t(Q),t(l);var A=o(l,2),j=a(A),R=a(j);Ct(R,{size:16}),t(j);var u=o(j,2),te=a(u);lt(te,{size:16}),t(u),t(A),t(w);var Z=o(w,2),ae=a(Z);{var me=h=>{var i=Ut(),H=a(i);Fe(H,{size:14}),Y(),t(i),U(()=>Ae(i,"href",(I(r()),k(()=>r().accessUrl)))),f(h,i)};O(ae,h=>{I(r()),k(()=>r().accessUrl)&&h(me)})}var F=o(ae,2),le=a(F),x=a(le);bt(x,{size:12}),Y(),t(le);var m=o(le);t(F),t(Z),t(z),U(()=>{se(M,(I(r()),k(()=>r().platform))),se(m,` ${I(r()),k(()=>r().locationDetails)??""}`)}),b("click",j,()=>c("edit",r())),b("click",u,()=>c("delete",r().id)),f(y,z),Re()}var Tt=_('<div class="w-2.5 h-2.5 bg-white rounded-full"></div>'),Gt=_('<div class="absolute inset-0 bg-black/10 flex items-start justify-end p-2 transition-opacity"><div><!></div></div>'),Rt=_('<span class="text-[10px] bg-white/20 backdrop-blur px-2 py-0.5 rounded-full text-white"> </span>'),Ht=_('<div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4"><div class="text-white font-medium truncate text-sm"> </div> <div class="flex gap-2 mt-1"></div></div> <div class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2"><button class="p-2 bg-white/80 backdrop-blur rounded-full hover:bg-white text-slate-500 hover:text-red-500 transition-colors"><!></button></div>',1),Nt=_('<div><img loading="lazy"/> <!> <!></div>'),Bt=_('<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>'),Ot=_('<img class="absolute inset-0 w-full h-full object-contain"/>'),Vt=_('<span class="text-xs bg-white/20 backdrop-blur px-3 py-1 rounded-full"> </span>'),qt=_('<button><img alt="" class="w-full h-full object-cover"/></button>'),Wt=_('<div class="flex-1 relative flex items-center justify-center bg-slate-900 rounded-2xl overflow-hidden min-h-[600px]"><!> <button class="absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-black/40 text-white hover:bg-black/60 disabled:opacity-30 backdrop-blur transition-all"><!></button> <button class="absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-black/40 text-white hover:bg-black/60 disabled:opacity-30 backdrop-blur transition-all"><!></button> <div class="absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent text-white"><div class="flex justify-between items-end"><div><h2 class="text-xl font-bold mb-2"> </h2> <div class="flex gap-2 mb-4"></div> <p class="text-white/80 text-sm max-w-2xl"> </p></div> <button class="p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors mb-1"><!></button></div> <div class="flex gap-2 mt-6 overflow-x-auto pb-2 scrollbar-hide mask-fade svelte-jobayy"></div></div> <button class="absolute top-4 right-4 p-2 bg-black/20 hover:bg-black/40 rounded-full text-white backdrop-blur transition-colors"><!></button></div>'),Kt=_('<div class="flex flex-col h-full"><div class="flex justify-end mb-6"><div class="bg-slate-100 p-1 rounded-lg flex"><button title="Grid View"><!></button> <button title="Carousel View"><!></button></div></div> <!></div>');function Xt(y,d){Ge(d,!1);let r=Ce(d,"memories",24,()=>[]),c=Ce(d,"viewMode",12,"grid"),g=Ce(d,"selectedIds",28,()=>[]),z=Ce(d,"isSelectionMode",8,!1);const w=Ke();let l=T(0);function J(x,m){m.stopPropagation(),g().includes(x)?g(g().filter(h=>h!==x)):g([...g(),x]),w("selectionChange",g())}function V(x){z()?J(x.id,new Event("click")):(c("carousel"),v(l,r().indexOf(x)),w("viewChange","carousel"))}function Q(){e(l)<r().length-1&&Ye(l)}function G(){e(l)>0&&Ye(l,-1)}function M(x,m){m.stopPropagation(),w("toggleFavorite",x)}Le(()=>(I(c()),I(r()),e(l)),()=>{c()==="carousel"&&r().length>0&&v(l,Math.min(e(l),r().length-1))}),et(),Te();var A=Kt(),j=a(A),R=a(j),u=a(R),te=a(u);nt(te,{size:18}),t(u);var Z=o(u,2),ae=a(Z);mt(ae,{size:18}),t(Z),t(R),t(j);var me=o(j,2);{var F=x=>{var m=Bt();Ie(m,5,r,h=>h.id,(h,i)=>{var H=Nt(),D=a(H),re=o(D,2);{var q=S=>{var W=Gt(),E=a(W),K=a(E);{var pe=P=>{var fe=Tt();f(P,fe)};O(K,P=>{I(g()),e(i),k(()=>g().includes(e(i).id))&&P(pe)})}t(E),t(W),U(P=>ce(E,1,`h-6 w-6 rounded-full border-2 border-white flex items-center justify-center transition-colors ${P??""}`),[()=>(I(g()),e(i),k(()=>g().includes(e(i).id)?"bg-indigo-500 border-indigo-500":"bg-black/30"))]),f(S,W)};O(re,S=>{z()&&S(q)})}var ve=o(re,2);{var ue=S=>{var W=Ht(),E=ze(W),K=a(E),pe=a(K,!0);t(K);var P=o(K,2);Ie(P,5,()=>(e(i),k(()=>e(i).tags)),Be,(ne,ee)=>{var s=Rt(),n=a(s,!0);t(s),U(()=>se(n,e(ee))),f(ne,s)}),t(P),t(E);var fe=o(E,2),be=a(fe),he=a(be);{let ne=Xe(()=>(e(i),k(()=>e(i).isFavorite?"fill-red-500 text-red-500":"")));Qe(he,{size:14,get class(){return e(ne)}})}t(be),t(fe),U(()=>se(pe,(e(i),k(()=>e(i).name)))),b("click",be,ne=>M(e(i).id,ne)),f(S,W)};O(ve,S=>{z()||S(ue)})}t(H),U(S=>{ce(H,1,`group relative aspect-square bg-slate-100 rounded-xl overflow-hidden cursor-pointer hover:shadow-lg transition-all ${S??""}`),Ae(D,"src",(e(i),k(()=>e(i).url))),Ae(D,"alt",(e(i),k(()=>e(i).name))),ce(D,1,`w-full h-full object-cover transition-transform duration-500 ${z()?"scale-100":"group-hover:scale-105"}`)},[()=>(I(g()),e(i),k(()=>g().includes(e(i).id)?"ring-4 ring-indigo-500 ring-offset-2":""))]),b("click",H,()=>V(e(i))),f(h,H)}),t(m),xe(1,m,()=>$e,()=>({duration:300})),f(x,m)},le=x=>{var m=Wt(),h=a(m);xt(h,()=>e(l),ee=>{var s=Ot();U(()=>{Ae(s,"src",(I(r()),e(l),k(()=>r()[e(l)].url))),Ae(s,"alt",(I(r()),e(l),k(()=>r()[e(l)].name)))}),xe(1,s,()=>$e,()=>({duration:300})),f(ee,s)});var i=o(h,2),H=a(i);ht(H,{size:24}),t(i);var D=o(i,2),re=a(D);_t(re,{size:24}),t(D);var q=o(D,2),ve=a(q),ue=a(ve),S=a(ue),W=a(S,!0);t(S);var E=o(S,2);Ie(E,5,()=>(I(r()),e(l),k(()=>r()[e(l)].tags)),Be,(ee,s)=>{var n=Vt(),p=a(n,!0);t(n),U(()=>se(p,e(s))),f(ee,n)}),t(E);var K=o(E,2),pe=a(K,!0);t(K),t(ue);var P=o(ue,2),fe=a(P);{let ee=Xe(()=>(I(r()),e(l),k(()=>r()[e(l)].isFavorite?"fill-red-500 text-red-500":"")));Qe(fe,{size:20,get class(){return e(ee)}})}t(P),t(ve);var be=o(ve,2);Ie(be,5,r,Be,(ee,s,n)=>{var p=qt(),N=a(p);t(p),U(()=>{ce(p,1,`relative w-16 h-16 shrink-0 rounded-lg overflow-hidden border-2 transition-all ${n===e(l)?"border-white opacity-100 scale-105":"border-transparent opacity-50 hover:opacity-80"}`),Ae(N,"src",(e(s),k(()=>e(s).url)))}),b("click",p,()=>v(l,n)),f(ee,p)}),t(be),t(q);var he=o(q,2),ne=a(he);Pe(ne,{size:20}),t(he),t(m),U(()=>{i.disabled=e(l)===0,D.disabled=(e(l),I(r()),k(()=>e(l)===r().length-1)),se(W,(I(r()),e(l),k(()=>r()[e(l)].name))),se(pe,(I(r()),e(l),k(()=>r()[e(l)].description||"No description provided.")))}),b("click",i,G),b("click",D,Q),b("click",P,()=>w("toggleFavorite",r()[e(l)].id)),b("click",he,()=>c("grid")),xe(1,m,()=>$e),f(x,m)};O(me,x=>{c()==="grid"?x(F):x(le,!1)})}t(A),U(()=>{ce(u,1,`p-2 rounded-md transition-all ${c()==="grid"?"bg-white text-[#4A7C74] shadow-sm":"text-slate-400 hover:text-slate-600"}`),ce(Z,1,`p-2 rounded-md transition-all ${c()==="carousel"?"bg-white text-[#4A7C74] shadow-sm":"text-slate-400 hover:text-slate-600"}`)}),b("click",u,()=>{c("grid"),w("viewChange","grid")}),b("click",Z,()=>{c("carousel"),w("viewChange","carousel")}),f(y,A),Re()}var Yt=_('<div class="flex items-center gap-2 animate-in slide-in-from-right-4 fade-in"><input type="text" placeholder="Enter tag..." class="bg-slate-800 border border-slate-600 rounded-lg px-3 py-1.5 text-sm text-white focus:outline-none focus:border-indigo-500 w-32 placeholder:text-slate-500" autoFocus/> <button class="p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white transition-colors"><!></button> <button class="p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white transition-colors"><!></button></div>'),Jt=_('<button class="flex items-center gap-2 px-3 py-2 hover:bg-slate-800 rounded-lg transition-colors text-sm font-medium"><!> <span>Tag</span></button>'),Qt=_('<div class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-6 py-3 rounded-2xl shadow-2xl flex items-center gap-6 z-50 backdrop-blur-md bg-opacity-90 border border-slate-700/50"><div class="flex items-center gap-3 border-r border-slate-700 pr-6"><span class="bg-indigo-500 text-white text-xs font-bold px-2 py-1 rounded-full min-w-[24px] text-center"> </span> <span class="font-medium text-sm">Selected</span></div> <div class="flex items-center gap-2"><!> <button class="flex items-center gap-2 px-3 py-2 hover:bg-red-500/20 hover:text-red-400 rounded-lg transition-colors text-sm font-medium"><!> <span>Delete</span></button></div> <button class="ml-2 hover:bg-slate-800 p-2 rounded-full transition-colors" title="Clear Selection"><!></button></div>');function Zt(y,d){Ge(d,!1);let r=Ce(d,"selectedCount",8,0);const c=Ke();let g=T(!1),z=T("");function w(){e(z)&&(c("tag",e(z)),v(z,""),v(g,!1))}Te();var l=We(),J=ze(l);{var V=Q=>{var G=Qt(),M=a(G),A=a(M),j=a(A,!0);t(A),Y(2),t(M);var R=o(M,2),u=a(R);{var te=x=>{var m=Yt(),h=a(m);qe(h);var i=o(h,2),H=a(i);yt(H,{size:16}),t(i);var D=o(i,2),re=a(D);Pe(re,{size:16}),t(D),t(m),Ue(h,()=>e(z),q=>v(z,q)),b("keydown",h,q=>q.key==="Enter"&&w()),b("click",i,w),b("click",D,()=>v(g,!1)),f(x,m)},Z=x=>{var m=Jt(),h=a(m);wt(h,{size:16}),Y(2),t(m),b("click",m,()=>v(g,!0)),f(x,m)};O(u,x=>{e(g)?x(te):x(Z,!1)})}var ae=o(u,2),me=a(ae);lt(me,{size:16}),Y(2),t(ae),t(R);var F=o(R,2),le=a(F);Pe(le,{size:16}),t(F),t(G),U(()=>se(j,r())),b("click",ae,()=>c("delete")),b("click",F,()=>c("clear")),xe(3,G,()=>it,()=>({y:50,duration:300})),f(Q,G)};O(J,Q=>{r()>0&&Q(V)})}f(y,l),Re()}var ea=_(`<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm"><div class="bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden"><div class="p-6 border-b border-slate-100 flex justify-between items-center"><h3 class="font-serif font-bold text-xl text-[#304743]"> </h3> <button class="text-slate-400 hover:text-slate-600"><!></button></div> <div class="p-6 space-y-4"><div class="space-y-2"><label class="text-xs font-bold uppercase text-slate-500 tracking-wider">Platform / Device Name</label> <input type="text" placeholder="e.g. iCloud, Google Photos, My Passport Drive" class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-[#4A7C74]/20 focus:border-[#4A7C74] outline-none font-medium"/></div> <div class="space-y-2"><label class="text-xs font-bold uppercase text-slate-500 tracking-wider">Access Instructions</label> <textarea placeholder="How do executors access this? e.g. 'Login details in password vault' or 'Physical drive in fireproof safe'" class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-[#4A7C74]/20 focus:border-[#4A7C74] outline-none font-medium h-24 resize-none"></textarea></div> <div class="space-y-2"><label class="text-xs font-bold uppercase text-slate-500 tracking-wider">Direct URL (Optional)</label> <div class="relative"><!> <input type="text" placeholder="https://..." class="w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-[#4A7C74]/20 focus:border-[#4A7C74] outline-none font-medium text-sm"/></div></div></div> <div class="p-6 bg-slate-50 border-t border-slate-100 flex justify-end gap-3"><button class="px-4 py-2 font-bold text-slate-500 hover:text-slate-700 text-sm">Cancel</button> <button class="px-6 py-2 bg-[#4A7C74] text-white rounded-lg font-bold text-sm shadow-sm hover:bg-[#3b635d] disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2"><!> Save Location</button></div></div></div>`),ta=_('<button class="flex items-center gap-2 px-4 py-2 bg-[#4A7C74] text-white rounded-lg font-bold text-sm hover:bg-[#3b635d] transition-colors shadow-sm"><!> Add Location</button>'),aa=_('<button class="flex items-center gap-2 px-4 py-2 bg-[#4A7C74] text-white rounded-lg font-bold text-sm hover:bg-[#3b635d] transition-colors shadow-sm"><!> Add Memories</button>'),ra=_('<div class="absolute top-8 left-8 z-10"><button> </button></div>'),oa=_('<div class="p-8"><div class="grid gap-4"><!> <!> <!></div> <div class="flex justify-center mt-6"><button class="text-sm font-bold text-[#4A7C74] hover:bg-[#4A7C74]/5 px-4 py-2 rounded-lg transition-colors flex items-center gap-2"><!> Upload First Memory</button></div></div>'),ia=_('<div><div class="bg-white rounded-2xl border border-slate-200 p-8 min-h-[400px] relative"><!> <!></div></div> <input type="file" multiple accept="image/*,video/*" class="hidden"/> <!>',1),sa=_('<div class="bg-white rounded-2xl border border-slate-200 p-8 min-h-[400px] flex items-center justify-center"><!></div>'),la=_('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!> <button class="border-2 border-dashed border-slate-200 rounded-xl p-6 flex flex-col items-center justify-center text-slate-400 hover:border-[#4A7C74]/50 hover:bg-[#4A7C74]/5 hover:text-[#4A7C74] transition-all min-h-[160px] group"><div class="w-12 h-12 rounded-full bg-slate-50 group-hover:bg-white flex items-center justify-center mb-3 transition-colors"><!></div> <span class="font-bold text-sm">Add Another Location</span></button></div>'),na=_("<div><!></div>"),da=_(`<!> <div class="max-w-7xl mx-auto p-8 animate-in fade-in duration-500"><div class="text-center mb-12"><div class="inline-flex items-center justify-center p-4 bg-purple-100 text-purple-800 rounded-full mb-6 relative"><!> <div class="absolute -right-2 -top-2 bg-white p-1.5 rounded-full shadow-sm border border-slate-100 text-amber-500"><!></div></div> <h1 class="text-4xl font-serif font-bold text-[#304743] mb-4">Visual Memories</h1> <p class="text-lg text-slate-600 max-w-2xl mx-auto leading-relaxed">Preserve your most cherished photos and videos, and create a map to
            the rest of your digital legacy.</p></div> <div class="flex flex-col sm:flex-row justify-between items-center mb-8 gap-4 border-b border-slate-100 pb-4"><div class="flex p-1 bg-slate-100 rounded-full"><button>Curated Gallery</button> <button>External Archives</button></div> <!></div> <!></div>`,1);function Na(y,d){Ge(d,!1);const r=()=>Je(Se,"$visualMemories",g),c=()=>Je(He,"$externalArchives",g),[g,z]=ut(),w=T(),l=T(),J=T();let V=T("gallery"),Q=T("grid"),G=T(),M=T(!1),A=T([]),j=T(!1),R=T(null),u=T({platform:"",locationDetails:"",accessUrl:""});function te(s=null){v(R,s),s?v(u,{platform:s.platform,locationDetails:s.locationDetails,accessUrl:s.accessUrl||""}):v(u,{platform:"",locationDetails:"",accessUrl:""}),v(j,!0)}function Z(){!e(u).platform||!e(u).locationDetails||(e(R)?St(e(R).id,e(u)):jt(e(u)),v(j,!1))}function ae(s){confirm("Remove this archive location?")&&It(s)}function me(s){const n=s.target;!n.files||n.files.length===0||(Array.from(n.files).forEach(p=>{if(!p.type.startsWith("image/")&&!p.type.startsWith("video/"))return;const N=new FileReader;N.onload=oe=>{const X=oe.target?.result;Mt({url:X,name:p.name.split(".")[0].replace(/-|_/g," "),type:p.type.startsWith("image/")?"photo":"video",tags:[],isFavorite:!1,size:p.size})},N.readAsDataURL(p)}),n.value="")}function F(){e(G).click()}function le(){v(M,!e(M)),e(M)||v(A,[])}function x(){confirm(`Permanently delete ${e(J)} memories?`)&&(Et(e(A)),v(A,[]),v(M,!1))}function m(s){Lt(e(A),s.detail),v(A,[]),v(M,!1)}Le(()=>r(),()=>{v(w,r().length>0)}),Le(()=>c(),()=>{v(l,c().length>0)}),Le(()=>e(A),()=>{v(J,e(A).length)}),et(),Te();var h=da(),i=ze(h);{var H=s=>{var n=ea(),p=a(n),N=a(p),oe=a(N),X=a(oe,!0);t(oe);var B=o(oe,2),ge=a(B);Pe(ge,{size:20}),t(B),t(N);var de=o(N,2),ie=a(de),ye=o(a(ie),2);qe(ye),t(ie);var C=o(ie,2),$=o(a(C),2);ct($),t(C);var L=o(C,2),_e=o(a(L),2),Me=a(_e);Fe(Me,{size:16,class:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"});var Ee=o(Me,2);qe(Ee),t(_e),t(L),t(de);var De=o(de,2),we=a(De),ke=o(we,2),dt=a(ke);kt(dt,{size:16}),Y(),t(ke),t(De),t(p),t(n),U(()=>{se(X,e(R)?"Edit Location":"Add Legacy Location"),ke.disabled=(e(u),k(()=>!e(u).platform||!e(u).locationDetails))}),b("click",B,()=>v(j,!1)),Ue(ye,()=>e(u).platform,je=>Ne(u,e(u).platform=je)),Ue($,()=>e(u).locationDetails,je=>Ne(u,e(u).locationDetails=je)),Ue(Ee,()=>e(u).accessUrl,je=>Ne(u,e(u).accessUrl=je)),b("click",we,()=>v(j,!1)),b("click",ke,Z),xe(1,p,()=>it,()=>({y:20})),xe(3,n,()=>$e),f(s,n)};O(i,s=>{e(j)&&s(H)})}var D=o(i,2),re=a(D),q=a(re),ve=a(q);Ze(ve,{size:48});var ue=o(ve,2),S=a(ue);nt(S,{size:16}),t(ue),t(q),Y(4),t(re);var W=o(re,2),E=a(W),K=a(E),pe=o(K,2);t(E);var P=o(E,2);{var fe=s=>{var n=ta(),p=a(n);Ve(p,{size:16}),Y(),t(n),b("click",n,()=>te()),f(s,n)},be=s=>{var n=aa(),p=a(n);Ve(p,{size:16}),Y(),t(n),b("click",n,F),f(s,n)};O(P,s=>{e(V)==="archives"?s(fe):s(be,!1)})}t(W);var he=o(W,2);{var ne=s=>{var n=ia(),p=ze(n),N=a(p),oe=a(N);{var X=C=>{var $=ra(),L=a($),_e=a(L,!0);t(L),t($),U(()=>{ce(L,1,`text-sm font-bold px-3 py-1.5 rounded-lg transition-colors ${e(M)?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`),se(_e,e(M)?"Done Selecting":"Select Items")}),b("click",L,le),f(C,$)};O(oe,C=>{e(w)&&C(X)})}var B=o(oe,2);{var ge=C=>{var $=oa(),L=a($),_e=a(L);Oe(_e,{type:"Memory",onClick:F});var Me=o(_e,2);Oe(Me,{type:"Memory",onClick:F});var Ee=o(Me,2);Oe(Ee,{type:"Memory",onClick:F}),t(L);var De=o(L,2),we=a(De),ke=a(we);Ze(ke,{size:14}),Y(),t(we),t(De),t($),b("click",we,F),f(C,$)},de=C=>{Xt(C,{get memories(){return r()},get viewMode(){return e(Q)},set viewMode($){v(Q,$)},get selectedIds(){return e(A)},set selectedIds($){v(A,$)},get isSelectionMode(){return e(M)},set isSelectionMode($){v(M,$)},$$events:{toggleFavorite:$=>Dt($.detail)},$$legacy:!0})};O(B,C=>{e(w)?C(de,!1):C(ge)})}t(N),t(p);var ie=o(p,2);vt(ie,C=>v(G,C),()=>e(G));var ye=o(ie,2);Zt(ye,{get selectedCount(){return e(J)},$$events:{delete:x,tag:m,clear:()=>{v(A,[]),v(M,!1)}}}),xe(1,p,()=>$e),b("change",ie,me),f(s,n)},ee=s=>{var n=na(),p=a(n);{var N=X=>{var B=sa(),ge=a(B);pt(ge,{get icon(){return Fe},title:"Map Your Digital Legacy",description:"Tell your executors where to find your photo libraries (e.g. iCloud, Google Photos, Hard Drives).",actionLabel:"Add Archive Location",onAdd:()=>te()}),t(B),f(X,B)},oe=X=>{var B=la(),ge=a(B);Ie(ge,1,c,C=>C.id,(C,$)=>{Pt(C,{get archive(){return e($)},$$events:{edit:L=>te(L.detail),delete:L=>ae(L.detail)}})});var de=o(ge,2),ie=a(de),ye=a(ie);Ve(ye,{size:24}),t(ie),Y(2),t(de),t(B),b("click",de,()=>te()),f(X,B)};O(p,X=>{e(l)?X(oe,!1):X(N)})}t(n),xe(1,n,()=>$e),f(s,n)};O(he,s=>{e(V)==="gallery"?s(ne):s(ee,!1)})}t(D),U(()=>{ce(K,1,`px-6 py-2 rounded-full font-bold text-sm transition-all ${e(V)==="gallery"?"bg-white text-[#4A7C74] shadow-sm":"text-slate-500 hover:text-[#4A7C74]"}`),ce(pe,1,`px-6 py-2 rounded-full font-bold text-sm transition-all ${e(V)==="archives"?"bg-white text-[#4A7C74] shadow-sm":"text-slate-500 hover:text-[#4A7C74]"}`)}),b("click",K,()=>v(V,"gallery")),b("click",pe,()=>v(V,"archives")),f(y,h),Re(),z()}export{Na as component};
