import{c as Pe,a as v,f as _,e as b}from"../chunks/CI19bRDX.js";import{i as Ct}from"../chunks/CeYVVThO.js";import{f as ne,p as At,l as Se,d as P,m as ae,g as e,b as $t,c as a,s as r,r as t,t as M,u as o,n as W,a as kt,a5 as gt,a4 as Vt,a3 as Ne,j as Ht,k as xt}from"../chunks/CC-cBgEA.js";import{s as C}from"../chunks/DtWQG8q5.js";import{i as X}from"../chunks/oYNvDJv2.js";import{I as Pt,s as St,e as De,i as ze,t as ye}from"../chunks/B0hQvWV2.js";import{a as ce,b as Ot,r as je,g as Ge,s as Wt}from"../chunks/CPE7ojsi.js";import{b as ht}from"../chunks/DubRPcAg.js";import{l as Tt,b as Ft,a as nt,s as Mt}from"../chunks/BHjHH8n1.js";import{f as Te,b as qt}from"../chunks/B37JQBsy.js";import{A as Gt}from"../chunks/D8uWt282.js";import{G as rt}from"../chunks/HIzyW7Q0.js";import{e as Kt}from"../chunks/Bej7o0Ow.js";import{a as _t}from"../chunks/C-p41Btd.js";import{c as Qt}from"../chunks/Dp8rxJLH.js";import{f as ve}from"../chunks/DVzSUKHC.js";import{S as ot}from"../chunks/DsZ2n2Vk.js";import{R as it}from"../chunks/BQiYUfAl.js";import{R as Ke}from"../chunks/DneJMtl5.js";import{H as Jt}from"../chunks/DnVIeHlM.js";import{U as Yt}from"../chunks/B6MkXCxC.js";import{S as dt}from"../chunks/PVMnvWZ0.js";import{M as yt}from"../chunks/C1Pvp6iz.js";import{B as Xt}from"../chunks/BymR8Q4A.js";import{A as Zt}from"../chunks/DD46ptFZ.js";import{A as ea}from"../chunks/qte16KVx.js";import{C as wt}from"../chunks/Byr2EN1D.js";import{L as ta}from"../chunks/DnbSlI_Q.js";import{F as aa}from"../chunks/BbEFPXkz.js";import{D as ra}from"../chunks/DtewSPbm.js";import{L as oa}from"../chunks/DREb82yh.js";import{U as ia}from"../chunks/Dz1lDVRx.js";import{M as sa}from"../chunks/D4GBQ82i.js";import{X as na}from"../chunks/CiL9a3zz.js";import{D as da}from"../chunks/DCYAEqnx.js";import{P as la}from"../chunks/BI2CPFpn.js";import{T as ca}from"../chunks/BtEVtpAO.js";function va(we,ue){const E=Tt(ue,["children","$$slots","$$events","$$legacy"]);const V=[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"10",r:"3"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662"}]];Pt(we,Ft({name:"circle-user"},()=>E,{get iconNode(){return V},children:(ge,l)=>{var u=Pe(),q=ne(u);St(q,ue,"default",{}),v(ge,u)},$$slots:{default:!0}}))}function ua(we,ue){const E=Tt(ue,["children","$$slots","$$events","$$legacy"]);const V=[["circle",{cx:"12",cy:"12",r:"3"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5"}],["path",{d:"M12 7.5V9"}],["path",{d:"M7.5 12H9"}],["path",{d:"M16.5 12H15"}],["path",{d:"M12 16.5V15"}],["path",{d:"m8 8 1.88 1.88"}],["path",{d:"M14.12 9.88 16 8"}],["path",{d:"m8 16 1.88-1.88"}],["path",{d:"M14.12 14.12 16 16"}]];Pt(we,Ft({name:"flower"},()=>E,{get iconNode(){return V},children:(ge,l)=>{var u=Pe(),q=ne(u);St(q,ue,"default",{}),v(ge,u)},$$slots:{default:!0}}))}const st={secular:{name:"Secular / Non-Religious",key:"secular",commonRituals:["Celebration of Life","Toasts/Speeches","Video Tribute","Moment of Silence"],terminology:{service:"Celebration of Life",officiant:"Celebrant",bodyPreparation:"Dressing"},dispositionPreference:"either",smartTextareaPrompts:{atmosphere:["Focus on joyful memories","Casual and uplifting","Nature-connected"],legacy:["Life lessons learned","Favorite stories","Impact on community"],foundation:["Celebrating a life well lived","Love and connection","Simplicity and nature"]}},christian:{name:"Christian (General)",key:"christian",commonRituals:["Viewing/Wake","Scripture Readings","Hymns","Committal Service"],terminology:{service:"Funeral Service",officiant:"Pastor/Minister",bodyPreparation:"Dressing"},dispositionPreference:"either",smartTextareaPrompts:{atmosphere:["Hopeful and reverent","Celebration of homecoming","Traditional hymns"],legacy:["Faith journey","Biblical values","Service to the church"],foundation:["Resurrection hope","Stewardship","Family and Faith"]}},jewish:{name:"Jewish",key:"jewish",commonRituals:["Keriah (Tearing Garment)","Sitting Shiva","Reciting Kaddish","Shloshim","Unveiling"],terminology:{service:"Funeral Service",officiant:"Rabbi",bodyPreparation:"Tahara"},dispositionPreference:"burial",forbidden:["cremation","embalming","open_casket"],smartTextareaPrompts:{atmosphere:["Solemn and respectful","Plain pine casket","No flowers (Charity instead)"],legacy:["Torah values","Acts of Chesed (Kindness)","Zionism/Community"],foundation:["Tikkun Olam (Repairing the World)","Family heritage","Modesty and dignity"]}},muslim:{name:"Muslim",key:"muslim",commonRituals:["Janazah Prayer","Prompt Burial (24h)","Facing Qibla","3-Day Mourning"],terminology:{service:"Janazah Prayer",officiant:"Imam",bodyPreparation:"Ghusl"},dispositionPreference:"burial",forbidden:["cremation","embalming"],smartTextareaPrompts:{atmosphere:["Simple and humble","Community prayer focus","Swift procession"],legacy:["Submission to Allah","Charity (Sadaqah Jariyah)","Family devotion"],foundation:["Submission to Allah's will","Simplicity","Forgiveness"]}},hindu:{name:"Hindu",key:"hindu",commonRituals:["Antyesti (Last Sacrifice)","Garlanding the Body","Kapal Kriya","Immersion of Ashes","13-Day Mourning"],terminology:{service:"Antyesti",officiant:"Pandit/Priest",bodyPreparation:"Washing/Anointing"},dispositionPreference:"cremation",smartTextareaPrompts:{atmosphere:["Chanting Mantras","White flowers/garlands","Burning incense/ghee"],legacy:["Karma and Dharma","Liberation (Moksha)","Ancestral connection"],foundation:["Dharma (Duty)","Moksha (Liberation)","Cycle of Life"]}},buddhist:{name:"Buddhist",key:"buddhist",commonRituals:["Chanting Sutras","Altar Offerings","Merit Transference","49-Day Transition"],terminology:{service:"Funeral Ceremony",officiant:"Monk",bodyPreparation:"Washing/Dressing"},dispositionPreference:"cremation",smartTextareaPrompts:{atmosphere:["Meditative and calm","Sutra chanting","Incense offerings"],legacy:["Impermanence (Anicca)","Compassion (Metta)","Wisdom"],foundation:["Peace and compassion","Impermanence","Mindfulness"]}},other:{name:"Other / Spiritual",key:"other",commonRituals:["Personalized Rituals"],terminology:{service:"Service",officiant:"Officiant",bodyPreparation:"Preparation"},dispositionPreference:"either",smartTextareaPrompts:{atmosphere:["Respectful tribute","Unique cultural elements","Personal spirituality"],legacy:["Personal philosophy","Creative spirit","Love for family"],foundation:["Personal truth","Connection to nature","Love"]}}};var ma=_('<div class="relative z-10 flex flex-col items-center gap-2 cursor-pointer group"><div><!></div> <div> </div></div>'),fa=_('<button><div class="font-bold text-stone-800 mb-1"> </div> <div class="text-xs text-stone-500 line-clamp-2"> </div></button>'),pa=_(`<div class="space-y-8"><div class="text-center space-y-2"><h2 class="text-3xl font-serif font-bold text-[#304743]">Faith & Foundation</h2> <p class="text-stone-500">Select the tradition that best honors your life and
                            values.</p></div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div> <div class="flex justify-end mb-1"><!></div> <!></div>`),ba=_('<div class="text-xs font-bold text-red-500 bg-red-50 px-2 py-1 rounded inline-block mb-2"> </div>'),ga=_("<button> </button>"),xa=_(`<div class="space-y-8"><div class="text-center space-y-2"><h2 class="text-3xl font-serif font-bold text-[#304743]">The Farewell</h2> <p class="text-stone-500">Decisions regarding the preparation and resting
                            place of the body.</p></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><button><div class="flex items-center gap-4 mb-4"><div class="p-3 bg-white rounded-full shadow-sm text-[#4A7C74]"><!></div> <span class="font-bold text-xl text-stone-800">Burial</span></div> <p class="text-sm text-stone-600">Traditional interment in the ground or a
                                mausoleum.</p></button> <button><div class="flex items-center gap-4 mb-4"><div class="p-3 bg-white rounded-full shadow-sm text-orange-500"><!></div> <span class="font-bold text-xl text-stone-800">Cremation</span></div> <!> <p class="text-sm text-stone-600">Process of reducing the body to ashes/fragments.</p></button></div> <div class="bg-stone-50 rounded-xl p-6"><h3 class="font-bold text-stone-700 mb-4 flex items-center gap-2"><!> Body Preparation</h3> <div class="flex flex-wrap gap-3"></div></div></div>`),ha=_('<button class="flex items-center gap-3 p-3 bg-white/50 hover:bg-white rounded-xl border border-transparent hover:border-[#4A7C74]/20 transition-all text-left group"><div><!></div> <span class="text-stone-700 font-medium group-hover:text-[#304743]"> </span></button>'),_a=_(`<div class="space-y-8"><div class="text-center space-y-2"><h2 class="text-3xl font-serif font-bold text-[#304743]">The Ceremony</h2> <p class="text-stone-500">Where and how we gather to honor your life.</p></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-8"><div class="space-y-4"><label class="text-xs font-bold uppercase tracking-widest text-stone-400">Venue</label> <input type="text" placeholder="e.g. St. Mary's Church, The Beach, Funeral Home..." class="w-full p-4 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-[#4A7C74] outline-none font-medium"/></div> <div class="space-y-4"><label class="text-xs font-bold uppercase tracking-widest text-stone-400"> </label> <input type="text" class="w-full p-4 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-[#4A7C74] outline-none font-medium"/></div></div> <div class="bg-[#FBF9EB] rounded-2xl p-8 border border-[#4A7C74]/10"><h3 class="font-serif font-bold text-xl text-[#304743] mb-6 flex items-center gap-3"><!> </h3> <div class="grid grid-cols-1 sm:grid-cols-2 gap-4"></div></div></div>`),ya=_('<div class="flex justify-between items-center text-sm p-2 bg-stone-50 rounded"><span> </span> <button class="text-red-400 hover:text-red-600">Ã—</button></div>'),wa=_(`<div class="space-y-8"><div class="text-center space-y-2"><h2 class="text-3xl font-serif font-bold text-[#304743]">Atmosphere</h2> <p class="text-stone-500">Setting the tone, music, and feeling of the service.</p></div> <div class="flex justify-end mb-1"><!></div> <!> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="bg-white p-6 rounded-xl border border-stone-200 shadow-sm"><h3 class="font-bold text-stone-700 mb-2 flex items-center gap-2"><!> Music Requests</h3> <div class="space-y-2"><!> <button class="text-xs font-bold text-[#4A7C74] uppercase tracking-wide mt-2">+ Add Song</button></div></div> <div class="bg-white p-6 rounded-xl border border-stone-200 shadow-sm"><h3 class="font-bold text-stone-700 mb-2 flex items-center gap-2"><!> Floral Preferences</h3> <textarea class="w-full text-sm bg-stone-50 border border-stone-100 rounded-lg p-3 outline-none focus:ring-1 focus:ring-[#4A7C74]" placeholder="e.g. White Lilies only, or 'In Lieu of Flowers'..."></textarea></div></div></div>`),Ca=_('<div class="space-y-8"><div class="text-center space-y-2"><h2 class="text-3xl font-serif font-bold text-[#304743]">Legacy & Logistics</h2> <p class="text-stone-500">Final details to ensure your message is heard.</p></div> <div class="flex justify-end mb-1"><!></div> <!> <div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="space-y-4"><label class="text-xs font-bold uppercase tracking-widest text-stone-400">Charity Donations</label> <input type="text" placeholder="Organization name..." class="w-full p-4 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-[#4A7C74] outline-none font-medium"/></div></div></div>'),Aa=_('<button class="px-8 py-3 bg-[#304743] hover:bg-[#2A3F3B] text-white rounded-xl font-bold shadow-lg shadow-[#304743]/20 flex items-center gap-2 transition-all hover:-translate-y-0.5">Next Step <!></button>'),$a=_('<button class="px-8 py-3 bg-[#4A7C74] hover:bg-[#3b635d] text-white rounded-xl font-bold shadow-lg shadow-[#4A7C74]/20 flex items-center gap-2 transition-all hover:-translate-y-0.5"><!> Save Plan</button>'),ka=_('<div class="bg-white rounded-3xl border border-stone-100 shadow-xl overflow-hidden min-h-[600px] flex flex-col"><div class="bg-stone-50 border-b border-stone-100 p-6"><div class="flex justify-between max-w-3xl mx-auto relative"><div class="absolute top-5 left-0 right-0 h-0.5 bg-stone-200 -z-0"></div> <div class="absolute top-5 left-0 h-0.5 bg-[#4A7C74] -z-0 transition-all duration-500"></div> <!></div></div> <div class="flex-1 p-8 md:p-12 overflow-y-auto"><div class="max-w-3xl mx-auto space-y-8"><!></div></div> <div class="p-6 bg-white border-t border-stone-100 flex justify-between items-center"><button class="px-6 py-3 rounded-xl font-bold text-stone-500 hover:bg-stone-50 disabled:opacity-30 disabled:hover:bg-transparent transition-colors flex items-center gap-2"><!> Back</button> <!></div></div>');function Pa(we,ue){At(ue,!1);const E=()=>nt(ve,"$funeralStore",V),[V,ge]=Mt(),l=ae(),u=ae(),q=[{id:1,title:"Foundation",icon:Jt},{id:2,title:"The Farewell",icon:Yt},{id:3,title:"Ceremony",icon:dt},{id:4,title:"Atmosphere",icon:yt},{id:5,title:"Legacy",icon:Xt}];let m=ae(1),B=ae({foundation:Ke.funeral.foundation[0],atmosphere:Ke.funeral.atmosphere[0],legacy:Ke.funeral.legacy[0]});function re(d){const n=Ke.funeral[d];let f;do f=n[Math.floor(Math.random()*n.length)];while(f===e(B)[d]&&n.length>1);P(B,{...e(B),[d]:f})}function xe(d){ve.update(n=>({...n,wishes:{...n.wishes,religiousTradition:d}}))}function he(d){ve.update(n=>({...n,wishes:{...n.wishes,disposition:d}}))}function c(d){const n=e(l).ceremonyDetails?.rituals||[],f=n.includes(d)?n.filter(x=>x!==d):[...n,d];ve.update(x=>({...x,wishes:{...x.wishes,ceremonyDetails:{...x.wishes.ceremonyDetails,rituals:f}}}))}function oe(d,n){ve.update(f=>{const x={...f};let G=x.wishes;for(let h=0;h<d.length-1;h++)G[d[h]]||(G[d[h]]={}),G=G[d[h]];return G[d[d.length-1]]=n,x})}function Qe(){e(m)<q.length&&gt(m)}function Ue(){e(m)>1&&gt(m,-1)}function Fe(d){return e(u).forbidden?.includes(d)}Se(()=>E(),()=>{P(l,E().wishes)}),Se(()=>e(l),()=>{P(u,st[e(l).religiousTradition||"secular"])}),$t(),Ct();var me=ka(),Ce=a(me),Me=a(Ce),Re=r(a(Me),2),Je=r(Re,2);De(Je,1,()=>q,ze,(d,n)=>{var f=ma(),x=a(f),G=a(x);Qt(G,()=>e(n).icon,(w,A)=>{A(w,{size:18})}),t(x);var h=r(x,2),T=a(h,!0);t(h),t(f),M(()=>{ce(x,1,`w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300
                        ${e(n),e(m),o(()=>e(n).id===e(m)?"bg-[#4A7C74] border-[#4A7C74] text-white shadow-lg scale-110":e(n).id<e(m)?"bg-[#4A7C74] border-[#4A7C74] text-white":"bg-white border-stone-300 text-stone-300 group-hover:border-[#4A7C74]/50")??""}`),ce(h,1,`text-[10px] font-bold uppercase tracking-widest transition-colors duration-300
                        ${e(n),e(m),o(()=>e(n).id===e(m)?"text-[#4A7C74]":"text-stone-400")??""}`),C(T,(e(n),o(()=>e(n).title)))}),b("click",f,()=>P(m,e(n).id)),v(d,f)}),t(Me),t(Ce);var Ae=r(Ce,2),Ve=a(Ae),He=a(Ve);{var Ye=d=>{var n=pa(),f=r(a(n),2);De(f,5,()=>(Vt(st),o(()=>Object.values(st))),ze,(T,w)=>{var A=fa(),ie=a(A),K=a(ie,!0);t(ie);var L=r(ie,2),R=a(L);t(L),t(A),M(H=>{ce(A,1,`p-4 rounded-xl border-2 text-left transition-all hover:scale-[1.02]
                                ${e(l),e(w),o(()=>e(l).religiousTradition===e(w).key?"border-[#4A7C74] bg-[#4A7C74]/5 shadow-mdring-1 ring-[#4A7C74]":"border-stone-100 hover:border-[#4A7C74]/30 bg-white")??""}`),C(K,(e(w),o(()=>e(w).name))),C(R,`${H??""}...`)},[()=>(e(w),o(()=>e(w).commonRituals.slice(0,3).join(", ")))]),b("click",A,()=>xe(e(w).key)),v(T,A)}),t(f);var x=r(f,2),G=a(x);it(G,{onRefresh:()=>re("foundation"),label:"New Question"}),t(x);var h=r(x,2);{let T=Ne(()=>(e(u),o(()=>e(u).smartTextareaPrompts.foundation||[]))),w=Ne(()=>(e(l),o(()=>e(l).ceremonyDetails?.type||"")));ot(h,{label:"Core Values & Wishes",context:"funeral",get placeholder(){return e(B),o(()=>e(B).foundation)},get suggestions(){return e(T)},get value(){return e(w)},minHeight:"120px",$$events:{change:A=>oe(["ceremonyDetails","type"],A.detail)}})}t(n),ye(1,n,()=>Te),v(d,n)},Ie=d=>{var n=Pe(),f=ne(n);{var x=h=>{var T=xa(),w=r(a(T),2),A=a(w),ie=a(A),K=a(ie),L=a(K);ta(L,{size:24}),t(K),W(2),t(ie),W(2),t(A);var R=r(A,2),H=a(R),de=a(H),O=a(de);aa(O,{size:24}),t(de),W(2),t(H);var z=r(H,2);{var Z=F=>{var i=ba(),s=a(i);t(i),M(()=>C(s,`Typically Forbidden in ${e(u),o(()=>e(u).name)??""}`)),v(F,i)};X(z,F=>{o(()=>Fe("cremation"))&&F(Z)})}W(2),t(R),t(w);var Q=r(w,2),N=a(Q),j=a(N);ra(j,{size:18}),W(),t(N);var U=r(N,2);De(U,5,()=>(e(u),o(()=>[e(u).terminology.bodyPreparation,"Embalming","Dressing","Cosmetology"])),ze,(F,i)=>{var s=Pe(),g=ne(s);{var S=y=>{var p=ga(),D=a(p,!0);t(p),M($=>{ce(p,1,`px-4 py-2 rounded-lg border text-sm font-bold transition-all
                                        ${$??""}`),C(D,e(i))},[()=>(e(l),e(i),o(()=>e(l).ceremonyDetails?.rituals?.includes(e(i))?"bg-[#4A7C74] text-white border-[#4A7C74]":"bg-white border-stone-200 text-stone-500 hover:border-[#4A7C74]"))]),b("click",p,()=>c(e(i))),v(y,p)};X(g,y=>{e(i),o(()=>!["Embalming"].some(p=>p===e(i)&&Fe("embalming")))&&y(S)})}v(F,s)}),t(U),t(Q),t(T),M(F=>{ce(A,1,`p-6 rounded-2xl border-2 text-left transition-all relative overflow-hidden group
                             ${e(l),o(()=>e(l).disposition==="Burial"?"border-[#4A7C74] bg-[#FBF9EB]":"border-stone-100 hover:border-[#4A7C74]/30")??""}`),ce(R,1,`p-6 rounded-2xl border-2 text-left transition-all relative overflow-hidden group
                             ${e(l),o(()=>e(l).disposition==="Cremation"?"border-[#4A7C74] bg-[#FBF9EB]":"border-stone-100")??""}
                             ${F??""}`)},[()=>o(()=>Fe("cremation")?"opacity-50 cursor-not-allowed grayscale":"hover:border-[#4A7C74]/30")]),b("click",A,()=>he("Burial")),b("click",R,()=>!Fe("cremation")&&he("Cremation")),ye(1,T,()=>Te),v(h,T)},G=h=>{var T=Pe(),w=ne(T);{var A=K=>{var L=_a(),R=r(a(L),2),H=a(R),de=r(a(H),2);je(de),t(H);var O=r(H,2),z=a(O),Z=a(z);t(z);var Q=r(z,2);je(Q),t(O),t(R);var N=r(R,2),j=a(N),U=a(j);dt(U,{size:20});var F=r(U);t(j);var i=r(j,2);De(i,5,()=>(e(u),o(()=>e(u).commonRituals)),ze,(s,g)=>{var S=ha(),y=a(S),p=a(y);wt(p,{size:14}),t(y);var D=r(y,2),$=a(D,!0);t(D),t(S),M(k=>{ce(y,1,`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors
                                        ${k??""}`),C($,e(g))},[()=>(e(l),e(g),o(()=>e(l).ceremonyDetails?.rituals?.includes(e(g))?"bg-[#4A7C74] border-[#4A7C74] text-white":"border-stone-300 text-transparent group-hover:border-[#4A7C74]"))]),b("click",S,()=>c(e(g))),v(s,S)}),t(i),t(N),t(L),M(()=>{Ge(de,(e(l),o(()=>e(l).venue||""))),C(Z,`Officiant (${e(u),o(()=>e(u).terminology.officiant)??""})`),Ge(Q,(e(l),o(()=>e(l).ceremonyDetails?.officiant||""))),Wt(Q,"placeholder",(e(u),o(()=>`Name of ${e(u).terminology.officiant}...`))),C(F,` ${e(u),o(()=>e(u).name)??""} Rituals`)}),b("input",de,s=>oe(["venue"],s.currentTarget.value)),b("input",Q,s=>oe(["ceremonyDetails","officiant"],s.currentTarget.value)),ye(1,L,()=>Te),v(K,L)},ie=K=>{var L=Pe(),R=ne(L);{var H=O=>{var z=wa(),Z=r(a(z),2),Q=a(Z);it(Q,{onRefresh:()=>re("atmosphere"),label:"New Question"}),t(Z);var N=r(Z,2);{let k=Ne(()=>(e(u),o(()=>e(u).smartTextareaPrompts.atmosphere||[]))),ee=Ne(()=>(e(l),o(()=>e(l).mood||"")));ot(N,{label:"Vibe & Atmosphere",context:"funeral",get placeholder(){return e(B),o(()=>e(B).atmosphere)},get suggestions(){return e(k)},get value(){return e(ee)},minHeight:"150px",$$events:{change:se=>oe(["mood"],se.detail)}})}var j=r(N,2),U=a(j),F=a(U),i=a(F);yt(i,{size:18}),W(),t(F);var s=r(F,2),g=a(s);De(g,1,()=>(e(l),o(()=>e(l).music||[])),ze,(k,ee,se)=>{var J=ya(),Y=a(J),pe=a(Y,!0);t(Y);var le=r(Y,2);t(J),M(()=>C(pe,e(ee))),b("click",le,()=>{const _e=e(l).music.filter((lt,Xe)=>Xe!==se);oe(["music"],_e)}),v(k,J)});var S=r(g,2);t(s),t(U);var y=r(U,2),p=a(y),D=a(p);ua(D,{size:18}),W(),t(p);var $=r(p,2);Ht($),t(y),t(j),t(z),M(()=>Ge($,(e(l),o(()=>e(l).flowers||"")))),b("click",S,()=>{const k=prompt("Add Song (Artist - Title):");k&&oe(["music"],[...e(l).music,k])}),b("change",$,k=>oe(["flowers"],k.currentTarget.value)),ye(1,z,()=>Te),v(O,z)},de=O=>{var z=Pe(),Z=ne(z);{var Q=N=>{var j=Ca(),U=r(a(j),2),F=a(U);it(F,{onRefresh:()=>re("legacy"),label:"New Question"}),t(U);var i=r(U,2);{let y=Ne(()=>(e(u),o(()=>e(u).smartTextareaPrompts.legacy||[]))),p=Ne(()=>(e(l),o(()=>e(l).legacy?.obituaryNotes||"")));ot(i,{label:"Obituary Notes & Life Story",context:"funeral",get placeholder(){return e(B),o(()=>e(B).legacy)},get suggestions(){return e(y)},get value(){return e(p)},minHeight:"180px",$$events:{change:D=>oe(["legacy","obituaryNotes"],D.detail)}})}var s=r(i,2),g=a(s),S=r(a(g),2);je(S),t(g),t(s),t(j),M(()=>Ge(S,(e(l),o(()=>e(l).legacy?.charity||"")))),b("input",S,y=>oe(["legacy","charity"],y.currentTarget.value)),ye(1,j,()=>Te),v(N,j)};X(Z,N=>{e(m)===5&&N(Q)},!0)}v(O,z)};X(R,O=>{e(m)===4?O(H):O(de,!1)},!0)}v(K,L)};X(w,K=>{e(m)===3?K(A):K(ie,!1)},!0)}v(h,T)};X(f,h=>{e(m)===2?h(x):h(G,!1)},!0)}v(d,n)};X(He,d=>{e(m)===1?d(Ye):d(Ie,!1)})}t(Ve),t(Ae);var Ee=r(Ae,2),fe=a(Ee),Oe=a(fe);Zt(Oe,{size:18}),W(),t(fe);var We=r(fe,2);{var Be=d=>{var n=Aa(),f=r(a(n));ea(f,{size:18}),t(n),b("click",n,Qe),v(d,n)},Le=d=>{var n=$a(),f=a(n);wt(f,{size:18}),W(),t(n),v(d,n)};X(We,d=>{e(m),o(()=>e(m)<q.length)?d(Be):d(Le,!1)})}t(Ee),t(me),M(()=>{Ot(Re,`width: ${e(m),o(()=>(e(m)-1)/(q.length-1)*100)??""}%`),fe.disabled=e(m)===1}),b("click",fe,Ue),v(we,me),kt(),ge()}var Sa=_('<div class="grid gap-4"><!> <!> <!></div> <div class="text-center mt-6"><p class="text-stone-500 text-sm mb-4">Start with industry estimates or build your own.</p> <div class="flex justify-center gap-4"><button class="text-[#4A7C74] font-bold text-sm bg-[#4A7C74]/10 px-4 py-2 rounded-lg hover:bg-[#4A7C74]/20 transition-colors">Auto-Fill Common Costs</button> <button class="text-stone-500 font-bold text-sm hover:text-stone-700 hover:underline px-4 py-2">Manually Add Item</button></div></div>',1),Ta=_('You are projected to save <span class="font-bold underline"> </span> compared to the national average.',1),Fa=_('Your plan is currently <span class="font-bold underline"> </span> over the national average.',1),Ma=_('<div class="px-6 py-4 flex items-center justify-between group hover:bg-stone-50 transition-colors"><div><div class="font-bold text-stone-800"> </div> <div class="text-xs text-stone-400"> </div></div> <div class="flex items-center gap-6"><div class="font-bold text-stone-700"> </div> <div class="flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity"><button class="p-2 text-stone-400 hover:text-[#4A7C74] bg-white border border-stone-200 rounded-full shadow-sm"><!></button> <button class="p-2 text-stone-400 hover:text-red-500 bg-white border border-stone-200 rounded-full shadow-sm"><!></button></div></div></div>'),Ra=_('<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 items-end"><div class="p-6 rounded-2xl bg-[#304743] text-white shadow-lg"><div class="text-xs font-bold uppercase tracking-wider opacity-70 mb-1">Total Estimated Cost</div> <div class="text-4xl font-serif font-bold"> </div></div> <div class="p-6 rounded-2xl bg-white border border-stone-200 shadow-sm"><div class="text-xs font-bold uppercase tracking-wider text-stone-500 mb-1">Industry Avg. (Projected)</div> <div class="text-2xl font-bold text-stone-700"> </div></div> <div><div class="flex items-center gap-2 font-bold mb-1">Saving vs. Avg</div> <p class="text-sm opacity-90 leading-relaxed"><!></p></div></div> <div class="bg-white rounded-xl shadow-sm border border-stone-200 overflow-hidden"><div class="px-6 py-4 border-b border-stone-100 flex justify-between items-center"><h3 class="font-bold text-stone-700 flex items-center gap-2"><!> Budget Breakdown</h3> <div class="flex gap-2"><button class="text-xs font-bold text-stone-500 hover:text-[#4A7C74] px-3 py-1.5 rounded-lg hover:bg-stone-50 transition-colors">Auto-Fill Common Costs</button> <button class="bg-[#4A7C74] hover:bg-[#3b635d] text-white px-4 py-1.5 rounded-lg text-sm font-bold shadow-sm transition-all">+ Add Item</button></div></div> <div class="divide-y divide-stone-100"></div></div>',1),Na=_("<div><!></div>"),Da=_('<div class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 backdrop-blur-sm"><div class="bg-white rounded-2xl w-full max-w-md shadow-xl overflow-hidden"><div class="bg-[#304743] p-6 flex justify-between items-start text-white"><div><h3 class="font-serif font-bold text-xl"> </h3> <p class="text-emerald-100/80 text-sm mt-1">Add a line item to your funeral budget.</p></div> <button class="text-white/50 hover:text-white transition-colors"><!></button></div> <div class="p-6 space-y-4"><div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Item Name</label> <input class="w-full p-3 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-[#4A7C74] outline-none font-medium" placeholder="e.g. Venue Rental"/></div> <div class="space-y-2"><label class="text-xs font-bold uppercase tracking-wider text-muted-foreground">Cost ($)</label> <input type="number" class="w-full p-3 bg-stone-50 border border-stone-200 rounded-xl focus:ring-2 focus:ring-[#4A7C74] outline-none font-medium" placeholder="0.00"/></div> <button class="w-full py-4 bg-[#4A7C74] hover:bg-[#3b635d] text-white font-bold rounded-xl shadow-lg shadow-[#4A7C74]/20 transition-all hover:-translate-y-0.5 disabled:opacity-50 disabled:cursor-not-allowed">Save Expense</button></div></div></div>'),Ia=_(`<div class="max-w-6xl mx-auto p-8 animate-in fade-in duration-500"><div class="mb-12 text-center"><div class="inline-flex items-center justify-center p-4 bg-teal-100 text-teal-800 rounded-full mb-6"><!></div> <div class="max-w-xl mx-auto mb-6"><!></div> <h1 class="font-serif font-bold text-4xl text-[#304743] mb-4">Funeral Planner</h1> <p class="text-lg text-muted-foreground max-w-2xl mx-auto">Relieve the burden of decision-making. Plan the details, manage the
            budget, and ensure your wishes are honored.</p> <div class="mt-8 max-w-3xl mx-auto text-left"><!></div></div> <div class="flex justify-center mb-8"><div class="bg-gray-100 p-1.5 rounded-xl inline-flex gap-2"><button>My Wishes & Vibe</button> <button>Budget Calculator</button></div></div> <div class="bg-white rounded-3xl border border-border shadow-sm overflow-hidden min-h-[500px] p-8"><div class="mb-10 p-6 bg-slate-50 border border-slate-100 rounded-2xl flex flex-col md:flex-row justify-between items-center gap-6"><div class="flex items-center gap-4"><div class="p-3 bg-white rounded-xl shadow-sm text-slate-400"><!></div> <div><h2 class="text-xl font-bold text-slate-800"> </h2> <p class="text-sm text-slate-500 italic">Pre-filled from Estate Profile</p></div></div> <div class="h-10 w-px bg-slate-200 hidden md:block"></div> <div class="flex items-center gap-4"><div class="text-right"><p class="text-xs font-bold uppercase tracking-widest text-slate-400">Chief Coordinator</p> <p class="font-bold text-slate-700"> </p></div> <div class="p-3 bg-white rounded-xl shadow-sm text-indigo-500"><!></div></div> <div class="h-10 w-px bg-slate-200 hidden md:block"></div> <div class="flex items-center gap-4"><div class="text-right"><p class="text-xs font-bold uppercase tracking-widest text-slate-400">Local Area</p> <p class="font-bold text-slate-700"> </p></div> <div class="p-3 bg-white rounded-xl shadow-sm text-emerald-500"><!></div></div></div> <!> <!> <!></div></div>`);function hr(we,ue){At(ue,!1);const E=()=>nt(ve,"$funeralStore",ge),V=()=>nt(Kt,"$estateProfile",ge),[ge,l]=Mt(),u=ae(),q=ae(),m=ae(),B=ae(),re=ae();let xe=ae("wishes"),he=ae(!1),c=ae({name:"",cost:0});function oe(){if(e(c).name){if(e(c).id)ve.update(i=>({...i,budget:i.budget.map(s=>s.id===e(c).id?{...s,...e(c),cost:Number(e(c).cost),estimated:Number(e(c).cost)}:s)})),_t.logEvent({module:"Funeral Planning",action:"UPDATE",entityType:"Budget Item",entityId:e(c).id,entityName:e(c).name||"Unnamed Item",changes:[],userContext:V().ownerName||"User"});else{const i=crypto.randomUUID();ve.update(s=>({...s,budget:[...s.budget,{id:i,name:e(c).name||"Expense",cost:Number(e(c).cost),estimated:Number(e(c).cost)}]})),_t.logEvent({module:"Funeral Planning",action:"CREATE",entityType:"Budget Item",entityId:i,entityName:e(c).name,userContext:V().ownerName||"User"})}Ue()}}function Qe(i){P(c,{...i}),P(he,!0)}function Ue(){P(c,{id:void 0,name:"",cost:0}),P(he,!1)}function Fe(i){confirm("Remove expense?")&&ve.update(s=>({...s,budget:s.budget.filter(g=>g.id!==i)}))}function me(){if(!confirm("This will add standard industry average costs (2021 NFDA) to your budget. Continue?"))return;[{name:"Basic Services Fees",cost:2300,estimated:2300},{name:"Embalming & Prep",cost:775,estimated:775},{name:"Viewing / Visitation",cost:450,estimated:450},{name:"Funeral Ceremony",cost:515,estimated:515},{name:"Hearse",cost:350,estimated:350},{name:"Transfer of Remains",cost:350,estimated:350},{name:"Casket (Metal)",cost:2500,estimated:2500},{name:"Vault",cost:1572,estimated:1572},{name:"Memorial Printed Package",cost:183,estimated:183}].forEach(s=>{ve.update(g=>({...g,budget:[...g.budget,{id:crypto.randomUUID(),name:s.name,cost:s.cost,estimated:s.estimated}]}))})}Se(()=>E(),()=>{P(u,E().wishes)}),Se(()=>E(),()=>{P(q,E().budget)}),Se(()=>E(),()=>{P(m,E().budget.reduce((i,s)=>i+s.cost,0))}),Se(()=>E(),()=>{P(B,E().budget.reduce((i,s)=>i+(s.estimated||s.cost),0))}),Se(()=>(e(B),e(m)),()=>{P(re,e(B)-e(m))}),$t(),Ct();var Ce=Ia(),Me=a(Ce),Re=a(Me),Je=a(Re);dt(Je,{size:48}),t(Re);var Ae=r(Re,2),Ve=a(Ae);Gt(Ve,{context:"obituary"}),t(Ae);var He=r(Ae,6),Ye=a(He);oa(Ye,{variant:"banner",title:"Important Note",message:"Funeral laws and requirements vary significantly by state and country. While these wishes guide your family, some jurisdictions require specific legal forms for binding disposition instructions."}),t(He),t(Me);var Ie=r(Me,2),Ee=a(Ie),fe=a(Ee),Oe=r(fe,2);t(Ee),t(Ie);var We=r(Ie,2),Be=a(We),Le=a(Be),d=a(Le),n=a(d);va(n,{size:32}),t(d);var f=r(d,2),x=a(f),G=a(x);t(x),W(2),t(f),t(Le);var h=r(Le,4),T=a(h),w=r(a(T),2),A=a(w,!0);t(w),t(T);var ie=r(T,2),K=a(ie);ia(K,{size:24}),t(ie),t(h);var L=r(h,4),R=a(L),H=r(a(R),2),de=a(H,!0);t(H),t(R);var O=r(R,2),z=a(O);sa(z,{size:24}),t(O),t(L),t(Be);var Z=r(Be,2);{var Q=i=>{Pa(i,{})};X(Z,i=>{e(xe)==="wishes"&&i(Q)})}var N=r(Z,2);{var j=i=>{var s=Na(),g=a(s);{var S=p=>{var D=Sa(),$=ne(D),k=a($);rt(k,{type:"Budget Item",onClick:me});var ee=r(k,2);rt(ee,{type:"Budget Item",onClick:me});var se=r(ee,2);rt(se,{type:"Budget Item",onClick:me}),t($);var J=r($,2),Y=r(a(J),2),pe=a(Y),le=r(pe,2);t(Y),t(J),b("click",pe,me),b("click",le,()=>{P(c,{name:"New Expense",cost:0}),P(he,!0)}),v(p,D)},y=p=>{var D=Ra(),$=ne(D),k=a($),ee=r(a(k),2),se=a(ee);t(ee),t(k);var J=r(k,2),Y=r(a(J),2),pe=a(Y);t(Y),t(J);var le=r(J,2),_e=r(a(le),2),lt=a(_e);{var Xe=te=>{var I=Ta(),be=r(ne(I)),$e=a(be);t(be),W(),M(ke=>C($e,`$${ke??""}`),[()=>(e(re),o(()=>e(re).toLocaleString()))]),v(te,I)},Rt=te=>{var I=Fa(),be=r(ne(I)),$e=a(be);t(be),W(),M(ke=>C($e,`$${ke??""}`),[()=>(e(re),o(()=>Math.abs(e(re)).toLocaleString()))]),v(te,I)};X(lt,te=>{e(re)>=0?te(Xe):te(Rt,!1)})}t(_e),t(le),t($);var ct=r($,2),Ze=a(ct),et=a(Ze),Nt=a(et);da(Nt,{size:18}),W(),t(et);var vt=r(et,2),ut=a(vt),Dt=r(ut,2);t(vt),t(Ze);var mt=r(Ze,2);De(mt,5,()=>e(q),te=>te.id,(te,I)=>{var be=Ma(),$e=a(be),ke=a($e),It=a(ke,!0);t(ke);var ft=r(ke,2),Et=a(ft);t(ft),t($e);var pt=r($e,2),tt=a(pt),Bt=a(tt);t(tt);var bt=r(tt,2),qe=a(bt),Lt=a(qe);la(Lt,{size:14}),t(qe);var at=r(qe,2),zt=a(at);ca(zt,{size:14}),t(at),t(bt),t(pt),t(be),M((jt,Ut)=>{C(It,(e(I),o(()=>e(I).name))),C(Et,`Estimated: $${jt??""}`),C(Bt,`$${Ut??""}`)},[()=>(e(I),o(()=>e(I).estimated?.toLocaleString())),()=>(e(I),o(()=>e(I).cost.toLocaleString()))]),b("click",qe,()=>Qe(e(I))),b("click",at,()=>Fe(e(I).id)),v(te,be)}),t(mt),t(ct),M((te,I)=>{C(se,`$${te??""}`),C(pe,`$${I??""}`),ce(le,1,`p-6 rounded-2xl h-fit ${e(re)>=0?"bg-emerald-50 text-emerald-800":"bg-rose-50 text-rose-800"}`)},[()=>(e(m),o(()=>e(m).toLocaleString())),()=>(e(B),o(()=>e(B).toLocaleString()))]),b("click",ut,me),b("click",Dt,()=>{P(c,{name:"",cost:0}),P(he,!0)}),v(p,D)};X(g,p=>{e(q),o(()=>e(q).length===0)?p(S):p(y,!1)})}t(s),ye(1,s,()=>Te,()=>({duration:300})),v(i,s)};X(N,i=>{e(xe)==="budget"&&i(j)})}var U=r(N,2);{var F=i=>{var s=Da(),g=a(s),S=a(g),y=a(S),p=a(y),D=a(p,!0);t(p),W(2),t(y);var $=r(y,2),k=a($);na(k,{size:24}),t($),t(S);var ee=r(S,2),se=a(ee),J=r(a(se),2);je(J),t(se);var Y=r(se,2),pe=r(a(Y),2);je(pe),t(Y);var le=r(Y,2);t(ee),t(g),t(s),M(()=>{C(D,(e(c),o(()=>e(c).id?"Edit Item":"New Expense"))),le.disabled=(e(c),o(()=>!e(c).name))}),b("click",$,Ue),ht(J,()=>e(c).name,_e=>xt(c,e(c).name=_e)),ht(pe,()=>e(c).cost,_e=>xt(c,e(c).cost=_e)),b("click",le,oe),ye(3,g,()=>qt,()=>({start:.95})),ye(3,s,()=>Te),v(i,s)};X(U,i=>{e(he)&&i(F)})}t(We),t(Ce),M(()=>{ce(fe,1,`px-6 py-2.5 rounded-lg font-bold text-sm transition-all ${e(xe)==="wishes"?"bg-white shadow-sm text-[#304743]":"text-gray-500 hover:text-gray-900"}`),ce(Oe,1,`px-6 py-2.5 rounded-lg font-bold text-sm transition-all ${e(xe)==="budget"?"bg-white shadow-sm text-[#304743]":"text-gray-500 hover:text-gray-900"}`),C(G,`Memorial for ${V(),o(()=>V().ownerName||"Valued Member")??""}`),C(A,(V(),o(()=>V().executorName||"None Designated"))),C(de,(V(),o(()=>V().legalCityState||"Not Set")))}),b("click",fe,()=>P(xe,"wishes")),b("click",Oe,()=>P(xe,"budget")),v(we,Ce),kt(),l()}export{hr as component};
