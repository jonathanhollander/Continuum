import{c as Pe,a as u,d as De,f as g,e as b}from"../chunks/CI19bRDX.js";import{i as He}from"../chunks/CeYVVThO.js";import{c as Ee,o as Ne}from"../chunks/Cc88vFxA.js";import{f as be,p as ke,c as e,s as r,r as t,d,g as o,aR as Qe,n as I,t as ie,a as Ce,m as E,j as Me,a3 as Oe,k as ae}from"../chunks/CC-cBgEA.js";import{s as re}from"../chunks/DtWQG8q5.js";import{i as O}from"../chunks/oYNvDJv2.js";import{I as qe,s as Ge,e as Fe,t as We}from"../chunks/B0hQvWV2.js";import{a as Te,s as ge,r as he}from"../chunks/CPE7ojsi.js";import{b as ue}from"../chunks/DubRPcAg.js";import{l as Ve,b as Be,p as Xe,s as Ze,a as Ie}from"../chunks/BHjHH8n1.js";import{f as Je}from"../chunks/B37JQBsy.js";import{A as Ke}from"../chunks/D8uWt282.js";import{U as Ye}from"../chunks/B6MkXCxC.js";import{Q as Le}from"../chunks/CzU3emUf.js";import{H as et}from"../chunks/DnVIeHlM.js";import{G as we}from"../chunks/CPSh-hdw.js";import{b as tt}from"../chunks/DtYL2sJG.js";import{a as rt}from"../chunks/BopDJUtp.js";import{S as ot}from"../chunks/DsZ2n2Vk.js";import{S as Re}from"../chunks/YAwP_J4U.js";import{S as Ue}from"../chunks/DI7ds4rN.js";import{L as at}from"../chunks/PDyLZ_rv.js";import{U as it}from"../chunks/CW7jBEae.js";import{q as st}from"../chunks/BSX_ZBdj.js";import{a as lt}from"../chunks/C-p41Btd.js";import{e as nt}from"../chunks/Bej7o0Ow.js";import"../chunks/M--U4Bwg.js";import{h as fe}from"../chunks/B55X0rAM.js";import{R as dt}from"../chunks/DneJMtl5.js";import{G as _e}from"../chunks/HIzyW7Q0.js";import{S as ct}from"../chunks/BxEKxVAH.js";import{P as ye}from"../chunks/3NDLYjDg.js";import{X as vt}from"../chunks/CiL9a3zz.js";function mt(J,p){const C=Ve(p,["children","$$slots","$$events","$$legacy"]);const T=[["circle",{cx:"11",cy:"11",r:"8"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11"}]];qe(J,Be({name:"zoom-in"},()=>C,{get iconNode(){return T},children:(A,L)=>{var $=Pe(),z=be($);Ge(z,p,"default",{}),u(A,$)},$$slots:{default:!0}}))}var pt=g('<img class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-700"/>'),ut=g('<div class="flex items-center justify-center h-full text-stone-300"><!></div>'),ft=g('<div class="group bg-white rounded-2xl border border-stone-200 shadow-sm overflow-hidden hover:shadow-lg transition-all duration-300 relative"><div class="h-48 w-full bg-stone-100 relative overflow-hidden"><!> <div class="absolute bottom-3 right-3 bg-white/90 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-bold text-[#304743] shadow-sm flex items-center gap-1.5"><!> </div></div> <div class="p-6"><h3 class="font-serif font-bold text-xl text-[#304743] mb-2"> </h3> <p> </p> <div class="flex items-center justify-between pt-4 border-t border-stone-100"><button class="text-xs font-bold text-stone-400 hover:text-[#4A7C74] flex items-center gap-1 transition-colors"><!> </button> <button class="p-2 bg-stone-50 rounded-lg text-stone-400 hover:text-[#304743] hover:bg-stone-100 transition-colors" title="Generate Digital Heirloom QR"><!></button></div></div> <div class="absolute top-3 left-3 opacity-0 group-hover:opacity-100 transition-opacity"><div class="bg-[#4A7C74] text-white text-[10px] font-bold px-2 py-1 rounded-md shadow-lg flex items-center gap-1"><!> SENTIMENTAL</div></div></div>');function bt(J,p){ke(p,!0);let C=Qe(!1);var T=ft(),A=e(T),L=e(A);{var $=l=>{var c=pt();ie(()=>{ge(c,"src",p.heirloom.image),ge(c,"alt",p.heirloom.name)}),u(l,c)},z=l=>{var c=ut(),U=e(c);we(U,{size:48}),t(c),u(l,c)};O(L,l=>{p.heirloom.image?l($):l(z,!1)})}var q=r(L,2),f=e(q);Ye(f,{size:12,class:"text-[#4A7C74]"});var s=r(f);t(q),t(A);var K=r(A,2),G=e(K),Y=e(G,!0);t(G);var h=r(G,2);let N;var R=e(h,!0);t(h);var F=r(h,2),P=e(F);P.__click=()=>d(C,!o(C));var W=e(P);mt(W,{size:14});var oe=r(W);t(P);var V=r(P,2);V.__click=()=>p.onPrintQr?.(p.heirloom.id);var ee=e(V);Le(ee,{size:16}),t(V),t(F),t(K);var te=r(K,2),B=e(te),a=e(B);et(a,{size:10,class:"fill-current"}),I(),t(B),t(te),t(T),ie(()=>{re(s,` For ${p.heirloom.recipient??""}`),re(Y,p.heirloom.name),N=Te(h,1,"text-sm text-muted-foreground leading-relaxed mb-4 transition-[max-height] duration-500 ease-in-out",null,N,{"line-clamp-3":!o(C)}),re(R,p.heirloom.story),re(oe,` ${o(C)?"Hide Story":"View Story"}`)}),u(J,T),Ce()}De(["click"]);var gt=g('<div class="absolute inset-0 bg-black/60 backdrop-blur-sm flex flex-col items-center justify-center text-white"><div class="relative"><div class="absolute inset-0 bg-indigo-500 blur-xl opacity-50 animate-pulse"></div> <!></div> <p class="mt-4 font-mono text-sm uppercase tracking-widest text-indigo-300 animate-pulse">Analyzing Artifact...</p></div>'),xt=g('<div class="absolute bottom-4 left-1/2 -translate-x-1/2 bg-emerald-500/90 text-white px-4 py-2 rounded-full flex items-center gap-2 shadow-lg backdrop-blur-md animate-in slide-in-from-bottom-4 fade-in duration-500"><!> <span class="text-xs font-bold uppercase tracking-wide">Analysis Complete</span></div> <button class="absolute top-2 right-2 p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors" title="Change Image"><!></button>',1),ht=g('<div class="relative aspect-video w-full max-w-sm mx-auto rounded-lg overflow-hidden shadow-sm"><img alt="Uploaded heirloom" class="w-full h-full object-cover"/> <!> <!></div>'),_t=g('<div class="py-8 cursor-pointer"><div class="w-16 h-16 bg-indigo-50 text-indigo-500 rounded-2xl flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform duration-300 shadow-sm border border-indigo-100"><!></div> <h3 class="text-sm font-bold text-slate-700 mb-1">Visual Archivist</h3> <p class="text-xs text-slate-400">Drag photo here or click to upload</p> <div class="mt-4 inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-indigo-50 text-[10px] font-bold uppercase tracking-wide text-indigo-500"><!> AI Powered</div></div>'),yt=g(`<div class="bg-indigo-50 rounded-xl p-4 border border-indigo-100 animate-in fade-in slide-in-from-top-2"><div class="flex items-start gap-3"><div class="p-2 bg-indigo-100 rounded-lg text-indigo-600"><!></div> <div><h4 class="text-sm font-bold text-indigo-900">Insight Generated</h4> <p class="text-xs text-indigo-700 mt-1">We've identified this item and drafted a description.
                        Review the details below.</p></div></div></div>`),wt=g('<div class="space-y-4"><div><input type="file" accept="image/*" class="hidden"/> <!></div> <!> <div class="pt-4"><!></div></div>');function kt(J,p){ke(p,!1);let C=Xe(p,"imageUrl",12,"");const T=Ee();let A=E(),L=E(!1),$=E(!1),z=E(!1),q=E("");function f(a){a.preventDefault(),d(L,!0)}function s(){d(L,!1)}function K(a){a.preventDefault(),d(L,!1),a.dataTransfer?.files&&a.dataTransfer.files[0]&&G(a.dataTransfer.files[0])}function G(a){if(!a.type.startsWith("image/"))return;const l=new FileReader;l.onload=c=>{C(c.target?.result),Y(a)},l.readAsDataURL(a)}async function Y(a){d($,!0),d(z,!1);try{const l=await rt(a);T("analyze",l),d(z,!0)}catch(l){console.error("Analysis failed",l)}finally{d($,!1)}}function h(){o(A).click()}He();var N=wt(),R=e(N),F=e(R);tt(F,a=>d(A,a),()=>o(A));var P=r(F,2);{var W=a=>{var l=ht(),c=e(l),U=r(c,2);{var Q=D=>{var X=gt(),Z=e(X),le=r(e(Z),2);at(le,{size:48,class:"animate-spin relative z-10 text-indigo-400"}),t(Z),I(2),t(X),u(D,X)};O(U,D=>{o($)&&D(Q)})}var se=r(U,2);{var xe=D=>{var X=xt(),Z=be(X),le=e(Z);Re(le,{size:16}),I(2),t(Z);var i=r(Z,2),n=e(i);it(n,{size:14}),t(i),b("click",i,h),u(D,X)};O(se,D=>{o(z)&&D(xe)})}t(l),ie(()=>ge(c,"src",C())),u(a,l)},oe=a=>{var l=_t(),c=e(l),U=e(c);Re(U,{size:32}),t(c);var Q=r(c,6),se=e(Q);Ue(se,{size:10}),I(),t(Q),t(l),b("click",l,h),u(a,l)};O(P,a=>{C()?a(W):a(oe,!1)})}t(R);var V=r(R,2);{var ee=a=>{var l=yt(),c=e(l),U=e(c),Q=e(U);Ue(Q,{size:18}),t(U),I(2),t(c),t(l),u(a,l)};O(V,a=>{o(z)&&a(ee)})}var te=r(V,2),B=e(te);ot(B,{context:"heirloom",placeholder:"Tell the story of this item...",label:"Provenance",get value(){return o(q)},set value(a){d(q,a)},$$legacy:!0}),t(te),t(N),ie(()=>Te(R,1,`relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300 overflow-hidden group
        ${o(L)?"border-indigo-500 bg-indigo-50/50":"border-stone-200 hover:border-indigo-300 hover:bg-stone-50"}`)),b("change",F,a=>a.currentTarget.files&&G(a.currentTarget.files[0])),b("dragover",R,f),b("dragleave",R,s),b("drop",R,K),u(J,N),Ce()}var Ct=g('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"><!> <!> <!> <button class="border-2 border-dashed border-stone-200 rounded-xl flex flex-col items-center justify-center text-stone-400 hover:border-[#4A7C74] hover:text-[#4A7C74] hover:bg-[#4A7C74]/5 transition-all h-[88px] group"><div class="flex items-center gap-2"><!> <span class="font-bold">Catalog New</span></div></button></div> <div class="flex justify-center mt-6"><button class="text-sm font-bold text-[#4A7C74] hover:bg-[#4A7C74]/5 px-4 py-2 rounded-lg transition-colors flex items-center gap-2"><!> Start Heirloom Registry</button></div>',1),At=g('<div class="relative group"><!> <button class="absolute top-2 right-2 p-2 bg-white/90 text-rose-600 rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-all hover:bg-rose-50" title="Remove"><!></button></div>'),zt=g('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"><!> <button class="border-2 border-dashed border-stone-200 rounded-2xl flex flex-col items-center justify-center text-stone-400 hover:border-[#4A7C74] hover:text-[#4A7C74] hover:bg-[#4A7C74]/5 transition-all min-h-[350px] group"><div class="w-16 h-16 rounded-full bg-stone-100 group-hover:bg-[#4A7C74]/10 flex items-center justify-center mb-4 transition-colors"><!></div> <span class="font-bold">Catalog a New Treasure</span></button></div>'),jt=g('<div class="fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm print:bg-white print:p-0"><div class="bg-white rounded-2xl shadow-2xl max-w-sm w-full overflow-hidden print:shadow-none print:w-full print:max-w-none"><div class="p-8 text-center print:text-left print:p-0"><div class="mb-4 print:hidden"><span class="text-xs font-bold uppercase tracking-widest text-[#4A7C74] rounded-full bg-[#4A7C74]/10 px-3 py-1">Printable Label</span></div> <div class="border-2 border-dashed border-stone-300 rounded-xl p-6 bg-stone-50 print:border-4 print:border-black print:bg-white print:rounded-none"><h2 class="font-serif font-bold text-2xl text-slate-900 mb-1"> </h2> <p class="text-xs text-stone-500 uppercase tracking-wide font-bold mb-4"> </p> <div class="bg-white p-2 rounded-lg inline-block shadow-sm mb-4 print:shadow-none"><img alt="QR Code" class="w-48 h-48 mx-auto"/></div> <p class="text-xs text-stone-400 font-mono"> </p></div> <div class="mt-8 flex gap-3 justify-center print:hidden"><button class="px-5 py-2 rounded-xl font-bold text-stone-500 hover:bg-stone-100">Close</button> <button class="px-5 py-2 rounded-xl font-bold bg-[#304743] text-white hover:bg-[#20302d] flex items-center gap-2"><!> Print Label</button></div></div></div></div>'),St=g('<div class="mt-2 text-center"><span class="text-xs text-stone-400">or</span></div> <div class="mt-2"><label class="block text-xs font-bold uppercase text-gray-500 mb-1">Or paste a URL</label> <input type="text" class="w-full px-4 py-3 rounded-xl border border-gray-200 text-sm" placeholder="https://..."/></div>',1),It=g(`<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"><div class="bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden max-h-[90vh] overflow-y-auto"><div class="p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50"><h3 class="font-serif font-bold text-2xl text-slate-800">Add Heirloom</h3> <button class="text-gray-400 hover:text-gray-600">Close</button></div> <div class="p-6 space-y-4"><div><label class="block text-xs font-bold uppercase text-gray-500 mb-1">Item Name</label> <input type="text" class="w-full px-4 py-3 rounded-xl border border-gray-200" placeholder="e.g. Grandma's Ring"/></div> <div><label class="block text-xs font-bold uppercase text-gray-500 mb-1">Intended Recipient</label> <input type="text" class="w-full px-4 py-3 rounded-xl border border-gray-200" placeholder="Who should have this?"/></div> <div><label class="block text-xs font-bold uppercase text-gray-500 mb-1">The Story</label> <textarea class="w-full px-4 py-3 rounded-xl border border-gray-200 h-32" placeholder="Why is this meaningful? Where did it come from?"></textarea></div> <div><!> <!></div></div> <div class="p-6 bg-gray-50 flex justify-end gap-3"><button class="px-6 py-2 rounded-xl font-bold text-gray-500 hover:bg-gray-200">Cancel</button> <button class="px-6 py-2 rounded-xl font-bold bg-[#304743] text-white hover:bg-[#20302d] disabled:opacity-50">Save Item</button></div></div></div>`),Rt=g(`<div class="max-w-7xl mx-auto p-8 animate-in fade-in duration-500"><div class="text-center mb-12"><div class="inline-flex items-center justify-center p-4 bg-amber-100 text-amber-800 rounded-full mb-6"><!></div> <h1 class="font-serif font-bold text-4xl text-[#304743] mb-4">Heirloom Stories</h1> <p class="text-lg text-muted-foreground max-w-2xl mx-auto">Objects carry stories. Document the history and meaning behind your
            most treasured possessions so they remain more than just "things."</p></div> <div class="max-w-3xl mx-auto mb-12"><!></div> <div class="flex flex-col md:flex-row gap-4 justify-between items-center mb-8"><div class="relative w-full md:w-96"><!> <input type="text" placeholder="Search by item, story, or recipient..." class="w-full pl-10 pr-4 py-3 rounded-2xl border border-stone-200 focus:border-[#4A7C74] focus:ring-0 shadow-sm"/></div> <button class="bg-[#304743] leading-none text-white px-6 py-3 rounded-2xl font-bold flex items-center gap-2 shadow-lg hover:shadow-xl hover:bg-[#20302d] transition-all"><!> Add Heirloom</button></div> <!> <!> <!></div>`);function cr(J,p){ke(p,!1);const C=()=>Ie(nt,"$estateProfile",A),T=()=>Ie(fe,"$heirloomStore",A),[A,L]=Ze();Ne(()=>{fe.update(i=>{let n=!1;const m=i.map(v=>v.image&&v.image.includes("unsplash.com")?(n=!0,{...v,image:q(v.name||"",v.story||"")}):v);return n?m:i})});function $(i){const n=i.detail;ae(s,o(s).name=n.name),ae(s,o(s).story=n.description),!o(s).image||o(s).image.startsWith("blob:")}const z=[{keywords:["watch","clock","timepiece","rolex","omega","pocket watch"],url:"/images/heirlooms/heirloom_watch_placeholder_1767552136426.png"},{keywords:["book","bible","journal","diary","letter","paper","document"],url:"/images/heirlooms/heirloom_books_placeholder_1767552150155.png"},{keywords:["ring","necklace","gold","silver","jewelry","locket","diamond","pendant","bracelet"],url:"/images/heirlooms/heirloom_jewelry_placeholder_1767552162926.png"},{keywords:["camera","photo","leica","canon","nikon","lens","film"],url:"/images/heirlooms/heirloom_camera_placeholder_1767552182401.png"},{keywords:["vase","ceramic","bowl","plate","china","porcelain","dish","pottery"],url:"/images/heirlooms/heirloom_vase_placeholder_retry_1767552227926.png"},{keywords:["tool","hammer","wrench","saw","knife","blade"],url:"/images/heirlooms/heirloom_tools_placeholder_1767552195001.png"},{keywords:["music","guitar","violin","piano","instrument"],url:"/images/heirlooms/heirloom_instrument_placeholder_1767552207664.png"}];function q(i,n){const m=(i+" "+n).toLowerCase(),v=z.find(_=>_.keywords.some(x=>m.includes(x)));return v?v.url:z[Math.floor(Math.random()*z.length)].url}let f=E(!1),s=E({image:""});function K(){o(s).name&&(fe.update(i=>[{id:crypto.randomUUID(),name:o(s).name||"Unknown Treasure",recipient:o(s).recipient||"Undecided",story:o(s).story||"",image:o(s).image||q(o(s).name||"",o(s).story||"")},...i]),d(f,!1),d(s,{image:""}))}function G(i){confirm("Remove this heirloom from the registry?")&&fe.update(n=>n.filter(m=>m.id!==i))}let Y=E(!1),h=E(null),N=E("");function R(i){d(h,i),d(Y,!0);const n=`${window.location.origin}/modules/heirlooms?id=${i.id}`;d(N,`https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(n)}`),st.generateAssetQR({id:crypto.randomUUID(),assetId:i.id,assetName:i.name,assetType:"Heirloom",location:"Registry"}),lt.logEvent({module:"Heirlooms",action:"CREATE",entityType:"QR Label",entityId:i.id,entityName:i.name,userContext:C().ownerName||"User"})}function F(){window.print()}He();var P=Rt(),W=e(P),oe=e(W),V=e(oe);we(V,{size:48}),t(oe),I(4),t(W);var ee=r(W,2),te=e(ee);Ke(te,{context:"heirlooms",get promptPool(){return dt.heirlooms.story}}),t(ee);var B=r(ee,2),a=e(B),l=e(a);ct(l,{size:18,class:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400"}),I(2),t(a);var c=r(a,2),U=e(c);ye(U,{size:20}),I(),t(c),t(B);var Q=r(B,2);{var se=i=>{var n=Ct(),m=be(n),v=e(m);_e(v,{type:"Heirloom",onClick:()=>d(f,!0)});var _=r(v,2);_e(_,{type:"Heirloom",onClick:()=>d(f,!0)});var x=r(_,2);_e(x,{type:"Heirloom",onClick:()=>d(f,!0)});var y=r(x,2),w=e(y),j=e(w);ye(j,{size:20}),I(2),t(w),t(y),t(m);var S=r(m,2),k=e(S),M=e(k);we(M,{size:14}),I(),t(k),t(S),b("click",y,()=>d(f,!0)),b("click",k,()=>d(f,!0)),u(i,n)},xe=i=>{var n=zt(),m=e(n);Fe(m,1,T,y=>y.id,(y,w)=>{var j=At(),S=e(j);bt(S,{get heirloom(){return o(w)},onPrintQr:()=>R(o(w))});var k=r(S,2),M=e(k);vt(M,{size:16}),t(k),t(j),b("click",k,()=>G(o(w).id)),We(1,j,()=>Je,()=>({duration:400})),u(y,j)});var v=r(m,2),_=e(v),x=e(_);ye(x,{size:32}),t(_),I(2),t(v),t(n),b("click",v,()=>d(f,!0)),u(i,n)};O(Q,i=>{T().length===0?i(se):i(xe,!1)})}var D=r(Q,2);{var X=i=>{var n=jt(),m=e(n),v=e(m),_=r(e(v),2),x=e(_),y=e(x,!0);t(x);var w=r(x,2),j=e(w);t(w);var S=r(w,2),k=e(S);t(S);var M=r(S,2),ce=e(M);t(M),t(_);var ne=r(_,2),ve=e(ne),de=r(ve,2),me=e(de);Le(me,{size:18}),I(),t(de),t(ne),t(v),t(m),t(n),ie(pe=>{re(y,o(h).name),re(j,`For ${o(h).recipient??""}`),ge(k,"src",o(N)),re(ce,`ID: ${pe??""} // Scan to view story`)},[()=>o(h).id.split("-")[0]]),b("click",ve,()=>d(Y,!1)),b("click",de,F),u(i,n)};O(D,i=>{o(Y)&&o(h)&&i(X)})}var Z=r(D,2);{var le=i=>{var n=It(),m=e(n),v=e(m),_=r(e(v),2);t(v);var x=r(v,2),y=e(x),w=r(e(y),2);he(w),t(y);var j=r(y,2),S=r(e(j),2);he(S),t(j);var k=r(j,2),M=r(e(k),2);Me(M),t(k);var ce=r(k,2),ne=e(ce);{let H=Oe(()=>o(s).image||"");kt(ne,{get imageUrl(){return o(H)},$$events:{analyze:$}})}var ve=r(ne,2);{var de=H=>{var ze=St(),je=r(be(ze),2),Se=r(e(je),2);he(Se),t(je),ue(Se,()=>o(s).image,$e=>ae(s,o(s).image=$e)),u(H,ze)};O(ve,H=>{o(s).image||H(de)})}t(ce),t(x);var me=r(x,2),pe=e(me),Ae=r(pe,2);t(me),t(m),t(n),ie(()=>Ae.disabled=!o(s).name),b("click",_,()=>d(f,!1)),ue(w,()=>o(s).name,H=>ae(s,o(s).name=H)),ue(S,()=>o(s).recipient,H=>ae(s,o(s).recipient=H)),ue(M,()=>o(s).story,H=>ae(s,o(s).story=H)),b("click",pe,()=>d(f,!1)),b("click",Ae,K),u(i,n)};O(Z,i=>{o(f)&&i(le)})}t(P),b("click",c,()=>d(f,!0)),u(J,P),Ce(),L()}export{cr as component};
