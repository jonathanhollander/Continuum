import{c as Ne,a as f,f as _,e as b}from"../chunks/CI19bRDX.js";import{i as Ee}from"../chunks/CeYVVThO.js";import{f as Ae,p as Ue,c as a,r as t,s as i,n as ee,a4 as I,u as k,t as E,a as Fe,l as je,d as v,g as e,m as F,b as et,a3 as Ke,a5 as Ye,j as ct,k as Te}from"../chunks/CC-cBgEA.js";import{s as se}from"../chunks/DtWQG8q5.js";import{i as B}from"../chunks/oYNvDJv2.js";import{I as tt,s as at,e as $e,i as Ge,t as xe}from"../chunks/B0hQvWV2.js";import{s as we,a as ce,r as Re}from"../chunks/CPE7ojsi.js";import{b as Ie}from"../chunks/DubRPcAg.js";import{b as vt}from"../chunks/DtYL2sJG.js";import{l as rt,b as ot,p as ye,s as ut,a as Xe}from"../chunks/BHjHH8n1.js";import{f as ke,a as it}from"../chunks/B37JQBsy.js";import{E as Je}from"../chunks/BMbyy01g.js";import{c as st}from"../chunks/lbPixqMI.js";import{c as Be}from"../chunks/Cc88vFxA.js";import{c as pt}from"../chunks/Dp8rxJLH.js";import{T as lt}from"../chunks/BtEVtpAO.js";import{K as ft}from"../chunks/BDc-zFdb.js";import{C as bt}from"../chunks/BZICprEX.js";import{E as Se}from"../chunks/DjKmT8no.js";import{k as gt}from"../chunks/a7JutzVl.js";import{G as nt}from"../chunks/2cZz6QA1.js";import{L as xt}from"../chunks/hym9nzzJ.js";import{H as Qe}from"../chunks/DnVIeHlM.js";import{C as mt}from"../chunks/D-dZ9ENG.js";import{C as ht}from"../chunks/OUHbYN0M.js";import{X as Le}from"../chunks/CiL9a3zz.js";import{S as _t}from"../chunks/D0JfACeQ.js";import{T as wt}from"../chunks/Lvj5QwYa.js";import{I as Ze}from"../chunks/mn8hCHmd.js";import{S as yt}from"../chunks/CiwhR5N5.js";import{P as He}from"../chunks/3NDLYjDg.js";function kt(w,d){const r=rt(d,["children","$$slots","$$events","$$legacy"]);const c=[["line",{x1:"22",x2:"2",y1:"12",y2:"12"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16"}]];tt(w,ot({name:"hard-drive"},()=>r,{get iconNode(){return c},children:(g,z)=>{var y=Ne(),l=Ae(y);at(l,d,"default",{}),f(g,y)},$$slots:{default:!0}}))}function At(w,d){const r=rt(d,["children","$$slots","$$events","$$legacy"]);const c=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];tt(w,ot({name:"pen"},()=>r,{get iconNode(){return c},children:(g,z)=>{var y=Ne(),l=Ae(y);at(l,d,"default",{}),f(g,y)},$$slots:{default:!0}}))}const Ct=[],$t=[],ze=st("visual_memories",Ct),Pe=st("external_archives",$t),zt=w=>{ze.update(d=>[{...w,id:crypto.randomUUID()},...d])},Mt=w=>{ze.update(d=>d.map(r=>r.id===w?{...r,isFavorite:!r.isFavorite}:r))},Dt=w=>{Pe.update(d=>[...d,{...w,id:crypto.randomUUID()}])},jt=w=>{Pe.update(d=>d.filter(r=>r.id!==w))},It=(w,d)=>{Pe.update(r=>r.map(c=>c.id===w?{...c,...d}:c))},St=w=>{ze.update(d=>d.filter(r=>!w.includes(r.id)))},Lt=(w,d)=>{ze.update(r=>r.map(c=>w.includes(c.id)&&!c.tags.includes(d)?{...c,tags:[...c.tags,d]}:c))};var Et=_('<a target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-sm text-[#4A7C74] font-medium hover:underline"><!> Open Location</a>'),Ut=_('<div class="bg-white rounded-xl border border-slate-200 p-6 hover:shadow-md transition-all group relative"><div class="flex items-start justify-between mb-4"><div class="flex items-center gap-3"><div class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500"><!></div> <div><h3 class="font-bold text-slate-800"> </h3> <div class="text-xs font-medium text-slate-400 uppercase tracking-wider">External Archive</div></div></div> <div class="flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity"><button class="p-2 hover:bg-slate-100 rounded-lg text-slate-400 hover:text-[#4A7C74] transition-colors" title="Edit"><!></button> <button class="p-2 hover:bg-red-50 rounded-lg text-slate-400 hover:text-red-500 transition-colors" title="Remove"><!></button></div></div> <div class="space-y-3"><!> <div class="bg-slate-50 rounded-lg p-3 text-sm text-slate-600"><div class="flex items-center gap-2 text-xs font-bold text-slate-400 uppercase mb-1"><!> Access Instructions</div> </div></div></div>');function Ft(w,d){Ue(d,!1);let r=ye(d,"archive",8);const c=Be();function g(h){const o=h.toLowerCase();return o.includes("drive")||o.includes("usb")||o.includes("disk")?kt:o.includes("cloud")||o.includes("drive")||o.includes("photos")?bt:Se}Ee();var z=Ut(),y=a(z),l=a(y),Y=a(l),O=a(Y);pt(O,()=>g(r().platform),(h,o)=>{o(h,{size:20})}),t(Y);var X=i(Y,2),P=a(X),M=a(P,!0);t(P),ee(2),t(X),t(l);var A=i(l,2),j=a(A),T=a(j);At(T,{size:16}),t(j);var u=i(j,2),te=a(u);lt(te,{size:16}),t(u),t(A),t(y);var J=i(y,2),ae=a(J);{var me=h=>{var o=Et(),G=a(o);Se(G,{size:14}),ee(),t(o),E(()=>we(o,"href",(I(r()),k(()=>r().accessUrl)))),f(h,o)};B(ae,h=>{I(r()),k(()=>r().accessUrl)&&h(me)})}var Q=i(ae,2),le=a(Q),x=a(le);ft(x,{size:12}),ee(),t(le);var m=i(le);t(Q),t(J),t(z),E(()=>{se(M,(I(r()),k(()=>r().platform))),se(m,` ${I(r()),k(()=>r().locationDetails)??""}`)}),b("click",j,()=>c("edit",r())),b("click",u,()=>c("delete",r().id)),f(w,z),Fe()}var Pt=_('<div class="w-2.5 h-2.5 bg-white rounded-full"></div>'),Tt=_('<div class="absolute inset-0 bg-black/10 flex items-start justify-end p-2 transition-opacity"><div><!></div></div>'),Gt=_('<span class="text-[10px] bg-white/20 backdrop-blur px-2 py-0.5 rounded-full text-white"> </span>'),Ht=_('<div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-4"><div class="text-white font-medium truncate text-sm"> </div> <div class="flex gap-2 mt-1"></div></div> <div class="absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-2"><button class="p-2 bg-white/80 backdrop-blur rounded-full hover:bg-white text-slate-500 hover:text-red-500 transition-colors"><!></button></div>',1),Rt=_('<div><img loading="lazy"/> <!> <!></div>'),Nt=_('<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"></div>'),Bt=_('<img class="absolute inset-0 w-full h-full object-contain"/>'),Ot=_('<span class="text-xs bg-white/20 backdrop-blur px-3 py-1 rounded-full"> </span>'),Vt=_('<button><img alt="" class="w-full h-full object-cover"/></button>'),qt=_('<div class="flex-1 relative flex items-center justify-center bg-slate-900 rounded-2xl overflow-hidden min-h-[600px]"><!> <button class="absolute left-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-black/40 text-white hover:bg-black/60 disabled:opacity-30 backdrop-blur transition-all"><!></button> <button class="absolute right-4 top-1/2 -translate-y-1/2 p-3 rounded-full bg-black/40 text-white hover:bg-black/60 disabled:opacity-30 backdrop-blur transition-all"><!></button> <div class="absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/80 to-transparent text-white"><div class="flex justify-between items-end"><div><h2 class="text-xl font-bold mb-2"> </h2> <div class="flex gap-2 mb-4"></div> <p class="text-white/80 text-sm max-w-2xl"> </p></div> <button class="p-3 bg-white/10 hover:bg-white/20 rounded-full transition-colors mb-1"><!></button></div> <div class="flex gap-2 mt-6 overflow-x-auto pb-2 scrollbar-hide mask-fade svelte-jobayy"></div></div> <button class="absolute top-4 right-4 p-2 bg-black/20 hover:bg-black/40 rounded-full text-white backdrop-blur transition-colors"><!></button></div>'),Wt=_('<div class="flex flex-col h-full"><div class="flex justify-end mb-6"><div class="bg-slate-100 p-1 rounded-lg flex"><button title="Grid View"><!></button> <button title="Carousel View"><!></button></div></div> <!></div>');function Kt(w,d){Ue(d,!1);let r=ye(d,"memories",24,()=>[]),c=ye(d,"viewMode",12,"grid"),g=ye(d,"selectedIds",28,()=>[]),z=ye(d,"isSelectionMode",8,!1);const y=Be();let l=F(0);function Y(x,m){m.stopPropagation(),g().includes(x)?g(g().filter(h=>h!==x)):g([...g(),x]),y("selectionChange",g())}function O(x){z()?Y(x.id,new Event("click")):(c("carousel"),v(l,r().indexOf(x)),y("viewChange","carousel"))}function X(){e(l)<r().length-1&&Ye(l)}function P(){e(l)>0&&Ye(l,-1)}function M(x,m){m.stopPropagation(),y("toggleFavorite",x)}je(()=>(I(c()),I(r()),e(l)),()=>{c()==="carousel"&&r().length>0&&v(l,Math.min(e(l),r().length-1))}),et(),Ee();var A=Wt(),j=a(A),T=a(j),u=a(T),te=a(u);nt(te,{size:18}),t(u);var J=i(u,2),ae=a(J);xt(ae,{size:18}),t(J),t(T),t(j);var me=i(j,2);{var Q=x=>{var m=Nt();$e(m,5,r,h=>h.id,(h,o)=>{var G=Rt(),D=a(G),re=i(D,2);{var V=S=>{var q=Tt(),L=a(q),W=a(L);{var pe=U=>{var fe=Pt();f(U,fe)};B(W,U=>{I(g()),e(o),k(()=>g().includes(e(o).id))&&U(pe)})}t(L),t(q),E(U=>ce(L,1,`h-6 w-6 rounded-full border-2 border-white flex items-center justify-center transition-colors ${U??""}`),[()=>(I(g()),e(o),k(()=>g().includes(e(o).id)?"bg-indigo-500 border-indigo-500":"bg-black/30"))]),f(S,q)};B(re,S=>{z()&&S(V)})}var ve=i(re,2);{var ue=S=>{var q=Ht(),L=Ae(q),W=a(L),pe=a(W,!0);t(W);var U=i(W,2);$e(U,5,()=>(e(o),k(()=>e(o).tags)),Ge,(ne,Z)=>{var s=Gt(),n=a(s,!0);t(s),E(()=>se(n,e(Z))),f(ne,s)}),t(U),t(L);var fe=i(L,2),be=a(fe),he=a(be);{let ne=Ke(()=>(e(o),k(()=>e(o).isFavorite?"fill-red-500 text-red-500":"")));Qe(he,{size:14,get class(){return e(ne)}})}t(be),t(fe),E(()=>se(pe,(e(o),k(()=>e(o).name)))),b("click",be,ne=>M(e(o).id,ne)),f(S,q)};B(ve,S=>{z()||S(ue)})}t(G),E(S=>{ce(G,1,`group relative aspect-square bg-slate-100 rounded-xl overflow-hidden cursor-pointer hover:shadow-lg transition-all ${S??""}`),we(D,"src",(e(o),k(()=>e(o).url))),we(D,"alt",(e(o),k(()=>e(o).name))),ce(D,1,`w-full h-full object-cover transition-transform duration-500 ${z()?"scale-100":"group-hover:scale-105"}`)},[()=>(I(g()),e(o),k(()=>g().includes(e(o).id)?"ring-4 ring-indigo-500 ring-offset-2":""))]),b("click",G,()=>O(e(o))),f(h,G)}),t(m),xe(1,m,()=>ke,()=>({duration:300})),f(x,m)},le=x=>{var m=qt(),h=a(m);gt(h,()=>e(l),Z=>{var s=Bt();E(()=>{we(s,"src",(I(r()),e(l),k(()=>r()[e(l)].url))),we(s,"alt",(I(r()),e(l),k(()=>r()[e(l)].name)))}),xe(1,s,()=>ke,()=>({duration:300})),f(Z,s)});var o=i(h,2),G=a(o);mt(G,{size:24}),t(o);var D=i(o,2),re=a(D);ht(re,{size:24}),t(D);var V=i(D,2),ve=a(V),ue=a(ve),S=a(ue),q=a(S,!0);t(S);var L=i(S,2);$e(L,5,()=>(I(r()),e(l),k(()=>r()[e(l)].tags)),Ge,(Z,s)=>{var n=Ot(),p=a(n,!0);t(n),E(()=>se(p,e(s))),f(Z,n)}),t(L);var W=i(L,2),pe=a(W,!0);t(W),t(ue);var U=i(ue,2),fe=a(U);{let Z=Ke(()=>(I(r()),e(l),k(()=>r()[e(l)].isFavorite?"fill-red-500 text-red-500":"")));Qe(fe,{size:20,get class(){return e(Z)}})}t(U),t(ve);var be=i(ve,2);$e(be,5,r,Ge,(Z,s,n)=>{var p=Vt(),H=a(p);t(p),E(()=>{ce(p,1,`relative w-16 h-16 shrink-0 rounded-lg overflow-hidden border-2 transition-all ${n===e(l)?"border-white opacity-100 scale-105":"border-transparent opacity-50 hover:opacity-80"}`),we(H,"src",(e(s),k(()=>e(s).url)))}),b("click",p,()=>v(l,n)),f(Z,p)}),t(be),t(V);var he=i(V,2),ne=a(he);Le(ne,{size:20}),t(he),t(m),E(()=>{o.disabled=e(l)===0,D.disabled=(e(l),I(r()),k(()=>e(l)===r().length-1)),se(q,(I(r()),e(l),k(()=>r()[e(l)].name))),se(pe,(I(r()),e(l),k(()=>r()[e(l)].description||"No description provided.")))}),b("click",o,P),b("click",D,X),b("click",U,()=>y("toggleFavorite",r()[e(l)].id)),b("click",he,()=>c("grid")),xe(1,m,()=>ke),f(x,m)};B(me,x=>{c()==="grid"?x(Q):x(le,!1)})}t(A),E(()=>{ce(u,1,`p-2 rounded-md transition-all ${c()==="grid"?"bg-white text-[#4A7C74] shadow-sm":"text-slate-400 hover:text-slate-600"}`),ce(J,1,`p-2 rounded-md transition-all ${c()==="carousel"?"bg-white text-[#4A7C74] shadow-sm":"text-slate-400 hover:text-slate-600"}`)}),b("click",u,()=>{c("grid"),y("viewChange","grid")}),b("click",J,()=>{c("carousel"),y("viewChange","carousel")}),f(w,A),Fe()}var Yt=_('<div class="flex items-center gap-2 animate-in slide-in-from-right-4 fade-in"><input type="text" placeholder="Enter tag..." class="bg-slate-800 border border-slate-600 rounded-lg px-3 py-1.5 text-sm text-white focus:outline-none focus:border-indigo-500 w-32 placeholder:text-slate-500" autoFocus/> <button class="p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white transition-colors"><!></button> <button class="p-1.5 hover:bg-slate-700 rounded-md text-slate-300 hover:text-white transition-colors"><!></button></div>'),Xt=_('<button class="flex items-center gap-2 px-3 py-2 hover:bg-slate-800 rounded-lg transition-colors text-sm font-medium"><!> <span>Tag</span></button>'),Jt=_('<div class="fixed bottom-8 left-1/2 -translate-x-1/2 bg-slate-900 text-white px-6 py-3 rounded-2xl shadow-2xl flex items-center gap-6 z-50 backdrop-blur-md bg-opacity-90 border border-slate-700/50"><div class="flex items-center gap-3 border-r border-slate-700 pr-6"><span class="bg-indigo-500 text-white text-xs font-bold px-2 py-1 rounded-full min-w-[24px] text-center"> </span> <span class="font-medium text-sm">Selected</span></div> <div class="flex items-center gap-2"><!> <button class="flex items-center gap-2 px-3 py-2 hover:bg-red-500/20 hover:text-red-400 rounded-lg transition-colors text-sm font-medium"><!> <span>Delete</span></button></div> <button class="ml-2 hover:bg-slate-800 p-2 rounded-full transition-colors" title="Clear Selection"><!></button></div>');function Qt(w,d){Ue(d,!1);let r=ye(d,"selectedCount",8,0);const c=Be();let g=F(!1),z=F("");function y(){e(z)&&(c("tag",e(z)),v(z,""),v(g,!1))}Ee();var l=Ne(),Y=Ae(l);{var O=X=>{var P=Jt(),M=a(P),A=a(M),j=a(A,!0);t(A),ee(2),t(M);var T=i(M,2),u=a(T);{var te=x=>{var m=Yt(),h=a(m);Re(h);var o=i(h,2),G=a(o);_t(G,{size:16}),t(o);var D=i(o,2),re=a(D);Le(re,{size:16}),t(D),t(m),Ie(h,()=>e(z),V=>v(z,V)),b("keydown",h,V=>V.key==="Enter"&&y()),b("click",o,y),b("click",D,()=>v(g,!1)),f(x,m)},J=x=>{var m=Xt(),h=a(m);wt(h,{size:16}),ee(2),t(m),b("click",m,()=>v(g,!0)),f(x,m)};B(u,x=>{e(g)?x(te):x(J,!1)})}var ae=i(u,2),me=a(ae);lt(me,{size:16}),ee(2),t(ae),t(T);var Q=i(T,2),le=a(Q);Le(le,{size:16}),t(Q),t(P),E(()=>se(j,r())),b("click",ae,()=>c("delete")),b("click",Q,()=>c("clear")),xe(3,P,()=>it,()=>({y:50,duration:300})),f(X,P)};B(Y,X=>{r()>0&&X(O)})}f(w,l),Fe()}var Zt=_(`<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/50 backdrop-blur-sm"><div class="bg-white rounded-2xl shadow-xl w-full max-w-md overflow-hidden"><div class="p-6 border-b border-slate-100 flex justify-between items-center"><h3 class="font-serif font-bold text-xl text-[#304743]"> </h3> <button class="text-slate-400 hover:text-slate-600"><!></button></div> <div class="p-6 space-y-4"><div class="space-y-2"><label class="text-xs font-bold uppercase text-slate-500 tracking-wider">Platform / Device Name</label> <input type="text" placeholder="e.g. iCloud, Google Photos, My Passport Drive" class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-[#4A7C74]/20 focus:border-[#4A7C74] outline-none font-medium"/></div> <div class="space-y-2"><label class="text-xs font-bold uppercase text-slate-500 tracking-wider">Access Instructions</label> <textarea placeholder="How do executors access this? e.g. 'Login details in password vault' or 'Physical drive in fireproof safe'" class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-[#4A7C74]/20 focus:border-[#4A7C74] outline-none font-medium h-24 resize-none"></textarea></div> <div class="space-y-2"><label class="text-xs font-bold uppercase text-slate-500 tracking-wider">Direct URL (Optional)</label> <div class="relative"><!> <input type="text" placeholder="https://..." class="w-full pl-10 pr-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-[#4A7C74]/20 focus:border-[#4A7C74] outline-none font-medium text-sm"/></div></div></div> <div class="p-6 bg-slate-50 border-t border-slate-100 flex justify-end gap-3"><button class="px-4 py-2 font-bold text-slate-500 hover:text-slate-700 text-sm">Cancel</button> <button class="px-6 py-2 bg-[#4A7C74] text-white rounded-lg font-bold text-sm shadow-sm hover:bg-[#3b635d] disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center gap-2"><!> Save Location</button></div></div></div>`),ea=_('<button class="flex items-center gap-2 px-4 py-2 bg-[#4A7C74] text-white rounded-lg font-bold text-sm hover:bg-[#3b635d] transition-colors shadow-sm"><!> Add Location</button>'),ta=_('<button class="flex items-center gap-2 px-4 py-2 bg-[#4A7C74] text-white rounded-lg font-bold text-sm hover:bg-[#3b635d] transition-colors shadow-sm"><!> Add Memories</button>'),aa=_('<div class="absolute top-8 left-8 z-10"><button> </button></div>'),ra=_('<div class="flex items-center justify-center h-full min-h-[400px]"><!></div>'),oa=_('<div><div class="bg-white rounded-2xl border border-slate-200 p-8 min-h-[400px] relative"><!> <!></div></div> <input type="file" multiple accept="image/*,video/*" class="hidden"/> <!>',1),ia=_('<div class="bg-white rounded-2xl border border-slate-200 p-8 min-h-[400px] flex items-center justify-center"><!></div>'),sa=_('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"><!> <button class="border-2 border-dashed border-slate-200 rounded-xl p-6 flex flex-col items-center justify-center text-slate-400 hover:border-[#4A7C74]/50 hover:bg-[#4A7C74]/5 hover:text-[#4A7C74] transition-all min-h-[160px] group"><div class="w-12 h-12 rounded-full bg-slate-50 group-hover:bg-white flex items-center justify-center mb-3 transition-colors"><!></div> <span class="font-bold text-sm">Add Another Location</span></button></div>'),la=_("<div><!></div>"),na=_(`<!> <div class="max-w-7xl mx-auto p-8 animate-in fade-in duration-500"><div class="text-center mb-12"><div class="inline-flex items-center justify-center p-4 bg-purple-100 text-purple-800 rounded-full mb-6 relative"><!> <div class="absolute -right-2 -top-2 bg-white p-1.5 rounded-full shadow-sm border border-slate-100 text-amber-500"><!></div></div> <h1 class="text-4xl font-serif font-bold text-[#304743] mb-4">Visual Memories</h1> <p class="text-lg text-slate-600 max-w-2xl mx-auto leading-relaxed">Preserve your most cherished photos and videos, and create a map to
            the rest of your digital legacy.</p></div> <div class="flex flex-col sm:flex-row justify-between items-center mb-8 gap-4 border-b border-slate-100 pb-4"><div class="flex p-1 bg-slate-100 rounded-full"><button>Curated Gallery</button> <button>External Archives</button></div> <!></div> <!></div>`,1);function Ha(w,d){Ue(d,!1);const r=()=>Xe(ze,"$visualMemories",g),c=()=>Xe(Pe,"$externalArchives",g),[g,z]=ut(),y=F(),l=F(),Y=F();let O=F("gallery"),X=F("grid"),P=F(),M=F(!1),A=F([]),j=F(!1),T=F(null),u=F({platform:"",locationDetails:"",accessUrl:""});function te(s=null){v(T,s),s?v(u,{platform:s.platform,locationDetails:s.locationDetails,accessUrl:s.accessUrl||""}):v(u,{platform:"",locationDetails:"",accessUrl:""}),v(j,!0)}function J(){!e(u).platform||!e(u).locationDetails||(e(T)?It(e(T).id,e(u)):Dt(e(u)),v(j,!1))}function ae(s){confirm("Remove this archive location?")&&jt(s)}function me(s){const n=s.target;!n.files||n.files.length===0||(Array.from(n.files).forEach(p=>{if(!p.type.startsWith("image/")&&!p.type.startsWith("video/"))return;const H=new FileReader;H.onload=oe=>{const K=oe.target?.result;zt({url:K,name:p.name.split(".")[0].replace(/-|_/g," "),type:p.type.startsWith("image/")?"photo":"video",tags:[],isFavorite:!1,size:p.size})},H.readAsDataURL(p)}),n.value="")}function Q(){e(P).click()}function le(){v(M,!e(M)),e(M)||v(A,[])}function x(){confirm(`Permanently delete ${e(Y)} memories?`)&&(St(e(A)),v(A,[]),v(M,!1))}function m(s){Lt(e(A),s.detail),v(A,[]),v(M,!1)}je(()=>r(),()=>{v(y,r().length>0)}),je(()=>c(),()=>{v(l,c().length>0)}),je(()=>e(A),()=>{v(Y,e(A).length)}),et(),Ee();var h=na(),o=Ae(h);{var G=s=>{var n=Zt(),p=a(n),H=a(p),oe=a(H),K=a(oe,!0);t(oe);var R=i(oe,2),ge=a(R);Le(ge,{size:20}),t(R),t(H);var de=i(H,2),ie=a(de),_e=i(a(ie),2);Re(_e),t(ie);var C=i(ie,2),$=i(a(C),2);ct($),t(C);var N=i(C,2),Me=i(a(N),2),Oe=a(Me);Se(Oe,{size:16,class:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400"});var Ve=i(Oe,2);Re(Ve),t(Me),t(N),t(de);var qe=i(de,2),We=a(qe),De=i(We,2),dt=a(De);yt(dt,{size:16}),ee(),t(De),t(qe),t(p),t(n),E(()=>{se(K,e(T)?"Edit Location":"Add Legacy Location"),De.disabled=(e(u),k(()=>!e(u).platform||!e(u).locationDetails))}),b("click",R,()=>v(j,!1)),Ie(_e,()=>e(u).platform,Ce=>Te(u,e(u).platform=Ce)),Ie($,()=>e(u).locationDetails,Ce=>Te(u,e(u).locationDetails=Ce)),Ie(Ve,()=>e(u).accessUrl,Ce=>Te(u,e(u).accessUrl=Ce)),b("click",We,()=>v(j,!1)),b("click",De,J),xe(1,p,()=>it,()=>({y:20})),xe(3,n,()=>ke),f(s,n)};B(o,s=>{e(j)&&s(G)})}var D=i(o,2),re=a(D),V=a(re),ve=a(V);Ze(ve,{size:48});var ue=i(ve,2),S=a(ue);nt(S,{size:16}),t(ue),t(V),ee(4),t(re);var q=i(re,2),L=a(q),W=a(L),pe=i(W,2);t(L);var U=i(L,2);{var fe=s=>{var n=ea(),p=a(n);He(p,{size:16}),ee(),t(n),b("click",n,()=>te()),f(s,n)},be=s=>{var n=ta(),p=a(n);He(p,{size:16}),ee(),t(n),b("click",n,Q),f(s,n)};B(U,s=>{e(O)==="archives"?s(fe):s(be,!1)})}t(q);var he=i(q,2);{var ne=s=>{var n=oa(),p=Ae(n),H=a(p),oe=a(H);{var K=C=>{var $=aa(),N=a($),Me=a(N,!0);t(N),t($),E(()=>{ce(N,1,`text-sm font-bold px-3 py-1.5 rounded-lg transition-colors ${e(M)?"bg-indigo-100 text-indigo-700":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`),se(Me,e(M)?"Done Selecting":"Select Items")}),b("click",N,le),f(C,$)};B(oe,C=>{e(y)&&C(K)})}var R=i(oe,2);{var ge=C=>{var $=ra(),N=a($);Je(N,{get icon(){return Ze},title:"Start Your Collection",description:"Upload your most precious photos and videos here. This is your curated 'Best Of' collection.",actionLabel:"Add Memories",onAdd:Q}),t($),f(C,$)},de=C=>{Kt(C,{get memories(){return r()},get viewMode(){return e(X)},set viewMode($){v(X,$)},get selectedIds(){return e(A)},set selectedIds($){v(A,$)},get isSelectionMode(){return e(M)},set isSelectionMode($){v(M,$)},$$events:{toggleFavorite:$=>Mt($.detail)},$$legacy:!0})};B(R,C=>{e(y)?C(de,!1):C(ge)})}t(H),t(p);var ie=i(p,2);vt(ie,C=>v(P,C),()=>e(P));var _e=i(ie,2);Qt(_e,{get selectedCount(){return e(Y)},$$events:{delete:x,tag:m,clear:()=>{v(A,[]),v(M,!1)}}}),xe(1,p,()=>ke),b("change",ie,me),f(s,n)},Z=s=>{var n=la(),p=a(n);{var H=K=>{var R=ia(),ge=a(R);Je(ge,{get icon(){return Se},title:"Map Your Digital Legacy",description:"Tell your executors where to find your photo libraries (e.g. iCloud, Google Photos, Hard Drives).",actionLabel:"Add Archive Location",onAdd:()=>te()}),t(R),f(K,R)},oe=K=>{var R=sa(),ge=a(R);$e(ge,1,c,C=>C.id,(C,$)=>{Ft(C,{get archive(){return e($)},$$events:{edit:N=>te(N.detail),delete:N=>ae(N.detail)}})});var de=i(ge,2),ie=a(de),_e=a(ie);He(_e,{size:24}),t(ie),ee(2),t(de),t(R),b("click",de,()=>te()),f(K,R)};B(p,K=>{e(l)?K(oe,!1):K(H)})}t(n),xe(1,n,()=>ke),f(s,n)};B(he,s=>{e(O)==="gallery"?s(ne):s(Z,!1)})}t(D),E(()=>{ce(W,1,`px-6 py-2 rounded-full font-bold text-sm transition-all ${e(O)==="gallery"?"bg-white text-[#4A7C74] shadow-sm":"text-slate-500 hover:text-[#4A7C74]"}`),ce(pe,1,`px-6 py-2 rounded-full font-bold text-sm transition-all ${e(O)==="archives"?"bg-white text-[#4A7C74] shadow-sm":"text-slate-500 hover:text-[#4A7C74]"}`)}),b("click",W,()=>v(O,"gallery")),b("click",pe,()=>v(O,"archives")),f(w,h),Fe(),z()}export{Ha as component};
