import{f as _,e as G,a as f,c as dt,t as lt}from"../chunks/CI19bRDX.js";import{i as Ke}from"../chunks/CeYVVThO.js";import{o as nt}from"../chunks/Cc88vFxA.js";import{p as Qe,c as r,r as t,s as a,a4 as J,u as l,t as M,g as e,a as Ve,l as je,b as vt,m as K,d as b,n as E,f as ct,i as Ge,k as Q}from"../chunks/CC-cBgEA.js";import{s as m}from"../chunks/DtWQG8q5.js";import{i as D}from"../chunks/oYNvDJv2.js";import{e as ce,i as pe,t as De}from"../chunks/B0hQvWV2.js";import{a as Le,r as fe,d as Be}from"../chunks/CPE7ojsi.js";import{b as me}from"../chunks/DubRPcAg.js";import{f as Me}from"../chunks/B37JQBsy.js";import{p as He}from"../chunks/BHjHH8n1.js";import{P as Ue}from"../chunks/75c7i7wO.js";import{G as Fe}from"../chunks/HIzyW7Q0.js";import{S as pt}from"../chunks/DsZ2n2Vk.js";import{g as xt,s as bt}from"../chunks/lbPixqMI.js";import{P as Oe}from"../chunks/3NDLYjDg.js";import{U as ft}from"../chunks/Dz1lDVRx.js";import{C as qe}from"../chunks/wGOTG8UU.js";import{C as mt}from"../chunks/3ZKlfXA3.js";import{S as ut}from"../chunks/Bdg_GsKM.js";import{C as _t}from"../chunks/CHY625bX.js";import{M as Je}from"../chunks/BcJ4QJwG.js";import{T as gt}from"../chunks/BtEVtpAO.js";import{U as ht}from"../chunks/B6MkXCxC.js";var yt=_('<div class="mt-2 text-xs text-amber-600 bg-amber-50 px-2 py-1 rounded inline-block border border-amber-100"><strong>Note:</strong> </div>'),wt=_("<button> </button>"),Ct=_('<div class="bg-white p-4 rounded-xl border border-slate-200 shadow-sm flex flex-col md:flex-row gap-4 items-start md:items-center justify-between group transition-all hover:border-indigo-300"><div class="flex items-center gap-4"><div class="w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center font-bold text-slate-600 sticky"> </div> <div><h3 class="font-bold text-slate-800"> </h3> <div class="text-xs text-slate-500 flex flex-wrap gap-2"><span class="font-semibold"> </span> <span class="text-slate-300">|</span> <span class="flex items-center gap-1"><!> </span></div> <!></div></div> <div class="flex items-center gap-2 w-full md:w-auto overflow-x-auto"></div></div>');function Ie(ue,re){Qe(re,!1);let n=He(re,"contact",8),V=He(re,"updateStatus",8);const W=["Pending","Called","LeftMsg","Notified","Unreachable"];Ke();var F=Ct(),s=r(F),y=r(s),i=r(y,!0);t(y);var X=a(y,2),ae=r(X),ie=r(ae,!0);t(ae);var oe=a(ae,2),B=r(oe),se=r(B,!0);t(B);var Y=a(B,4),de=r(Y);Ue(de,{size:10});var _e=a(de);t(Y),t(oe);var le=a(oe,2);{var ge=S=>{var g=yt(),T=a(r(g));t(g),M(()=>m(T,` ${J(n()),l(()=>n().notes)??""}`)),f(S,g)};D(le,S=>{J(n()),l(()=>n().notes)&&S(ge)})}t(X),t(s);var Z=a(s,2);ce(Z,5,()=>W,pe,(S,g)=>{var T=wt(),he=r(T,!0);t(T),M(()=>{Le(T,1,`px-3 py-1.5 rounded-lg text-xs font-bold border transition-all whitespace-nowrap
                ${J(n()),e(g),l(()=>n().notificationStatus===e(g)?"bg-slate-800 text-white border-slate-800":"bg-white text-slate-400 border-slate-200 hover:border-slate-400")??""}`),m(he,e(g)==="LeftMsg"?"Left Msg":e(g))}),G("click",T,()=>V()(n().id,e(g))),f(S,T)}),t(Z),t(F),M(S=>{m(i,S),m(ie,(J(n()),l(()=>n().name))),m(se,(J(n()),l(()=>n().relation))),m(_e,` ${J(n()),l(()=>n().phone)??""}`)},[()=>(J(n()),l(()=>n().name.charAt(0)))]),f(ue,F),Ve()}var St=_('<div class="max-w-3xl mx-auto space-y-4"><!> <!> <!> <div class="flex justify-center mt-4"><button class="text-sm font-bold text-[#4A7C74] hover:bg-[#4A7C74]/5 px-4 py-2 rounded-lg transition-colors flex items-center gap-2"><!> Create First Contact</button></div></div>'),kt=_('<div class="text-center py-6 text-slate-400 italic bg-slate-50 rounded-xl border border-dashed border-slate-200">No immediate contacts set.</div>'),Nt=_('<div class="text-center py-6 text-slate-400 italic bg-slate-50 rounded-xl border border-dashed border-slate-200">No Tier 2 contacts found.</div>'),zt=_('<div class="text-center py-6 text-slate-400 italic bg-slate-50 rounded-xl border border-dashed border-slate-200">No Tier 3 contacts found.</div>'),Tt=_(`<div class="space-y-8 max-w-4xl mx-auto"><div class="bg-indigo-50 p-4 rounded-xl text-indigo-800 text-sm flex gap-3 border border-indigo-100"><!> <p><strong>Caller Strategy:</strong> This specific order is
                        designed to prevent bad news from spreading via social media
                        before key people are informed directly.</p></div> <div class="space-y-4"><div class="flex items-center gap-2 text-rose-600 border-b border-rose-100 pb-2"><!> <h2 class="font-bold text-lg">Tier 1: Immediate Notification</h2> <span class="text-xs bg-rose-100 text-rose-700 px-2 py-0.5 rounded-full">Call Now</span></div> <!> <!></div> <div class="space-y-4 pt-4"><div class="flex items-center gap-2 text-orange-600 border-b border-orange-100 pb-2"><!> <h2 class="font-bold text-lg">Tier 2: Same Day (Inner Circle)</h2></div> <!> <!></div> <div class="space-y-4 pt-4"><div class="flex items-center gap-2 text-slate-600 border-b border-slate-100 pb-2"><!> <h2 class="font-bold text-lg">Tier 3: Service Notice</h2></div> <!> <!></div></div>`),Pt=_('<div class="flex items-center gap-2 bg-slate-50 p-2 rounded-lg"><!> </div>'),jt=_('<div class="flex items-center gap-2 bg-slate-50 p-2 rounded-lg"><!> </div>'),Dt=_('<div class="bg-white p-6 rounded-xl border border-slate-200 shadow-sm hover:border-indigo-300 transition-all group relative"><button class="absolute top-4 right-4 text-slate-300 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity"><!></button> <div class="flex items-center gap-3 mb-4"><div class="w-12 h-12 bg-slate-100 rounded-full flex items-center justify-center text-slate-500"><!></div> <div><h3 class="font-bold text-slate-800 text-lg"> </h3> <div class="text-xs text-slate-500 font-bold uppercase flex items-center gap-1"> <!></div></div></div> <div class="space-y-2 text-sm text-slate-600"><!> <!></div> <div class="mt-4 pt-4 border-t border-slate-100 flex justify-between items-center"><span class="text-xs font-bold px-2 py-1 rounded bg-slate-100 text-slate-500"> </span></div></div>'),Mt=_('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),Ft=_('<div class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm"><div class="bg-white rounded-2xl shadow-xl w-full max-w-lg overflow-hidden max-h-[90vh] overflow-y-auto"><div class="p-6 border-b border-gray-100 bg-gray-50 flex justify-between items-center"><h3 class="font-serif font-bold text-2xl text-slate-800">New Contact</h3> <button class="text-gray-400 hover:text-gray-600">Close</button></div> <div class="p-6 space-y-4"><input class="w-full px-4 py-3 rounded-xl border border-gray-200" placeholder="Full Name"/> <div class="grid grid-cols-2 gap-4"><input class="w-full px-4 py-3 rounded-xl border border-gray-200" placeholder="Relation (e.g. Spouse)"/> <select class="w-full px-4 py-3 rounded-xl border border-gray-200 bg-white"><option>Family</option><option>Friend</option><option>Medical</option><option>Legal</option><option>Other</option></select></div> <div class="grid grid-cols-2 gap-4"><input class="w-full px-4 py-3 rounded-xl border border-gray-200" placeholder="Phone"/> <input class="w-full px-4 py-3 rounded-xl border border-gray-200" placeholder="Email"/></div> <div class="bg-indigo-50 p-4 rounded-xl border border-indigo-100"><label for="contact-tier" class="block text-xs font-bold uppercase text-indigo-700 mb-2">Notification Priority</label> <select id="contact-tier" class="w-full px-4 py-3 rounded-xl border border-indigo-200 bg-white"><option>Tier 1: Immediate (Critical)</option><option>Tier 2: Same Day (Inner Circle)</option><option>Tier 3: Service Notice (Extended)</option><option>No Notification Needed</option></select> <p class="text-xs text-indigo-500 mt-2">Determines the order for the Executor call list.</p></div> <div class="space-y-1"><!></div> <button class="w-full py-4 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800">Save Contact</button></div></div></div>'),It=_('<div class="max-w-6xl mx-auto p-6 md:p-8 animate-in fade-in duration-500"><div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-8"><div class="flex items-center gap-4"><div class="p-3 bg-rose-100 text-rose-600 rounded-xl shadow-sm"><!></div> <div><h1 class="font-serif font-bold text-3xl text-slate-900">Connections & Notifications</h1> <p class="text-slate-500">Manage your network and define the "Call List" strategy.</p></div></div> <button class="px-5 py-2.5 bg-slate-900 text-white font-bold rounded-xl shadow-lg hover:bg-slate-800 transition-all flex items-center gap-2"><!> Add Contact</button></div> <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-10"><div class="bg-white p-5 rounded-2xl border border-slate-200 shadow-sm flex items-center justify-between"><div><div class="text-xs font-bold uppercase text-slate-400">Total Network</div> <div class="text-2xl font-bold text-slate-800"> </div></div> <!></div> <div class="bg-rose-50 p-5 rounded-2xl border border-rose-100 shadow-sm flex items-center justify-between"><div><div class="text-xs font-bold uppercase text-rose-400">Pending Immediate</div> <div class="text-2xl font-bold text-rose-700"> </div></div> <!></div> <div class="bg-green-50 p-5 rounded-2xl border border-green-100 shadow-sm flex items-center justify-between"><div><div class="text-xs font-bold uppercase text-green-600">Notifications Confirmed</div> <div class="text-2xl font-bold text-green-700"> </div></div> <!></div></div> <div class="flex gap-2 mb-8 border-b border-slate-200 pb-1"><button>The Call List</button> <button>Full Directory</button></div> <div class="min-h-[500px]"><!></div> <!></div>');function or(ue,re){Qe(re,!1);const n=K(),V=K(),W=K();let F=K("call-list"),s=K([]),y=K(!1),i=K({role:"Family",tier:"2_SameDay",notificationStatus:"Pending"});nt(()=>{b(s,xt("contacts",[]))});function X(){bt("contacts",e(s))}function ae(){e(i).name&&(b(s,[...e(s),{id:crypto.randomUUID(),name:e(i).name,role:e(i).role||"Friend",relation:e(i).relation||"",phone:e(i).phone||"",email:e(i).email||"",tier:e(i).tier||"3_Service",notificationStatus:"Pending",notes:e(i).notes||""}]),X(),b(y,!1),b(i,{role:"Family",tier:"2_SameDay",notificationStatus:"Pending"}))}function ie(o,p){b(s,e(s).map(k=>k.id===o?{...k,notificationStatus:p}:k)),X()}function oe(o){confirm("Remove this contact?")&&(b(s,e(s).filter(p=>p.id!==o)),X())}je(()=>e(s),()=>{b(n,e(s).filter(o=>o.tier==="1_Immediate"))}),je(()=>e(s),()=>{b(V,e(s).filter(o=>o.tier==="2_SameDay"))}),je(()=>e(s),()=>{b(W,e(s).filter(o=>o.tier==="3_Service"))}),vt(),Ke();var B=It(),se=r(B),Y=r(se),de=r(Y),_e=r(de);Ue(_e,{size:32}),t(de),E(2),t(Y);var le=a(Y,2),ge=r(le);Oe(ge,{size:18}),E(),t(le),t(se);var Z=a(se,2),S=r(Z),g=r(S),T=a(r(g),2),he=r(T,!0);t(T),t(g);var We=a(g,2);ft(We,{class:"text-slate-200",size:32}),t(S);var ye=a(S,2),we=r(ye),$e=a(r(we),2),Xe=r($e,!0);t($e),t(we);var Ye=a(we,2);qe(Ye,{class:"text-rose-300",size:32}),t(ye);var Ae=a(ye,2),Ce=r(Ae),Re=a(r(Ce),2),Ze=r(Re,!0);t(Re),t(Ce);var et=a(Ce,2);mt(et,{class:"text-green-300",size:32}),t(Ae),t(Z);var Se=a(Z,2),ke=r(Se),Ee=a(ke,2);t(Se);var Ne=a(Se,2),tt=r(Ne);{var rt=o=>{var p=St(),k=r(p);Fe(k,{type:"Contact",onClick:()=>b(y,!0)});var $=a(k,2);Fe($,{type:"Contact",onClick:()=>b(y,!0)});var ee=a($,2);Fe(ee,{type:"Contact",onClick:()=>b(y,!0)});var w=a(ee,2),x=r(w),N=r(x);Oe(N,{size:14}),E(),t(x),t(w),t(p),G("click",x,()=>b(y,!0)),f(o,p)},at=o=>{var p=dt(),k=ct(p);{var $=w=>{var x=Tt(),N=r(x),d=r(N);ut(d,{class:"shrink-0",size:20}),E(2),t(N);var I=a(N,2),C=r(I),H=r(C);qe(H,{size:20}),E(4),t(C);var L=a(C,2);{var U=c=>{var u=kt();f(c,u)};D(L,c=>{e(n),l(()=>e(n).length===0)&&c(U)})}var O=a(L,2);ce(O,1,()=>e(n),pe,(c,u)=>{Ie(c,{get contact(){return e(u)},updateStatus:ie})}),t(I);var P=a(I,2),z=r(P),q=r(z);_t(q,{size:20}),E(2),t(z);var A=a(z,2);{var R=c=>{var u=Nt();f(c,u)};D(A,c=>{e(V),l(()=>e(V).length===0)&&c(R)})}var ne=a(A,2);ce(ne,1,()=>e(V),pe,(c,u)=>{Ie(c,{get contact(){return e(u)},updateStatus:ie})}),t(P);var te=a(P,2),v=r(te),xe=r(v);Je(xe,{size:20}),E(2),t(v);var be=a(v,2);{var ze=c=>{var u=zt();f(c,u)};D(be,c=>{e(W),l(()=>e(W).length===0)&&c(ze)})}var Te=a(be,2);ce(Te,1,()=>e(W),pe,(c,u)=>{Ie(c,{get contact(){return e(u)},updateStatus:ie})}),t(te),t(x),De(1,x,()=>Me),f(w,x)},ee=w=>{var x=Mt();ce(x,5,()=>e(s),pe,(N,d)=>{var I=Dt(),C=r(I),H=r(C);gt(H,{size:16}),t(C);var L=a(C,2),U=r(L),O=r(U);ht(O,{size:24}),t(U);var P=a(U,2),z=r(P),q=r(z,!0);t(z);var A=a(z,2),R=r(A),ne=a(R);{var te=h=>{var j=lt();M(()=>m(j,`â€¢ ${e(d),l(()=>e(d).relation)??""}`)),f(h,j)};D(ne,h=>{e(d),l(()=>e(d).relation)&&h(te)})}t(A),t(P),t(L);var v=a(L,2),xe=r(v);{var be=h=>{var j=Pt(),ve=r(j);Ue(ve,{size:14,class:"text-slate-400"});var Pe=a(ve);t(j),M(()=>m(Pe,` ${e(d),l(()=>e(d).phone)??""}`)),f(h,j)};D(xe,h=>{e(d),l(()=>e(d).phone)&&h(be)})}var ze=a(xe,2);{var Te=h=>{var j=jt(),ve=r(j);Je(ve,{size:14,class:"text-slate-400"});var Pe=a(ve);t(j),M(()=>m(Pe,` ${e(d),l(()=>e(d).email)??""}`)),f(h,j)};D(ze,h=>{e(d),l(()=>e(d).email)&&h(Te)})}t(v);var c=a(v,2),u=r(c),st=r(u,!0);t(u),t(c),t(I),M(h=>{m(q,(e(d),l(()=>e(d).name))),m(R,`${e(d),l(()=>e(d).role)??""} `),m(st,h)},[()=>(e(d),l(()=>e(d).tier.split("_")[1]))]),G("click",C,()=>oe(e(d).id)),f(N,I)}),t(x),De(1,x,()=>Me),f(w,x)};D(k,w=>{e(F)==="call-list"?w($):w(ee,!1)},!0)}f(o,p)};D(tt,o=>{e(s),l(()=>e(s).length===0)?o(rt):o(at,!1)})}t(Ne);var it=a(Ne,2);{var ot=o=>{var p=Ft(),k=r(p),$=r(k),ee=a(r($),2);t($);var w=a($,2),x=r(w);fe(x);var N=a(x,2),d=r(N);fe(d);var I=a(d,2);M(()=>{e(i),Ge(()=>{})}),t(N);var C=a(N,2),H=r(C);fe(H);var L=a(H,2);fe(L),t(C);var U=a(C,2),O=a(r(U),2);M(()=>{e(i),Ge(()=>{})});var P=r(O);P.value=P.__value="1_Immediate";var z=a(P);z.value=z.__value="2_SameDay";var q=a(z);q.value=q.__value="3_Service";var A=a(q);A.value=A.__value="4_DNR",t(O),E(2),t(U);var R=a(U,2),ne=r(R);pt(ne,{context:"contact",placeholder:"Private notes for the caller (e.g. 'Be gentle, they are fragile')",label:"Caller Notes",minHeight:"100px",get value(){return e(i).notes},set value(v){Q(i,e(i).notes=v)},$$legacy:!0}),t(R);var te=a(R,2);t(w),t(k),t(p),G("click",ee,()=>b(y,!1)),me(x,()=>e(i).name,v=>Q(i,e(i).name=v)),me(d,()=>e(i).relation,v=>Q(i,e(i).relation=v)),Be(I,()=>e(i).role,v=>Q(i,e(i).role=v)),me(H,()=>e(i).phone,v=>Q(i,e(i).phone=v)),me(L,()=>e(i).email,v=>Q(i,e(i).email=v)),Be(O,()=>e(i).tier,v=>Q(i,e(i).tier=v)),G("click",te,ae),De(3,p,()=>Me),f(o,p)};D(it,o=>{e(y)&&o(ot)})}t(B),M((o,p)=>{m(he,(e(s),l(()=>e(s).length))),m(Xe,o),m(Ze,p),Le(ke,1,`px-5 py-2.5 font-bold text-sm rounded-t-xl transition-all border-b-2
            ${e(F)==="call-list"?"border-rose-500 text-rose-600 bg-rose-50":"border-transparent text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`),Le(Ee,1,`px-5 py-2.5 font-bold text-sm rounded-t-xl transition-all border-b-2
            ${e(F)==="directory"?"border-indigo-500 text-indigo-600 bg-indigo-50":"border-transparent text-slate-500 hover:text-slate-700 hover:bg-slate-50"}`)},[()=>(e(n),l(()=>e(n).filter(o=>["Pending","Called","LeftMsg"].includes(o.notificationStatus)).length)),()=>(e(s),l(()=>e(s).filter(o=>o.notificationStatus==="Notified").length))]),G("click",le,()=>b(y,!0)),G("click",ke,()=>b(F,"call-list")),G("click",Ee,()=>b(F,"directory")),f(ue,B),Ve()}export{or as component};
